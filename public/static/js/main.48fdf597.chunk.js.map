{"version":3,"sources":["reportWebVitals.js","util/AuthRoute.js","hooks/useForm/index.js","Redux/actionTypes.js","util/history.js","components/LoginModal/index.js","components/RegisterModal/index.js","components/LogoutButton/index.js","components/Navbar/NavbarElements.js","components/Navbar/index.js","components/Layout/LayoutElements.js","notifications/components/ConfirmRequestButton/index.js","notifications/components/LeaveMatualAccountButton/index.js","pages/NotificationsPage/index.js","components/Layout/index.js","pages/HomePage/components/Header.js","pages/HomePage/components/ImageCard.js","pages/HomePage/components/Info.js","pages/HomePage/hook/useWindowPosition.js","pages/HomePage/index.js","myAccounts/components/ModalMyAccounts/index.js","myAccounts/components/UpdateMyAccountModal/index.js","myAccounts/components/MoreOptionsButton/DeleteOptionAccount/index.js","myAccounts/components/MoreOptionsButton/UpdateOptionAccount/index.js","myAccounts/components/MoreOptionsButton/index.js","pages/MyAccountsPage/index.js","matualAccounts/components/ModalMatualAccount/index.js","matualAccounts/components/MoreOptionsButton/DeleteOptionAccount/index.js","matualAccounts/components/MoreOptionsButton/UpdateOptionAccount/index.js","matualAccounts/components/MoreOptionsButton/RemoveParticipant/index.js","matualAccounts/components/MoreOptionsButton/index.js","matualAccounts/components/UpdateMatualAccountModal/ifArraysAreEqualFunc.js","matualAccounts/components/UpdateMatualAccountModal/index.js","matualAccounts/components/ShowAccountFreindsButton/index.js","pages/MatualAccountsPage/index.js","components/ModalProfile/index.js","pages/ProfilePage/index.js","components/UserTabs/Index.js","myAccounts/components/SearchAccountsButton/index.js","matualAccounts/components/SearchMatualAccountsButton/index.js","pages/UserPage/Index.js","pages/PageNotFound/index.js","util/spendingEarningList.js","myAccounts/components/AddItemModal/index.js","myAccounts/components/UpdateItemModal/index.js","myAccounts/components/SingleAccountStatisButton/index.js","util/lightboxConfig.js","myAccounts/components/AddItemImageButton/index.js","util/assets/no-image.svg","myAccounts/components/MoreOptionsButtonItem/DeleteOptionItem/index.js","myAccounts/components/MoreOptionsButtonItem/UpdateOptionItem/index.js","myAccounts/components/MoreOptionsButtonItem/RemoveImageOptionItem/index.js","myAccounts/components/MoreOptionsButtonItem/index.js","myAccounts/components/SingleItemAccount/index.js","myAccounts/components/ImageModal/index.js","myAccounts/components/SearchItemsButton/index.js","pages/SingleAccountPage/index.js","matualAccounts/components/AddItemModal/index.js","matualAccounts/components/UpdateItemModal/index.js","matualAccounts/components/SingleAccountStatisButton/index.js","matualAccounts/components/AddItemImageButton/index.js","matualAccounts/components/MoreOptionsButtonItem/DeleteOptionItem/index.js","matualAccounts/components/MoreOptionsButtonItem/UpdateOptionItem/index.js","matualAccounts/components/MoreOptionsButtonItem/RemoveImageOptionItem/index.js","matualAccounts/components/MoreOptionsButtonItem/index.js","matualAccounts/components/SingleItemMatualAccount/index.js","matualAccounts/components/ImageModal/index.js","matualAccounts/components/SearchMatualItemsButton/index.js","pages/SingleMatualAccountPage/index.js","components/SplashScreen/index.js","components/SplashScreen/SpalshElements.js","App.js","Redux/reducers/userReducer.js","Redux/reducers/uiReducer.js","Redux/reducers/index.js","Redux/Store.js","ApolloProvider.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","AuthRoute","Component","component","rest","console","log","document","cookie","split","userf","useSelector","state","userReducer","isAuthenticated","render","props","localStorage","getItem","to","useForm","callback","initialState","useState","values","setValues","onChange","event","target","name","value","onSubmit","preventDefault","SET_USER","SET_USER_LOGOUT","SET_AddItem_Modal_Open","SET_UpdateItem_Modal_Open","SET_Current_Account_Ui","SET_UpdateAccount_Modal_Open","SET_LightBoxImage","SET_NotificationsCount","createBrowserHistory","useStyles","makeStyles","theme","margin","spacing","loader","position","color","title","textAlign","btnLogin","phone","marginLeft","breakpoints","down","marginTop","marginBottom","HeadLine","background","fontFamily","borderRadius","fullWidth","height","width","maxWidth","maxHeight","DialogTitle","withStyles","root","padding","closeButton","right","top","palette","grey","children","classes","onClose","other","disableTypography","className","Typography","variant","IconButton","aria-label","onClick","DialogActions","MuiDialogActions","withRouter","dispatch","useDispatch","open","window","location","pathname","errors","setErrors","loginUser","username","password","useMutation","LOGIN_USER","update","proxy","userData","data","login","type","payload","setItem","id","href","onError","err","graphQLErrors","extensions","exception","variables","loading","React","showPassword","FormValues","Button","Link","style","borderColor","Dialog","paper","history","goBack","aria-labelledby","noValidate","DialogContent","FormControl","TextField","label","error","helperText","autoFocus","InputProps","startAdornment","InputAdornment","clsx","textField","autoComplete","endAdornment","onMouseDown","general","CircularProgress","backgroundColor","gql","CustomizedDialogs","addUser","email","confirmPassword","REGISTER_USER","_","register","ConfirmPassword","showConfirmPassword","handleMouseDownPassword","Index","USER_LOG_OUT","clear","push","logOut","logOutButton","Nav","styled","nav","active","click","NavbarContainer","div","NavTitle","h2","MobileIcon","ul","Overlay","NavMenu","LinkStyle","LogoutLinkStyle","HelloToUser","h3","display","customBadge","notification","light","main","transform","customFabBadge","dismiss","user","userDetails","currentAccount","uiReducer","getCurrentAccountUi","badgeCount","NotificationsCount","Badge","params","useParams","setClick","scroll","USER_SAW_NTF","refetchQueries","query","GET_NOTIFICATIONS","onCompleted","userSawNTF","handleOnclick","__typename","fontSize","htmlColor","accountId","textDecoration","badgeContent","max","invisible","badge","anchorOrigin","vertical","horizontal","RegisterModal","LoginModal","Footer","footer","ConfirmRequest","setLoading","userId","CONFIRM_REQUEST","GET_USER_MATUAL_ACCOUNTS","confirmRequest","ListItem","justifyContent","button","e","RemoveRequest","REMOVE_REQUEST","removeRequest","size","appBar","flex","Fab","bottom","zIndex","stasWrapper","up","alignItems","text","list","subheader","grow","flexGrow","fabButton","left","inline","wordWrap","createdAt","body","AcceptNotificationUser","accountTitle","updatedAt","setUser","useQuery","GET_ALL_USERS","getAllUsers","filter","ListItemAvatar","Avatar","alt","src","profileImageUrl","ListItemText","primary","secondary","Fragment","dayjs","parseInt","fromNow","Transition","forwardRef","ref","Slide","direction","locale","hebConf","extend","relativeTime","filteredNtf","setFilterdNtf","getNotifications","countingNotifications","useSubscription","NOTIFICATIONS","onSubscriptionData","subscriptionData","addRequestToList","notificationsCount","forEach","item","seen","includes","isConfirmed","length","onEscapeKeyDown","fullScreen","TransitionComponent","AppBar","dir","Toolbar","edge","CssBaseline","Paper","square","List","sort","a","b","map","senderName","senderImageUrl","from","Divider","LeaveMatualAccountButton","Navbar","Date","getFullYear","NotificationsPage","bg","appColor","backgroundSize","appbarWrapper","appbarTitle","icon","colorText","container","goDown","lineInfo","fontWeight","Header","checked","setChecked","useEffect","Collapse","in","timeout","collapsedHeight","smooth","media","desc","ImageCard","place","Card","CardMedia","image","imageUrl","CardContent","gutterBottom","description","minHeight","images","flexDirection","Info","animation","setAnimation","useLayoutEffect","updatePosition","offetSetHeight","getElementById","offsetHeight","pageYOffset","addEventListener","removeEventListener","useWindowPosition","places","time","backgroundRepeat","Layout","wrapper","boxShadow","shadows","only","useFormStyles","borderTopLeftRadius","borderTopRightRadius","SimpleSlide","FormClasses","ModalIsOpen","input","useRef","createAccount","CREATE_ACCOUNT","result","readQuery","GET_USER_ACCOUNTS","getUserAccounts","writeQuery","keepMounted","aria-describedby","DialogContentText","inputRef","disabled","trim","accountDetails","UpdateAccountModalIsOpen","setTitle","updateAccount","UPDATE_ACCOUNT","OptionBar","Delete","Update","dialogTitle","setOpen","DELETE_ACCOUNT","deleteAccount","MenuItem","anchorRef","handleClose","current","contains","handleListKeyDown","key","prevOpen","focus","aria-controls","undefined","aria-haspopup","Popper","anchorEl","role","transition","disablePortal","TransitionProps","placement","Grow","transformOrigin","ClickAwayListener","onClickAway","MenuList","autoFocusItem","onKeyDown","NoAccountsDisplay","wordBreak","opacity","border","focusVisible","imageButton","common","white","imageSrc","backgroundPosition","imageBackdrop","black","transitions","create","imageTitle","imageMarked","flexWrap","Grid","account","xs","sm","ButtonBase","focusRipple","focusVisibleClassName","backgroundImage","Number","toDateString","checkedIcon","useLazyQuery","selectedFreinds","setSelectedFreinds","createMatualAccount","selectedFreindsId","f","CREATE_MATUAL_ACCOUNT","freinds","getUserMatualAccounts","options","setOptions","users","Autocomplete","multiple","disableCloseOnSelect","minWidth","onOpen","groupBy","option","getOptionSelected","val","res","getOptionLabel","renderOption","selected","Checkbox","marginRight","renderTags","tagValue","getTagProps","index","Chip","avatar","renderInput","multiline","rowsMax","onsubmit","setOpenModal","LEAVE_ACCOUNT","LeaveAccount","IsUserOwner","areEqual","arr1","arr2","n","Map","count","i","get","set","has","MembersInAccount","setMembersInAccount","members","AccountMembers","m","MembersAlreadyInAccount","UpdateAccountFeild","FreindIcons","customAvatars","cursor","usersConfirmedArray","usersNotConfirmedArray","usersInAccount","setUsersInAccount","usersNotInAccount","setUsersNotInAccount","getState","membersData","findMembersInAccount","find","member","findMembersNotInAccount","getCurrentUsersAccount","AvatarGroup","freind","Tooltip","createdBySubtitle","lineHeight","subscribeToMore","unsubscribe","ITEM_CHANGED_SUBS","updateQuery","prev","newList","itemChangedSubs","Object","assign","getUserMatualAccount","ACCOUNT_CHANGED_SUBS","updatedAccounts","accountChangedSubs","filteredUpdatedAccounts","owner","reverse","ShowAccountFreindsButton","GridListTileBar","subtitle","whiteSpace","textOverflow","overflow","ownerName","FAbEdit","setProfileImage","fileSelected","setFileSelected","imageProfile","setImageProfile","currentImageProfile","formData","FormData","append","Axios","post","secure_url","catch","overlap","accept","files","htmlFor","profileImage","UpdateUserCallback","UPDATE_USER_PROFILE","GET_USER_STATE","UpdateProfileCallback","UserDetails","UserDetailsText","overlay","ImageAvatars","TabContainer","TabContainerProfile","overflowY","searchFabs","fab","fabGreen","green","Addicon","paddingTop","Tab","SwipeableViews","withTheme","setValue","themeColors","useTheme","accountUI","transitionDuration","enter","duration","enteringScreen","exit","leavingScreen","fabs","AddIcon","cssColor","iconFullPadding","Tabs","TabIndicatorProps","axis","onChangeIndex","getUrltab","Zoom","transitionDelay","unmountOnExit","disableFocusRipple","CssTextField","borderBottomColor","search","shape","searchIcon","curser","inputRoot","inputInput","paddingLeft","closeIndicator","SearchField","borderWidth","SearchAppBar","searchQuery","setSearchQuery","blur","filterdTitle","v","findIndex","t","SEARCH_ACCOUNTS","searchAccount","clearIndicator","popupIndicatorOpen","placeholder","el","onSelect","searchMatualAccount","itemsList","year","NumberFormatCustom","getInputRef","onValueChange","thousandSeparator","isNumericString","prefix","scrollToBottom","firstLetter","toUpperCase","test","radioValue","setRadioValue","category","setCategory","numberformat","setNumberformat","addItem","amount","ADD_ITEM","Math","abs","RadioGroup","row","FormControlLabel","labelPlacement","control","Radio","localeCompare","onInputChange","inputValue","clearOnEscape","parseFloat","inputComponent","isNaN","radioButton","itemDetails","UpdateItemModalIsOpen","itemId","updateItem","CheckRadioValue","sign","UPDATE_ITEM","readOnly","onchange","checkUpdateFormValid","checkIfFeildsChanged","datagridEarning","datagridSpending","PieChart","cols","matches","useMediaQuery","scale","interactions","autoFit","radius","showTitle","visible","adjust","lineWidth","stroke","offset","content","percent","toFixed","FullScreenDialog","totalSpending","totalEarning","FormatOptions","accountData","getSpendingSumDuplicateTitleData","array2","this","getEarningSumDuplicateDataGrid","date","getSpendingSumDuplicateDataGrid","getEarningSumDuplicateTitleData","array3","formatter","columns","field","headerName","align","headerAlign","valueFormatter","valueFormatted","toLocaleDateString","toLocaleString","hide","rows","imageMutation","setImageMutation","getUsername","ADD_ITEM_IMAGE_MUTATION","imageURL","GET_USER_ACCOUNT","updateItemImage","hidden","DELETE_ITEM","deleteItem","DELETE_ITEM_IMAGE_MUTATION","deleteItemImage","replace","details","cover","controls","paddingBottom","itemCard","MainCard","spending","earning","column1","column2","ItemsWrapper","customBadgePlus","customBadgeMinus","addImageBadge","amountDetail","descriptionDetail","lineClamp","boxOrient","createdAtDetail","updatedAtDetail","titleDetail","FabWrapper","borderTop","borderRight","NoImage","AddItemImageButton","format","ImageUrl","LightBoxImage","mainSrc","onCloseRequest","FabSearch","accountIdReducer","SEARCH_ITEMS","getUserAccount","searchItem","disableRipple","bgImage","backgroundBlendMode","SumEarningstas","SumSpendingstas","match","getSumEearning","reduce","acc","isInteger","getSumSpending","animateScroll","containerId","delay","Container","fixed","showZero","getSpendingLength","getEarningLength","thickness","ImageModal","filteredList","getOwnerID","searchMatualItem","inputMode","GET_USER_MATUAL_ACCOUNT","ac","LinearIndeterminate","App","getUserState","exact","path","HomePage","UserPage","SingleAccount","SingleMatualAccount","PageNotFound","InitialState","AccountModalIsOpen","MatualAccountIsOpen","ModalProfileIsOpen","bgSingleAccount","AddItemModalIsOpen","isOpen","rootReducers","combineReducers","action","store","createStore","__REDUX_DEVTOOLS_EXTENSION__","createMuiTheme","dark","contrastText","httpLink","HttpLink","uri","process","credentials","wsLink","WebSocketLink","reconnect","splitLink","definition","getMainDefinition","kind","operation","client","ApolloClient","link","cache","InMemoryCache","ThemeProvider","ReactDOM","ApolloProvider"],"mappings":"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","file":"static/js/main.48fdf597.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Route, Redirect} from 'react-router-dom';\n\n\nfunction AuthRoute({ component: Component,...rest}) {\n   console.log(\"cookie\",document.cookie.split('id2=')[1]);\n   const userf = useSelector(state => state.userReducer)\n  console.log(\"user login\",userf && userf.isAuthenticated);\n  \n  \n\nreturn (\n    <Route\n      {...rest}\n      render={(props) => \n        userf && (userf.isAuthenticated || localStorage.getItem(\"id\")) ? <Component {...props} /> : <Redirect to='/' />\n      }\n    />\n  );\n}\n\nexport default AuthRoute;\n\n\n","import { useState } from 'react';\r\n\r\nexport const useForm = (callback, initialState = {}) => {\r\n  const [values, setValues] = useState(initialState);\r\n\r\n  const onChange = (event) => {\r\n    setValues({ ...values, [event.target.name]: event.target.value });\r\n  };\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    callback();\r\n  };\r\n\r\n  return {\r\n    onChange,\r\n    onSubmit,\r\n    values\r\n  };\r\n};\r\n","//user\r\nexport const SET_USER = \"SET_USER\";\r\nexport const SET_USER_LOGOUT = \"SET_USER_LOGOUT\";\r\n\r\n\r\n//ui\r\nexport const SET_MENUBAR_ACCOUNT_Open = \"SET_MENUBAR_ACCOUNT_Open\";\r\nexport const SET_AddItem_Modal_Open = \"SET_AddItem_Modal_Open\";\r\nexport const SET_UpdateItem_Modal_Open = \"SET_UpdateItem_Modal_Open\";\r\nexport const SET_Current_Account_Ui = \"SET_Current_Account_Ui\";\r\nexport const SET_UpdateAccount_Modal_Open = \"SET_UpdateAccount_Modal_Open\";\r\nexport const SET_LightBoxImage = \"SET_LightBoxImage\";\r\nexport const SET_NotificationsCount = \"SET_NotificationsCount\"","import { createBrowserHistory } from 'history';\r\n\r\nexport default createBrowserHistory();","import React, { memo, useContext, useState } from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport MuiDialogActions from '@material-ui/core/DialogActions';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { DialogContent, FormControl, TextField } from '@material-ui/core';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Visibility from '@material-ui/icons/Visibility';\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\r\nimport clsx from 'clsx';\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport { useForm } from '../../hooks/useForm';\r\nimport { useMutation } from '@apollo/react-hooks';\r\nimport gql from 'graphql-tag';\r\nimport {Link, withRouter} from 'react-router-dom'\r\nimport {useDispatch} from 'react-redux'\r\nimport {SET_USER} from '../../Redux/actionTypes'\r\nimport history from '../../util/history'\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n \r\n});\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  margin: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  loader: {\r\n    position:'relative',\r\n    margin: '0 auto',\r\n    color:'#242333'\r\n},\r\n  title:{\r\n    textAlign:'center'\r\n  },\r\n  btnLogin:{\r\n    textAlign:'left'\r\n  },\r\n  phone:{\r\n    marginLeft:'12px',\r\n    [theme.breakpoints.down('sm')]: {\r\n      marginTop:'10px',\r\n      marginBottom:'10px'\r\n    },},\r\n\r\n    HeadLine:{\r\n      background:'#242333',\r\n      color:'whitesmoke',\r\n      fontFamily: 'Varela Round',\r\n      borderRadius:'12px'\r\n  },\r\n  fullWidth:{\r\n    [theme.breakpoints.down('xs')]:{\r\n      height:'100%',\r\n    width:'100%',\r\n    margin: 0,\r\n    maxWidth:'100%',\r\n    maxHeight:'none',\r\n    borderRadius:0,\r\n    }\r\n    },\r\n\r\n}));\r\n\r\n\r\nconst DialogTitle = withStyles(styles)((props) => {\r\n  const { children, classes, onClose, ...other } = props;\r\n  return (\r\n    <MuiDialogTitle disableTypography className={classes.root} {...other}>\r\n      <Typography variant=\"h6\">{children}</Typography>\r\n      {onClose ? (\r\n        <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n          <CloseIcon />\r\n        </IconButton>\r\n      ) : null}\r\n    </MuiDialogTitle>\r\n  );\r\n});\r\n\r\n\r\n \r\n\r\n\r\nconst DialogActions = withStyles((theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(1),\r\n  },\r\n}))(MuiDialogActions);\r\n\r\n \r\n\r\n\r\n\r\nfunction CustomizedDialogs(props) {\r\n  \r\n\r\n    const dispatch = useDispatch()\r\n  \r\n  \r\n  const open = window.location.pathname === \"/login\"\r\n\r\n  console.log(open);\r\n \r\n  const [errors, setErrors] = useState({});\r\n  const { onChange, onSubmit, values } = useForm(loginUserCallback, {\r\n    username: '',\r\n    password: '',\r\n   \r\n  });\r\n\r\n  function cleanFeilds(){\r\n    values.username = \"\"\r\n    values.password = \"\"\r\n    \r\n}\r\n  \r\n  const [loginUser, { loading }] = useMutation(LOGIN_USER, {\r\n    update(proxy,{data: { login: userData }}) {\r\n        setErrors({});\r\n        console.log(userData);\r\n        dispatch({type:SET_USER, payload:userData});\r\n        cleanFeilds()\r\n        localStorage.setItem(\"id\",userData.id)\r\n        window.location.href = '/myAccounts'\r\n      },\r\n   \r\n    onError(err) {\r\n    setErrors(err.graphQLErrors[0].extensions.exception.errors)\r\n   \r\n    },\r\n    variables: values,\r\n    \r\n  });\r\n\r\n  function loginUserCallback() {\r\n    loginUser();\r\n     \r\n  }\r\n  \r\n\r\n\r\n  const [FormValues, setValues] = React.useState({\r\n    password: '',\r\n    showPassword: false,\r\n  });\r\n\r\n  \r\n  const handleClickShowPassword = () => {\r\n    setValues({ ...FormValues, showPassword: !FormValues.showPassword });\r\n  };\r\n\r\n  const handleMouseDownPassword = (event) => {\r\n    event.preventDefault();\r\n  };\r\n\r\n  \r\n\r\n  const classes = useStyles();\r\n  return (\r\n  <>\r\n      <Button \r\n      className={classes.phone} \r\n      component={Link} \r\n      to=\"/login\"\r\n      variant=\"outlined\" \r\n      style={{color:\"whitesmoke\", \r\n      borderColor:'whitesmoke'}} \r\n     >\r\n        התחבר\r\n      </Button>\r\n      <Dialog  \r\n      classes={{paper:classes.fullWidth}} \r\n      onClose={() => history.goBack()} \r\n      aria-labelledby=\"customized-dialog-title\" \r\n      open={open}>\r\n         <form onSubmit={onSubmit} noValidate >\r\n        \r\n        <DialogTitle id=\"customized-dialog-title\" onClose={() => history.goBack()} style={{textAlign:'center'}}>\r\n        <Typography component=\"div\" variant=\"h6\" className={classes.HeadLine}>:כניסה</Typography>\r\n        </DialogTitle>\r\n        \r\n        \r\n        <DialogContent style={{textAlign:'center'}}>\r\n        <div>\r\n       <FormControl className={classes.margin}>\r\n        <TextField\r\n          id=\"input-with-icon-textfield123\"\r\n          label=\":שם משתמש\"\r\n          type=\"text\"\r\n          name=\"username\"\r\n          value={values.username}\r\n          onChange={onChange}\r\n          error={errors.username ? true : false}\r\n          helperText={errors.username}\r\n          autoFocus\r\n          InputProps={{\r\n            startAdornment: (\r\n              <InputAdornment position=\"start\">\r\n                <AccountCircle />\r\n              </InputAdornment>\r\n            ),\r\n          }}\r\n        />\r\n      </FormControl>\r\n      </div>\r\n\r\n\r\n      \r\n   <div>\r\n      <FormControl className={clsx(classes.margin, classes.textField)}>\r\n          <TextField\r\n            id=\"standard-adornment-password\"\r\n            label=\":סיסמה\"\r\n            autoComplete=\"on\"\r\n            type={FormValues.showPassword ? 'text' : 'password'}\r\n            name=\"password\"\r\n            value={values.password}\r\n            onChange={onChange}\r\n            error={errors.password ? true : false}\r\n            helperText={errors.password}\r\n            InputProps={{\r\n                endAdornment:(\r\n                    <InputAdornment position=\"end\">\r\n                      <IconButton\r\n                  aria-label=\"toggle password visibility\"\r\n                  onClick={handleClickShowPassword}\r\n                  onMouseDown={handleMouseDownPassword}\r\n                >\r\n                  {FormValues.showPassword ? <Visibility /> : <VisibilityOff />}\r\n                </IconButton>\r\n              </InputAdornment>\r\n                )\r\n            }}\r\n          />\r\n        </FormControl>\r\n        </div>\r\n       \r\n        </DialogContent>\r\n        \r\n        \r\n        \r\n       \r\n       \r\n        { errors.general && (\r\n            <h4 style={{margin:'0 auto', color:'red', textAlign:'center'}}>{errors.general}</h4>\r\n             )}\r\n       \r\n        <DialogActions>\r\n       \r\n       {!loading ?  <Button type=\"submit\" fullWidth style={{backgroundColor:'#242333', color:'whitesmoke'}}  variant=\"contained\" onClick={onSubmit} color=\"primary\">\r\n            התחבר\r\n          </Button> :  <CircularProgress className={classes.loader} />}\r\n             \r\n         \r\n        </DialogActions>\r\n        \r\n        </form>\r\n      \r\n      </Dialog>\r\n    </> \r\n  \r\n  );\r\n}\r\n\r\nexport default withRouter(CustomizedDialogs);\r\n\r\n  const LOGIN_USER = gql`\r\n    mutation login($username: String!, $password: String!) {\r\n      login(username: $username, password: $password) {\r\n        id\r\n        email\r\n        username\r\n        createdAt\r\n        token\r\n        profileImageUrl\r\n      }\r\n    }\r\n  `;\r\n\r\n\r\n  const GET_USER_STATE = gql`\r\nquery{\r\n    getUserState{\r\n      email\r\n      id\r\n      username\r\n      profileImageUrl\r\n    }\r\n  }\r\n\r\n\r\n`;","import React, { useContext, useState } from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport MuiDialogActions from '@material-ui/core/DialogActions';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { FormControl, TextField, DialogContent } from '@material-ui/core';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport MailOutline from '@material-ui/icons/MailOutline';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Visibility from '@material-ui/icons/Visibility';\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\r\nimport clsx from 'clsx';\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport { useForm } from '../../hooks/useForm';\r\nimport { useMutation } from '@apollo/react-hooks';\r\nimport gql from 'graphql-tag';\r\nimport {Link} from 'react-router-dom'\r\nimport { SET_USER } from '../../Redux/actionTypes';\r\nimport {useDispatch} from 'react-redux'\r\nimport history from '../../util/history';\r\n\r\n\r\n\r\n\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n \r\n});\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  margin: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  loader: {\r\n    position:'relative',\r\n    margin: '0 auto',\r\n    color:'#242333'\r\n},\r\n  title:{\r\n    textAlign:'center'\r\n  },\r\n  btnLogin:{\r\n    textAlign:'left'\r\n  },\r\n  phone:{\r\n    marginLeft:'15px',\r\n\r\n    [theme.breakpoints.down('sm')]: {\r\n      marginTop:'10px',\r\n      marginBottom:'30px',\r\n     \r\n    },},\r\n\r\n    HeadLine:{\r\n      background:'#242333',\r\n      color:'whitesmoke',\r\n      fontFamily: 'Varela Round',\r\n      borderRadius:'12px'\r\n  },\r\n  fullWidth:{\r\n    [theme.breakpoints.down('xs')]:{\r\n      height:'100%',\r\n    width:'100%',\r\n    margin: 0,\r\n    maxWidth:'100%',\r\n    maxHeight:'none',\r\n    borderRadius:0,\r\n    }\r\n    },\r\n}));\r\n\r\n\r\nconst DialogTitle = withStyles(styles)((props) => {\r\n  const { children, classes, onClose, ...other } = props;\r\n  return (\r\n    <MuiDialogTitle disableTypography className={classes.root} {...other}>\r\n      <Typography variant=\"h6\">{children}</Typography>\r\n      {onClose ? (\r\n        <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n          <CloseIcon />\r\n        </IconButton>\r\n      ) : null}\r\n    </MuiDialogTitle>\r\n  );\r\n});\r\n\r\n\r\n\r\nconst DialogActions = withStyles((theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(1),\r\n  },\r\n}))(MuiDialogActions);\r\n\r\n function CustomizedDialogs() {\r\n  const open = window.location.pathname === `/register`\r\n  const dispatch = useDispatch()\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const { onChange, onSubmit, values } = useForm(registerUser, {\r\n    username: '',\r\n    email: '',\r\n    password: '',\r\n    confirmPassword: ''\r\n  });\r\n\r\n  function cleanFeilds(){\r\n    values.username = \"\"\r\n      values.email = \"\"\r\n      values.password = \"\"\r\n      values.confirmPassword = \"\"\r\n}\r\n\r\n \r\n  \r\n  const [addUser, { loading }] = useMutation(REGISTER_USER, {\r\n    update(\r\n      _,\r\n        {\r\n          data: { register: userData }  \r\n        } \r\n      \r\n       ) {\r\n       dispatch({type:SET_USER, payload:userData});\r\n       setErrors({}); \r\n       cleanFeilds()\r\n        localStorage.setItem(\"id\",userData.id)\r\n         window.location.href = '/myAccounts'\r\n    },\r\n    onError(err) {\r\n      setErrors(err.graphQLErrors[0].extensions.exception.errors);\r\n    },\r\n    variables: values\r\n  });\r\n\r\n  function registerUser() {\r\n    addUser();\r\n  }\r\n\r\n\r\n  const [FormValues, setValues] = React.useState({\r\n    password: '',\r\n    ConfirmPassword:'',\r\n    showPassword: false,\r\n    showConfirmPassword:false\r\n  });\r\n\r\n  \r\n\r\n  const handleClickShowPassword = () => {\r\n    setValues({ ...FormValues, showPassword: !FormValues.showPassword });\r\n  };\r\n\r\n  const handleClickShowConfirmPassword = () => {\r\n    setValues({ ...FormValues, showConfirmPassword: !FormValues.showConfirmPassword });\r\n  };\r\n\r\n  const handleMouseDownPassword = (event) => {\r\n    event.preventDefault();\r\n  };\r\n\r\n  \r\n\r\n  const classes = useStyles();\r\n  return (\r\n   <>\r\n      <Button \r\n      className={classes.phone} \r\n      component={Link}\r\n      to={`/register`}\r\n      variant=\"outlined\" \r\n      style={{color:\"whitesmoke\", borderColor:'whitesmoke', backgroundColor:'#242333'}} \r\n      >\r\n        הירשם\r\n      </Button>\r\n      <Dialog classes={{paper:classes.fullWidth}} onClose={() => history.goBack()} aria-labelledby=\"customized-dialog-title\" open={open}>\r\n        \r\n        <form onSubmit={onSubmit}  noValidate >\r\n        <DialogTitle id=\"customized-dialog-title\" onClose={() => history.goBack()} style={{textAlign:'center'}}>\r\n           <Typography component=\"div\" variant=\"h6\" className={classes.HeadLine}>:הרשמה</Typography>\r\n        </DialogTitle>\r\n        <DialogContent style={{textAlign:'center'}} >\r\n      \r\n        <div>\r\n        <FormControl className={classes.margin}>\r\n        \r\n        <TextField\r\n          id=\"input-with-icon-textfield123\"\r\n          label=\":שם משתמש\"\r\n          type=\"text\"\r\n          name=\"username\"\r\n          value={values.username}\r\n          onChange={onChange}\r\n          error={errors.username ? true : false}\r\n          helperText={errors.username}\r\n          InputProps={{\r\n            startAdornment: (\r\n              <InputAdornment position=\"start\">\r\n                <AccountCircle />\r\n              </InputAdornment>\r\n            ),\r\n          }}\r\n        />\r\n      </FormControl>\r\n      </div>\r\n        <div>\r\n      <FormControl className={classes.margin}>\r\n        <TextField\r\n          id=\"input-with-icon-email567\"\r\n         label=\":אימייל\"\r\n          type=\"email\"\r\n          name=\"email\"\r\n          value={values.email}\r\n          onChange={onChange}\r\n          error={errors.email ? true : false}\r\n          helperText={errors.email}\r\n          InputProps={{\r\n            startAdornment: (\r\n              <InputAdornment position=\"start\">\r\n                <MailOutline />\r\n              </InputAdornment>\r\n            ),\r\n          }}\r\n            />\r\n      </FormControl>\r\n      </div>\r\n\r\n\r\n       <div>\r\n      <FormControl className={clsx(classes.margin, classes.textField)}>\r\n          <TextField\r\n            id=\"standard-adornment-password984\"\r\n            label=\":סיסמה\"\r\n            type={FormValues.showPassword ? 'text' : 'password'}\r\n            name=\"password\"\r\n            autoComplete=\"on\"\r\n            value={values.password}\r\n            onChange={onChange}\r\n            error={errors.password ? true : false}\r\n            helperText={errors.password}\r\n            InputProps={{\r\n                endAdornment:(\r\n                    <InputAdornment position=\"end\">\r\n                      <IconButton\r\n                  aria-label=\"toggle password visibility\"\r\n                  onClick={handleClickShowPassword}\r\n                  onMouseDown={handleMouseDownPassword}\r\n                >\r\n                  {FormValues.showPassword ? <Visibility /> : <VisibilityOff />}\r\n                </IconButton>\r\n              </InputAdornment>\r\n                )\r\n            }}\r\n          />\r\n        </FormControl>\r\n        </div>\r\n\r\n\r\n        <div>\r\n        <FormControl className={clsx(classes.margin, classes.textField)}>\r\n         <TextField\r\n            id=\"standard-adornment-password229\"\r\n            label=\":אימות סיסמה\"\r\n            type={FormValues.showConfirmPassword ? 'text' : 'password'}\r\n            autoComplete=\"on\"\r\n            name=\"confirmPassword\"\r\n            value={values.confirmPassword}\r\n            onChange={onChange}\r\n            error={errors.confirmPassword ? true : false}\r\n            helperText={errors.confirmPassword}\r\n            InputProps={{\r\n                endAdornment:(\r\n                    <InputAdornment position=\"end\">\r\n                    <IconButton\r\n                      aria-label=\"toggle password visibility\"\r\n                      onClick={handleClickShowConfirmPassword}\r\n                      onMouseDown={handleMouseDownPassword}\r\n                    >\r\n                      {FormValues.showConfirmPassword ? <Visibility /> : <VisibilityOff />}\r\n                    </IconButton>\r\n                  </InputAdornment>\r\n                )\r\n            }}\r\n          />\r\n        </FormControl>\r\n        </div>\r\n        </DialogContent>\r\n        \r\n        {errors.general && (\r\n            <h4 style={{margin:'0 auto', color:'red', textAlign:'center'}}>{errors.general}</h4>\r\n             )}\r\n\r\n        <DialogActions>\r\n       {!loading ? <Button type=\"submit\" style={{backgroundColor:'#242333', color:'whitesmoke'}}  fullWidth  variant=\"contained\" onClick={onSubmit} >\r\n            הירשם\r\n          </Button> :  <CircularProgress className={classes.loader} />}\r\n               \r\n        \r\n        </DialogActions>\r\n        </form>\r\n      </Dialog>\r\n    </>\r\n  \r\n  );\r\n}\r\n\r\nexport default CustomizedDialogs;\r\n\r\nconst REGISTER_USER = gql`\r\n  mutation register(\r\n    $username: String!\r\n    $email: String!\r\n    $password: String!\r\n    $confirmPassword: String!\r\n  ) {\r\n    register(\r\n      registerInput: {\r\n        username: $username\r\n        email: $email\r\n        password: $password\r\n        confirmPassword: $confirmPassword\r\n      }\r\n    ) {\r\n      id\r\n      email\r\n      username\r\n      createdAt\r\n      token\r\n      profileImageUrl\r\n    }\r\n  }\r\n`;","import React from 'react'\r\nimport ExitToAppRoundedIcon from '@material-ui/icons/ExitToAppRounded';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport {useMutation} from '@apollo/react-hooks'\r\nimport gql from 'graphql-tag'\r\nimport history from '../../util/history'\r\nimport {useDispatch} from 'react-redux'\r\nimport { SET_Current_Account_Ui, SET_USER_LOGOUT } from '../../Redux/actionTypes';\r\nimport {makeStyles} from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  \r\n}))\r\n\r\n\r\n\r\nfunction Index() {\r\n    const dispatch = useDispatch()\r\n    \r\n    const classes = useStyles()\r\n    const [logOut, { loading }] = useMutation(USER_LOG_OUT, {\r\n        update(_,) {\r\n            dispatch({type:SET_Current_Account_Ui, payload:null})\r\n            dispatch({type:SET_USER_LOGOUT})\r\n            localStorage.clear()          \r\n            history.push('/');\r\n        },\r\n       \r\n      });\r\n    \r\n     function handlelogout(){\r\n        logOut()\r\n      }\r\n    \r\n    \r\n    \r\n    return (\r\n        \r\n      <li  \r\n      onClick={handlelogout} \r\n      className={classes.logOutButton}>\r\n        התנתק\r\n      </li>        \r\n    )\r\n}\r\n\r\nexport default Index\r\n\r\n\r\n\r\nconst USER_LOG_OUT = gql`\r\nmutation{\r\n    logout\r\n    }\r\n`;","import styled from 'styled-components';\r\nimport {Link} from 'react-router-dom'\r\n\r\n\r\nexport const Nav = styled.nav`\r\n  background: ${({active}) => active ? \"transparent\" : \"#242333\" };\r\n  width:100%;\r\n  height: 50px;\r\n  display:flex;\r\n  justify-content:space-between;\r\n  align-items:center;\r\n  font-size:1rem;\r\n  position:fixed; \r\n  top:0;\r\n  z-index:13;\r\n  transition:all 0.8s  ease;\r\n  @media screen and (max-width:960px){\r\n    background: ${({click}) => click ? \"#242333\" : \"#242333\"};\r\n    \r\n    \r\n  }\r\n\r\n`;  \r\n\r\n\r\nexport const NavbarContainer = styled.div`\r\ndisplay:flex;\r\nalign-items:center; \r\nheight:80px;\r\nz-index:0;\r\nwidth:100%;\r\nmax-width:1000px;\r\n`;\r\n\r\nexport const NavLogo = styled(Link)`\r\nborder-top: 2px solid white;\r\nborder-radius:50%;\r\njustify-content:flex-start;\r\ncursor:pointer;\r\ndisplay:flex;\r\nmargin-left:12px;\r\nborder-top:${({active}) => active === \"false\" ? \"2px solid white\" : \"none\"};\r\n@media screen and (max-width:960px){\r\nborder-top:${({click}) => click === \"true\" ? \"2px solid white\" : \"none\"};\r\n}\r\n`;\r\n\r\n\r\n\r\nexport const NavTitle = styled.h2`\r\nwhite-space:nowrap;\r\ndisplay: inline-block;\r\ncolor:#F1F9FD;\r\npadding:0 0 0 8px;\r\noverflow:hidden; \r\ntext-overflow: ellipsis; \r\n-o-text-overflow:ellipsis;\r\n-ms-text-overflow:ellipsis; \r\nmax-width:50%;\r\n@media screen and (max-width:425px){\r\n  max-width:75%;\r\n}\r\n `;  \r\n\r\nexport const LinkList = styled.ul`\r\ndisplay:flex;\r\n justify-content:flex-end;\r\n`;\r\n\r\n\r\nexport const MobileIcon  = styled.div`\r\n\r\ndisplay: none;\r\n\r\n\r\n@media screen and (max-width:960px ){\r\n  color:#F1F9FD;\r\n  z-index:11;\r\n  display:block;\r\n  position:absolute;\r\n  top:0;\r\n  right:0;\r\n  transform: translate(-30%, 30%);\r\n  font-size:1.8rem;\r\n  cursor:pointer;\r\n \r\n}\r\n`;\r\n\r\n\r\n\r\nexport const Overlay = styled.div`\r\n@media screen and (max-width:960px ){\r\n  position:absolute;\r\n  top: 50px;\r\n  left: 0;\r\n  bottom: -100vh;\r\n  right:0;\r\n  background:rgba(0, 0, 0, 0.5);\r\n  visibility: ${({click}) => click ? \"visible\" : \"hidden\"};\r\n  transition: opacity 0.3s ease;\r\n  opacity:${({click}) => click ? 1 : 0};\r\n}\r\n`;\r\n\r\nexport const NavMenu = styled.ul`\r\nposition:relative;\r\ndisplay:flex;\r\nalign-items:center;\r\njustify-content:space-evenly;\r\ntext-align:center;\r\nwhite-space:nowrap;\r\npadding:0;\r\nmargin-right:10%;\r\nwidth:300px;\r\n@media screen and (max-width:960px ){\r\n  display:flex;\r\n  flex-direction:column-reverse;\r\n  justify-content:flex-end;\r\n  margin:0;\r\n  width:150px;\r\n  height: 100vh;\r\n  position:absolute;\r\n  bottom: -100vh;\r\n  right:${({click}) => click ? \"0%\" : \"-300px\"};\r\n  opacity:1;\r\n  background:#242333;\r\n  overflow-y:auto;\r\n  transition: right 0.3s ease;\r\n  box-shadow: 0 0 1px rgba(0, 0, 0, 0.05);\r\n\r\n}\r\n\r\n`;\r\n\r\n\r\n\r\nexport const LinkStyle = styled(Link)`\r\n\r\n    font-weight: bold;\r\n    list-style:none; \r\n    color: whitesmoke;\r\n    display: flex;\r\n    align-items: center;\r\n    width: fit-content;\r\n   \r\n    text-decoration: none;\r\n    padding: 0.8em;\r\n    position:relative ;\r\n    cursor: pointer;\r\n    font-size:1rem;\r\n    letter-spacing:1px;\r\n    \r\n    \r\n    &::after {\r\n      transform: translate3d(100%, 0, 0);\r\n      transition:  transform .2s ease-in-out, opacity .21s ease-in;\r\n      content: \"\";\r\n      width: 100%;\r\n      height: 2px;\r\n\t    background-color: white;\r\n      position: absolute;\r\n      right: 0;\r\n      bottom: 0;\r\n      opacity:0;\r\n     \r\n    }\r\n\r\n    &:hover::after {\r\n      transform: translate3d(0, 0, 0);\r\n      opacity:1;\r\n     \r\n    }\r\n\r\n    @media screen and (max-width:960px ){\r\n      padding: 3px;\r\n      font-size: 1.5rem;\r\n      align-items:none;\r\n      height:3rem;\r\n      \r\n\r\n      &:hover {\r\n      color:white;\r\n      background-color:#242333;\r\n    }\r\n    }\r\n\r\n`;\r\n\r\n\r\n\r\nexport const LogoutLinkStyle = styled.div`\r\n\r\n    font-weight: bold;\r\n    list-style:none; \r\n    color: whitesmoke;\r\n    display: flex;\r\n    align-items: center;\r\n    text-decoration: none;\r\n    padding: 0.8em;\r\n    \r\n    cursor: pointer;\r\n    font-size:1rem;\r\n    transition: all 0.1s ease-in;\r\n    letter-spacing:1px;\r\n    position:relative;\r\n    \r\n    &::after {\r\n      transform: translate3d(100%, 0, 0);\r\n      transition:  transform .2s ease-in-out, opacity .21s ease-in, background-color .2s ease-in-out;\r\n      content: \"\";\r\n      width: 100%;\r\n      height: 2px;\r\n\t    background-color: white;\r\n      position: absolute;\r\n      right: 0;\r\n      bottom: 0;\r\n      opacity:0; \r\n      background-color:red;\r\n     \r\n    }\r\n\r\n    &:hover::after {\r\n      transform: translate3d(0, 0, 0);\r\n      opacity:1;\r\n      \r\n      \r\n     \r\n    }\r\n\r\n    @media screen and (max-width:960px ){\r\n      padding: 3px;\r\n      font-size: 1.5rem;\r\n      align-items:none;\r\n      height:3rem;\r\n      \r\n      &:hover {\r\n      color:white;\r\n      background-color:#242333;\r\n    }\r\n    }\r\n\r\n`;\r\n\r\n\r\nexport const HelloToUser = styled.h3`\r\ncolor:whitesmoke;\r\nmargin-left:12px;\r\n@media screen and (max-width:960px ){\r\n  white-space: normal;\r\n  padding: 12px;\r\n  letter-spacing: 1px;\r\n  font-size: 1.4rem;\r\n  margin-left:0; \r\n       \r\n}\r\n\r\n\r\n`;\r\n\r\n","import React, {useState} from 'react'\r\nimport { FaBars, FaTimes } from 'react-icons/fa';\r\nimport LoginModalBtn from  '../LoginModal'\r\nimport RegisterModalBtn from  '../RegisterModal'\r\nimport LogOutButton from '../LogoutButton/index'\r\nimport {\r\n    Nav,\r\n    NavbarContainer,\r\n    NavTitle,\r\n    MobileIcon,\r\n    NavMenu,\r\n    HelloToUser,\r\n    LinkStyle,\r\n    LogoutLinkStyle,\r\n    Overlay\r\n  } from './NavbarElements';\r\nimport { useSelector } from 'react-redux';\r\n \r\nimport {makeStyles} from '@material-ui/core'\r\n\r\nimport { Link, useParams } from 'react-router-dom';\r\n\r\nimport PersonRoundedIcon from '@material-ui/icons/PersonRounded';\r\nimport GroupRoundedIcon from '@material-ui/icons/GroupRounded';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport { useMutation} from '@apollo/client';\r\nimport gql from 'graphql-tag'\r\n\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n   HelloToUser:{\r\n       \r\n    [theme.breakpoints.down('lg')]:{\r\n      display:'none'\r\n    }\r\n},\r\n\r\ncustomBadge:{\r\n  color:theme.palette.notification.light,\r\n  backgroundColor:theme.palette.notification.main,\r\n  '&.MuiBadge-anchorOriginTopLeftRectangle': {\r\n    transform:'translate(0%, 30%)',\r\n  }\r\n},\r\n \r\ncustomFabBadge:{\r\n \r\n  color:theme.palette.notification.light,\r\n  backgroundColor:theme.palette.notification.main,\r\n  '&.makeStyles-customBadge-26.MuiBadge-anchorOriginTopLeftRectangle':{\r\n        transform:'unset',\r\n     \r\n      },\r\n    },\r\ndismiss:{\r\n  display: 'none',  \r\n  \r\n\r\n \r\n \r\n\r\n}\r\n\r\n}));\r\n\r\n     \r\n\r\nfunction Index(){\r\n  \r\n    const classes = useStyles() \r\n    const user = useSelector(state => state.userReducer.userDetails)\r\n    const currentAccount = useSelector(state => state.uiReducer.getCurrentAccountUi)\r\n    const badgeCount = useSelector(state => state.uiReducer.NotificationsCount.Badge)\r\n    const params = useParams()\r\n    \r\n    const [click, setClick] = useState(false)\r\n    const [scroll, setScroll] = useState(false)\r\n    \r\n   const [userSawNTF] = useMutation(USER_SAW_NTF,{\r\n     refetchQueries:[{query:GET_NOTIFICATIONS}],\r\n     onCompleted:(data) => console.log('counting data', data)\r\n   }) \r\n    \r\n   \r\n \r\n    const handleOnclick  = () => {\r\n      setClick(!click)\r\n      \r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    return (\r\n        <header>\r\n            <Nav active={scroll} click={click}>\r\n      <NavbarContainer>\r\n        \r\n        \r\n        \r\n        {user && currentAccount && currentAccount.__typename === 'Account' &&  (<PersonRoundedIcon fontSize='large' htmlColor='#fff' style={{marginLeft:'5px'}}/>)}\r\n        \r\n        {user && currentAccount && currentAccount.__typename === 'MatualAccount' && (<GroupRoundedIcon fontSize='large' htmlColor='#fff' style={{marginLeft:'5px'}}/>)}\r\n\r\n        <NavTitle >\r\n       { params && currentAccount && params.accountId ? currentAccount.title :<Link style={{textDecoration:'none', color:'white'}} to='/'>BudgeX</Link>}   \r\n         </NavTitle>\r\n        \r\n        \r\n      \r\n      </NavbarContainer>\r\n     \r\n      <MobileIcon onClick={handleOnclick}>\r\n        {click ? <FaTimes/> :(<> {badgeCount > 0 ? (<Badge\r\n        badgeContent={badgeCount} \r\n         max={99} \r\n        invisible={badgeCount === 0}\r\n        classes={{ badge:badgeCount > 0 ? classes.customFabBadge : classes.dismiss}}\r\n        anchorOrigin={{\r\n          vertical: 'top',\r\n         horizontal: 'left',\r\n         }}\r\n        ><FaBars/></Badge>) : <FaBars/>}</>)}\r\n        </MobileIcon>\r\n     \r\n     <Overlay onClick={handleOnclick} click={click} />\r\n     <NavMenu  click={click}>   \r\n          \r\n     {user &&  (<LogoutLinkStyle><LogOutButton/></LogoutLinkStyle>)}\r\n     \r\n     {user && window.location.pathname === ('/' || '/login' || '/register') && ( <LinkStyle to='/myAccounts'>\r\n       <li>חזור לחשבון</li>\r\n      </LinkStyle>)}\r\n     \r\n     {user && <Badge  badgeContent={badgeCount} max={99} \r\n      invisible={false}\r\n      \r\n      classes={{ badge:badgeCount > 0 ? classes.customBadge : classes.dismiss}}\r\n      anchorOrigin={{\r\n        vertical: 'top',\r\n       horizontal: 'left',\r\n       }}\r\n     > <LinkStyle onClick={() => userSawNTF()} to='/notifications'>\r\n            התראות  \r\n          </LinkStyle></Badge>  }\r\n     \r\n    \r\n     {!user && \r\n     (<><RegisterModalBtn/><LoginModalBtn/></>) } \r\n       \r\n        <HelloToUser>\r\n        { user ? `Hello ${user.username}` : \"שלום, אורח\"}  \r\n        </HelloToUser>\r\n       \r\n        </NavMenu>\r\n   </Nav>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Index\r\n\r\n\r\n\r\nconst USER_SAW_NTF = gql`\r\nmutation{\r\n  userSawNTF{\r\n    id\r\n    seen\r\n    from \r\n    isConfirmed\r\n    to\r\n  }\r\n}\r\n`; \r\n\r\n\r\nconst GET_NOTIFICATIONS = gql`\r\n{\r\n  getNotifications{\r\n    id\r\n    seen\r\n    senderName\r\n    senderImageUrl\r\n    accountId\r\n    isConfirmed\r\n    isIgnored\r\n    to\r\n    from\r\n    accountTitle\r\n    body\r\n    createdAt\r\n    updatedAt\r\n  }\r\n}`;\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import styled from 'styled-components'\r\n\r\nexport const Footer = styled.footer`\r\n    height:20px;\r\n    position: fixed;\r\n    bottom:0;\r\n    width:100%;\r\n    text-align:center;\r\n    font-family: 'Open Sans', sans-serif;\r\n    color: aliceblue; \r\n    font-size: smaller;\r\n    background:#242333;\r\n    align-items:'center';\r\n    z-index:12; \r\n`;","import { useMutation } from '@apollo/client'\r\nimport { CircularProgress, ListItem } from '@material-ui/core'\r\nimport React from 'react'\r\nimport gql from 'graphql-tag'\r\n\r\n\r\nfunction ConfirmRequest({setLoading,accountId, userId}){\r\n  \r\n  const [confirmRequest,{loading}] = useMutation(CONFIRM_REQUEST,{\r\n    variables:{\r\n          accountId,\r\n          userId\r\n      },\r\n      onCompleted:() => setLoading(false),\r\n      onError:(err) => console.log(err),\r\n      refetchQueries:[{\r\n        query:GET_USER_MATUAL_ACCOUNTS,\r\n        variables:{\r\n          accountId,\r\n          userId}}]\r\n      })\r\n  \r\n  \r\n  \r\n  return (\r\n    <>\r\n      <ListItem \r\n       style={{\r\n           justifyContent:'center',\r\n           backgroundColor:'green',\r\n           color:'white'}}  \r\n           button \r\n           type=\"button\"\r\n           name=\"Confirm\"\r\n           component=\"button\"\r\n           onClick={(e) =>{\r\n            confirmRequest() \r\n            setLoading(true)\r\n           }}>\r\n           \r\n       אישור\r\n      </ListItem>\r\n    \r\n      </>)\r\n   \r\n\r\n}\r\n\r\n\r\nfunction RemoveRequest({setLoading,accountId, userId}){\r\n  \r\n  const [removeRequest,{loading}] = useMutation(REMOVE_REQUEST,{\r\n    variables:{\r\n          accountId,\r\n          userId\r\n      },\r\n      onCompleted:() => setLoading(false),\r\n      onError:(err) => console.log(err),\r\n      refetchQueries:[{\r\n        query:GET_USER_MATUAL_ACCOUNTS,\r\n        variables:{\r\n          accountId,\r\n          userId}}]\r\n      })\r\n  \r\n  \r\n  \r\n  return (\r\n    <>\r\n      <ListItem \r\n        style={{\r\n          justifyContent:'center', \r\n          backgroundColor:'red',\r\n          color:'white'}}  \r\n          button \r\n          type=\"submit\" \r\n          component=\"button\"\r\n          name=\"Remove\"\r\n          onClick={(e) =>{\r\n            removeRequest()\r\n            setLoading(true) \r\n          }}>\r\n          התעלמות\r\n         </ListItem>\r\n    \r\n      </>)\r\n   \r\n\r\n}\r\n\r\n\r\n\r\nfunction Index({accountId, userId}) {\r\n   \r\n  const [loading, setLoading] = React.useState(false)\r\n   \r\n    return (\r\n      <>\r\n     { loading ? (<CircularProgress size={35} color='primary' style={{margin:'0 auto'}} />)\r\n      :\r\n    (<>\r\n      <RemoveRequest accountId={accountId} userId={userId} setLoading={setLoading} />\r\n      <ConfirmRequest accountId={accountId} userId={userId} setLoading={setLoading}/>\r\n    </>)\r\n    }\r\n    </> \r\n     )\r\n}\r\n\r\nexport default Index\r\n\r\n\r\nconst CONFIRM_REQUEST = gql`\r\n\r\nmutation confirmRequest($accountId:ID!, $userId:ID!){\r\n    confirmRequest(accountId:$accountId, userId:$userId){\r\n    id\r\n    senderName\r\n    senderImageUrl\r\n    accountTitle\r\n    accountId\r\n    from\r\n    to\r\n    body\r\n    seen\r\n    isConfirmed\r\n    isIgnored\r\n    createdAt\r\n    updatedAt\r\n    }\r\n}\r\n\r\n\r\n`;\r\n\r\n\r\nconst REMOVE_REQUEST = gql`\r\nmutation removeRequest($accountId:ID!, $userId:ID!){\r\n  removeRequest(accountId:$accountId, userId:$userId){\r\n        id\r\n    senderName\r\n    senderImageUrl\r\n    accountTitle\r\n    accountId\r\n    from\r\n    to\r\n    body\r\n    seen\r\n    isConfirmed\r\n    isIgnored\r\n    createdAt\r\n    updatedAt\r\n    }\r\n}\r\n`;\r\n\r\nconst GET_USER_MATUAL_ACCOUNTS = gql`\r\n{\r\n  getUserMatualAccounts{\r\n    id\r\n    createdAt\r\n    updatedAt\r\n    owner\r\n    ownerName\r\n    title\r\n    members {\r\n      userId\r\n      isConfirmed\r\n      isIgnored\r\n    \r\n  }\r\n}\r\n}\r\n`;","import { useMutation } from '@apollo/client'\r\nimport { CircularProgress, ListItem } from '@material-ui/core'\r\nimport React from 'react'\r\nimport gql from 'graphql-tag'\r\n\r\nfunction Index({accountId, userId}) {\r\n    \r\n    const [ConfirmRequest,{loading}] = useMutation(CONFIRM_REQUEST,{\r\n        variables:{\r\n              accountId,\r\n              userId\r\n          },\r\n          onCompleted:() => console.log(\"notification\"),\r\n          onError:(err) => console.log(err),\r\n          refetchQueries:[{\r\n            query:GET_USER_MATUAL_ACCOUNTS,\r\n            variables:{accountId,\r\n            userId}}]\r\n          })\r\n    \r\n    \r\n    \r\n    \r\n    return (\r\n        <>\r\n           {loading ? (<CircularProgress size={35} style={{margin:'0 auto', color:'red'}} />)\r\n           : (<ListItem style={{\r\n            justifyContent:'center', \r\n            backgroundColor:'red',color:'white'}}  \r\n            button type=\"submit\" \r\n            component=\"button\"\r\n            onClick={() => ConfirmRequest()}>\r\n             ביטול הצטרפות מחשבון זה\r\n            </ListItem>  )}\r\n           \r\n              \r\n        </>\r\n    )\r\n}\r\n\r\nexport default Index\r\n\r\nconst CONFIRM_REQUEST = gql`\r\n\r\nmutation confirmRequest($accountId:ID!, $userId:ID!){\r\n    confirmRequest(accountId:$accountId, userId:$userId){\r\n    id\r\n    senderName\r\n    senderImageUrl\r\n    accountTitle\r\n    accountId\r\n    from\r\n    to\r\n    body\r\n    seen\r\n    isConfirmed\r\n    isIgnored\r\n    createdAt\r\n    updatedAt\r\n    }\r\n}`;\r\n\r\n\r\nconst GET_USER_MATUAL_ACCOUNTS = gql`\r\n{\r\n  getUserMatualAccounts{\r\n    id\r\n    createdAt\r\n    updatedAt\r\n    owner\r\n    ownerName\r\n    title\r\n    members {\r\n      userId\r\n      isConfirmed\r\n      isIgnored\r\n    \r\n  }\r\n}\r\n}\r\n`;","import React from 'react'\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport history from '../../util/history'\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { useQuery, useSubscription } from '@apollo/react-hooks';\r\nimport gql from 'graphql-tag'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {Divider} from '@material-ui/core';\r\nimport dayjs from 'dayjs'\r\nimport relativeTime from 'dayjs/plugin/relativeTime'\r\nimport ConfirmOrRemoveRequestButton from '../../notifications/components/ConfirmRequestButton'\r\nimport { SET_NotificationsCount } from '../../Redux/actionTypes';\r\nimport LeaveMatualAccountButton from '../../notifications/components/LeaveMatualAccountButton'\r\nimport { Link } from 'react-router-dom';\r\nimport hebConf from 'dayjs/locale/he'\r\n\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    appBar: {\r\n      position: 'relative',\r\n    },\r\n    title: {\r\n    flex: 1,\r\n    textAlign:'center'\r\n    },\r\n    Fab:{\r\n      position:'fixed',\r\n      right:theme.spacing(2),\r\n      bottom:theme.spacing(1),\r\n      zIndex:3,\r\n    \r\n    },\r\n  \r\n    stasWrapper:{\r\n      height:'100%', \r\n      width:'100%', \r\n      [theme.breakpoints.up('md')]:{\r\n        display:'flex', \r\n        alignItems:'center', \r\n        justifyContent:'center'\r\n      }\r\n    },\r\n    text: {\r\n      padding: theme.spacing(2, 2, 0),\r\n    },\r\n    paper: {\r\n      [theme.breakpoints.up('sm')]:{\r\n        width:'50%',\r\n        margin:'0 auto',\r\n        height:'100%'\r\n        \r\n      },\r\n    },\r\n    list: {\r\n      marginBottom: theme.spacing(2),\r\n    },\r\n    subheader: {\r\n      backgroundColor: theme.palette.background.paper,\r\n    },\r\n    grow: {\r\n      flexGrow: 1,\r\n    },\r\n    fabButton: {\r\n      position: 'absolute',\r\n      zIndex: 1,\r\n      top: -30,\r\n      left: 0,\r\n      right: 0,\r\n      margin: '0 auto',\r\n    },\r\n\r\n    inline: {\r\n      wordWrap:'break-word',\r\n      width:'1000px'\r\n      \r\n    },\r\n\r\n    createdAt:{\r\n       position: 'absolute',\r\n       bottom: -22,\r\n\r\n    },\r\n\r\n    body:{\r\n      \r\n      \r\n    }\r\n  }));\r\n\r\n\r\n function AcceptNotificationUser({accountTitle, updatedAt, id}){\r\n  const classes = useStyles()\r\n  const [user, setUser] = React.useState({})\r\n  const {data} = useQuery(GET_ALL_USERS, {\r\n  \r\n    onCompleted:() => {\r\n     setUser(data.getAllUsers.filter(user => user.id === id)[0])   \r\n    },\r\n  \r\n  })\r\n  \r\n \r\n \r\n return(\r\n    <>\r\n    <ListItem style={{textAlign:'center'}}>\r\n        \r\n    <ListItemAvatar >\r\n         <Avatar \r\n         alt=\"Profile Picture\" \r\n         src={user.profileImageUrl} \r\n         />\r\n         \r\n       </ListItemAvatar>\r\n       <ListItemText \r\n       primary={user.username} \r\n       secondary={\r\n     <React.Fragment>\r\n     \r\n     <Typography\r\n       component=\"span\"\r\n       variant=\"subtitle2\"\r\n       className={classes.body}\r\n       color=\"textSecondary\"\r\n     >\r\n       {'הסכימ/ה לבקשת ההצטרפות שלך'}\r\n     </Typography>\r\n     <br/>\r\n     <Typography\r\n       component=\"span\"\r\n       variant=\"body2\"\r\n       className={classes.inline}\r\n       color=\"textPrimary\"\r\n     >\r\n    &apos;&apos;{accountTitle}&apos;&apos;\r\n     </Typography>\r\n     </React.Fragment>\r\n   \r\n } />\r\n      </ListItem>\r\n     \r\n     <Typography\r\n       component=\"span\"\r\n       variant=\"subtitle2\"\r\n       style={{padding:'12px', justifyContent:'flex-end', display:'flex'}}\r\n       color=\"textSecondary\"\r\n     >\r\n       {dayjs(parseInt(updatedAt)).fromNow()}&nbsp;<span>:החשבון עודכן</span>\r\n       \r\n     </Typography> \r\n           \r\n           <ListItem style={{justifyContent:'center', backgroundColor:'green',color:'white'}}>\r\n           הסכימ/ה לבקשה שלך {user.username}\r\n          </ListItem>\r\n          </>\r\n   );\r\n }\r\n\r\n const Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\n\r\nfunction Index() {\r\n  dayjs.locale('de', hebConf)\r\n  dayjs.extend(relativeTime) \r\n   const classes = useStyles()\r\n   \r\n   const handleClose = () => {\r\n    history.goBack()\r\n  };\r\n  \r\n  const open = window.location.pathname === `/notifications`\r\n  const user = useSelector(state => state.userReducer.userDetails)\r\n  const [filteredNtf,setFilterdNtf] = React.useState([])\r\n  \r\n   \r\n const dispatch = useDispatch()\r\n\r\n  const {data,loading} = useQuery(GET_NOTIFICATIONS,{\r\n    onCompleted:() => {\r\n        \r\n            setFilterdNtf(data.getNotifications);\r\n            dispatch({type:SET_NotificationsCount, payload:countingNotifications(data.getNotifications)})\r\n            console.log('filter mutation',data.getNotifications);\r\n          \r\n        \r\n      }\r\n  })\r\n  \r\n  \r\n  const {error} = useSubscription(NOTIFICATIONS,{\r\n    onSubscriptionData:({subscriptionData}) => {\r\n     if(subscriptionData){\r\n        setFilterdNtf(subscriptionData.data.addRequestToList)\r\n        console.log('filterSubs',countingNotifications(subscriptionData.data.addRequestToList));\r\n        console.log(\"notification page\");\r\n         console.log(\"filter subs\", subscriptionData.data.addRequestToList);\r\n         dispatch({type:SET_NotificationsCount, payload:countingNotifications(subscriptionData.data.addRequestToList)})\r\n        }\r\n        \r\n      \r\n    },\r\n  })\r\n  \r\n\r\n   function countingNotifications(data){\r\n    const notificationsCount = []\r\n    if(user){\r\n      \r\n      data.forEach(item => {\r\n       \r\n       if(!item.seen.includes(user.id) && !item.isConfirmed.includes(user.id) && item.to.includes(user.id)){ //  request sent to user\r\n         notificationsCount.push(item.id)\r\n      }\r\n  })\r\n   \r\n  }\r\n    \r\n  console.log(\"user get \", notificationsCount.length );\r\n  return  notificationsCount.length \r\n   \r\n  }\r\n\r\n\r\n\r\nconsole.log(error);\r\n \r\n\r\n \r\nreturn (\r\n        \r\n          <Dialog\r\n          onEscapeKeyDown={() => history.goBack()}\r\n          fullScreen\r\n          open={open}\r\n          onClose={() => !open}\r\n          TransitionComponent={Transition}\r\n          >\r\n          <AppBar color='inherit' dir='rtl'   className={classes.appBar}>\r\n          <Toolbar>\r\n            <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\r\n              <CloseIcon />\r\n            </IconButton>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              התראות\r\n            </Typography>\r\n          </Toolbar>  \r\n        </AppBar>\r\n      \r\n        \r\n      <CssBaseline />\r\n      <Paper square className={classes.paper} >\r\n        <List dir='ltr' className={classes.list}>\r\n        \r\n          {filteredNtf.sort((a, b) => parseInt(b.updatedAt) - parseInt(a.updatedAt)).map(({ id, senderName, body, senderImageUrl, accountTitle, createdAt, updatedAt,accountId, isConfirmed, from, to }) => (\r\n            <React.Fragment key={id}>\r\n            <React.Fragment >\r\n            \r\n            \r\n            \r\n            \r\n             {user && from === user.id &&  isConfirmed.length > 0 && isConfirmed.map(id => ( // user accept notification\r\n                    \r\n                    <div style={{textAlign:'center'}} key={id+1}>\r\n                     \r\n                    <AcceptNotificationUser\r\n                     id={id}\r\n                     accountTitle={accountTitle}\r\n                     updatedAt={updatedAt}\r\n                     />\r\n                   <Divider style={{marginTop:'12px'}} variant=\"inset\" component=\"li\" />   \r\n                   </div> \r\n                ))}     \r\n           \r\n           \r\n           \r\n            {user && !isConfirmed.includes(user.id) && to.includes(user.id) && (\r\n              \r\n              <React.Fragment>\r\n             \r\n              <ListItem >\r\n             <ListItemAvatar>\r\n                  <Avatar \r\n                  alt=\"Profile Picture\" \r\n                  src={senderImageUrl} />\r\n                </ListItemAvatar>\r\n                <ListItemText \r\n                primary={senderName} \r\n                secondary={\r\n              <React.Fragment>\r\n              \r\n              <Typography\r\n                component=\"span\"\r\n                variant=\"subtitle2\"\r\n                className={classes.body}\r\n                color=\"textSecondary\"\r\n              >\r\n                {body}\r\n              </Typography>\r\n              <br/>\r\n              <Typography\r\n                component=\"span\"\r\n                variant=\"body2\"\r\n                className={classes.inline}\r\n                color=\"textPrimary\"\r\n              >\r\n              &apos;&apos;{accountTitle}&apos;&apos;  \r\n              </Typography>\r\n              </React.Fragment>\r\n            \r\n          } />\r\n               </ListItem>\r\n              \r\n              <Typography\r\n                component=\"span\"\r\n                variant=\"subtitle2\"\r\n                style={{padding:'12px', justifyContent:'flex-end', display:'flex'}}\r\n                color=\"textSecondary\"\r\n              >\r\n              {dayjs(parseInt(createdAt)).fromNow()}&nbsp;<span>:החשבון נוצר</span>\r\n                \r\n              </Typography> \r\n              \r\n              \r\n              <div style={{display:'flex', width:'94%', margin:'0 auto'}}>\r\n             \r\n             \r\n             <ConfirmOrRemoveRequestButton \r\n             accountId={accountId} \r\n             userId={user && user.id} \r\n             />\r\n           \r\n            </div>\r\n            <Divider style={{marginTop:'12px'}} variant=\"inset\" component=\"li\" />   \r\n            </React.Fragment>\r\n            )}\r\n\r\n            \r\n            \r\n     {user && isConfirmed.includes(user.id) && from !== user.id  && (\r\n               <React.Fragment>\r\n                 <ListItem >\r\n             <ListItemAvatar>\r\n                  <Avatar \r\n                  alt=\"Profile Picture\" \r\n                  src={senderImageUrl} />\r\n                </ListItemAvatar>\r\n                <ListItemText \r\n                primary={senderName} \r\n                secondary={\r\n              <React.Fragment>\r\n              \r\n              <Typography\r\n                component=\"span\"\r\n                variant=\"subtitle2\"\r\n                className={classes.body}\r\n                color=\"textSecondary\"\r\n              >\r\n                {'למעבר לחשבון זה'}\r\n              </Typography>\r\n              <br/>\r\n              <Typography\r\n                component=\"span\"\r\n                variant=\"body2\"\r\n                className={classes.inline}\r\n                color=\"textPrimary\"\r\n              >\r\n                <Link to={`/matualAccounts/${accountId}`}>\r\n                &apos;&apos;{accountTitle}&apos;&apos;\r\n                </Link>\r\n              </Typography>\r\n              </React.Fragment>\r\n            \r\n          } />\r\n               </ListItem>\r\n              \r\n              <Typography\r\n                component=\"span\"\r\n                variant=\"subtitle2\"\r\n                style={{padding:'12px', justifyContent:'flex-end', display:'flex'}}\r\n                color=\"textSecondary\"\r\n              >\r\n               {dayjs(parseInt(createdAt)).fromNow()}&nbsp;<span>:החשבון נוצר</span>\r\n                \r\n              </Typography> \r\n              <div style={{margin:'0 auto',display:'flex'}}>\r\n              <LeaveMatualAccountButton accountId={accountId} userId={user && user.id}/>\r\n              </div>\r\n             \r\n             <Divider style={{marginTop:'12px'}} variant=\"inset\" component=\"li\" />   \r\n            </React.Fragment>\r\n            \r\n            )}\r\n           \r\n            </React.Fragment>\r\n              \r\n        </React.Fragment>\r\n          ))}\r\n        \r\n        \r\n        \r\n        </List>\r\n      </Paper>\r\n     \r\n      </Dialog>\r\n  \r\n    )\r\n}\r\n\r\nexport default Index\r\n\r\n\r\nconst NOTIFICATIONS = gql`\r\nsubscription AddRequestToList{\r\n  addRequestToList{\r\n    id\r\n    seen\r\n    senderName\r\n    senderImageUrl\r\n    accountId\r\n    isConfirmed\r\n    isIgnored\r\n    to\r\n    from\r\n    accountTitle\r\n    body\r\n    createdAt\r\n    updatedAt\r\n  }\r\n}\r\n\r\n\r\n`;\r\n\r\n\r\nconst GET_NOTIFICATIONS = gql`\r\n{\r\n  getNotifications{\r\n    id\r\n    seen\r\n    senderName\r\n    senderImageUrl\r\n    accountId\r\n    isConfirmed\r\n    isIgnored\r\n    to\r\n    from\r\n    accountTitle\r\n    body\r\n    createdAt\r\n    updatedAt\r\n  }\r\n}`;\r\n\r\n\r\n\r\nconst GET_ALL_USERS = gql`\r\nquery{\r\n  getAllUsers{\r\n    id\r\n    username\r\n    profileImageUrl\r\n  }\r\n}\r\n\r\n`;","import React from 'react'\r\nimport Navbar from '../Navbar'\r\nimport {Footer} from './LayoutElements'\r\nimport NotificationsPage from '../../pages/NotificationsPage'\r\nimport { useSelector } from 'react-redux'\r\n\r\n\r\nfunction Index({children}) {\r\n    const user = useSelector(state => state.userReducer.userDetails)\r\n    return (\r\n        <div >\r\n         <Navbar />\r\n          \r\n        <main>\r\n        {children}\r\n        </main>\r\n       \r\n       {!window.location.pathname.split('/')[1] && ( <Footer>\r\n        All Rights Reserved © {new Date().getFullYear()} - Yuval Ben Tzur\r\n        </Footer>)}\r\n        {user && (<NotificationsPage/>)}\r\n       </div>\r\n    )\r\n}\r\n\r\nexport default Index\r\n\r\n","import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { AppBar, IconButton, Toolbar, Collapse, Typography } from '@material-ui/core';\nimport SortIcon from '@material-ui/icons/Sort';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { Link as Scroll } from 'react-scroll';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: '100vh',\n   \n\n    \n },\n     bg:{\n       position:'absolute', \n       bottom:'calc(100% - 300px)',\n       right:'calc(100% - 300px)',\n      backgroundColor: theme.palette.appColor.main,\n       backgroundSize:'cover',\n       height: 500,\n       width: 500,\n       borderRadius:'50%',\n      [theme.breakpoints.down('xs')]:{\n        display: 'none',\n        \n      }\n      \n      \n      },\n   \n  appbarWrapper: {\n    width: '80%',\n    margin: '0 auto',\n  },\n  appbarTitle: {\n    flexGrow: '1',\n  },\n  icon: {\n    color: '#fff',\n    fontSize: '2rem',\n  },\n  colorText: {\n    color: '#5AFF3D',\n  },\n  container: {\n    textAlign: 'center',\n    zIndex:12,\n   \n  },\n  title: {\n    color: theme.palette.appColor.main,\n    fontSize: '4.5rem',\n  },\n  goDown: {\n    color: theme.palette.appColor.main,\n    fontSize: '4rem',\n  },\n  lineInfo:{\n    color: theme.palette.appColor.main,\n    fontSize: '2rem',\n    fontWeight:'bold',\n    padding:'12px 12px'\n  }\n}));\nexport default function Header() {\n  const classes = useStyles();\n  const [checked, setChecked] = useState(false);\n  useEffect(() => {\n    setChecked(true);\n  }, []);\n  return (\n   <>\n    <div className={classes.bg}/>\n   \n   <div className={classes.root} id=\"header\">\n    <Collapse\n        in={checked}\n        {...(checked ? { timeout: 1000 } : {})}\n        collapsedHeight={50}\n      >\n       \n        <div className={classes.container}>\n          <h1 className={classes.title}>\n           BudgeX\n          </h1>\n          <Scroll to=\"place-to-visit\" smooth={true}>\n            <IconButton>\n              <ExpandMoreIcon className={classes.goDown} />\n            </IconButton>\n            <Typography dir='rtl' className={classes.lineInfo} variant='h4' component='h4'>\n            אפליקציית ניהול הוצאות הכנסות  באופן פרטי ומשותף בזמן אמת ! \n              </Typography>\n          </Scroll>\n        </div>\n      </Collapse>\n    </div>\n    </>\n  );\n}\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { Collapse } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      maxWidth: 600,\r\n      background: theme.palette.appColor.main,\r\n      margin: '20px',\r\n    },\r\n    media: {\r\n      height: 200,\r\n    },\r\n    title: {\r\n      fontFamily: 'Nunito',\r\n      fontWeight: 'bold',\r\n      fontSize: '2rem',\r\n      color: '#fff',\r\n    },\r\n    desc: {\r\n      fontFamily: 'Nunito',\r\n      fontSize: '1.1rem',\r\n      color: '#ddd',\r\n    },\r\n  }));\r\n\r\nexport default function ImageCard({ place, checked }) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Collapse in={checked} {...(checked ? { timeout: 1000 } : {})}>\r\n      <Card className={classes.root}>\r\n        <CardMedia\r\n          className={classes.media}\r\n          image={place.imageUrl}\r\n          title=\"Contemplative Reptile\"\r\n        />\r\n        <CardContent>\r\n          <Typography\r\n            gutterBottom\r\n            variant=\"h5\"\r\n            component=\"h1\"\r\n            className={classes.title}\r\n          >\r\n            {place.title}\r\n          </Typography>\r\n          <Typography\r\n            variant=\"body2\"\r\n            color=\"textSecondary\"\r\n            component=\"p\"\r\n            className={classes.desc}\r\n          >\r\n            {place.description}\r\n          </Typography>\r\n        </CardContent>\r\n      </Card>\r\n    </Collapse>\r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport ImageCard from './ImageCard';\r\nimport useWindowPosition from '../hook/useWindowPosition';\r\nimport { Typography } from '@material-ui/core';\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    minHeight: '100vh',\r\n    background: 'whitesmoke',   \r\n    padding: '50px 0 50px 0'\r\n},\r\n\r\n images:{\r\n   \r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    \r\n    [theme.breakpoints.down('sm')]: {\r\n      flexDirection: 'column',\r\n    },\r\n }\r\n}));\r\nexport default function Info() {\r\n  const classes = useStyles();\r\n  const checked = useWindowPosition('header');\r\n  return (\r\n   <div dir='rtl' className={classes.root} id=\"place-to-visit\">\r\n      <Typography style={{display:'flex', justifyContent:'center',fontWeight:'bold', padding:50}} variant='h4' component='h4'>\r\n          אז איך עובדת האפליקצייה ?\r\n      </Typography>\r\n      <div className={classes.images}>\r\n      <ImageCard place={places[1]} checked={checked} />\r\n      <ImageCard place={places[0]} checked={checked} />\r\n   </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\nconst places = [\r\n    {\r\n        title: 'חשבונות משותפים',\r\n        description:\r\n          'בחשבונות משותפים אתם יכולים להוסיף חברים לחשבון שלכם ולהוסיף או לעדכן פריטים לרשימת הוצאות והכנסות בזמן אמת!',\r\n        imageUrl: \"https://creditkarma-cms-ca.imgix.net/wp-content/uploads/sites/2/2020/08/50-30-20-rule932275488.jpg?w=1024&auto=compress\",\r\n        time: 1500,\r\n      },\r\n    \r\n    {\r\n      title: 'החשבונות שלי',\r\n      description:\r\n        \"דף החשבונות שלי נועד למעקב אחר הוצאות והכנסות באופן פרטי ולראות בדיוק כמה הוצאתם או הכנסתם בגרף מסודר.\",\r\n      imageUrl: \"https://www.moneycrashers.com/wp-content/uploads/2011/02/woman-making-budget.jpg\",\r\n      time: 1500,\r\n    },\r\n    \r\n  ];","import { useLayoutEffect, useState } from 'react';\n\nexport default function useWindowPosition(id) {\n  const [animation, setAnimation] = useState(false);\n\n  useLayoutEffect(() => {\n    function updatePosition() {\n      const offetSetHeight = window.document.getElementById(id).offsetHeight;\n      if (window.pageYOffset > offetSetHeight * 0.7) {\n        setAnimation(true);\n      }\n    }\n    window.addEventListener('scroll', updatePosition);\n    updatePosition();\n    return () => window.removeEventListener('scroll', updatePosition);\n  }, [id]);\n  return animation;\n}\n","import React from 'react'\r\nimport Layout from '../../components/Layout'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { CssBaseline } from '@material-ui/core';\r\nimport Header from './components/Header';\r\nimport Info from './components/Info'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      minHeight: '100vh',\r\n      \r\n      backgroundRepeat: 'no-repeat',\r\n      backgroundSize: 'cover',\r\n    },\r\n  }));\r\nfunction Index() {\r\n    \r\n    const classes = useStyles();\r\n    \r\n    return (\r\n        <Layout>\r\n        <div className={classes.root}>\r\n         <CssBaseline />\r\n          <Header />\r\n           <Info/>\r\n          </div>\r\n     \r\n        </Layout>\r\n        \r\n    )\r\n}\r\n\r\nexport default Index\r\n\r\n\r\n\r\n\r\n","import React,{useState} from 'react';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {useSelector,useDispatch} from 'react-redux'\r\nimport { Typography, \r\n  DialogTitle, \r\n  DialogContent, \r\n  DialogActions, \r\n  DialogContentText,\r\n  TextField,\r\n  FormControl,\r\n  InputAdornment } from '@material-ui/core';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport AccountBalanceWalletRoundedIcon from '@material-ui/icons/AccountBalanceWalletRounded';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport gql from 'graphql-tag'\r\nimport {useMutation} from '@apollo/react-hooks'\r\nimport {useForm} from '../../../hooks/useForm'\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport history from '../../../util/history';\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    \r\n        root: {\r\n          height: 0,\r\n          \r\n        },\r\n        wrapper: {\r\n          width: 100 + theme.spacing(2),\r\n          \r\n        },\r\n        /* desktop config */\r\n        paper: {\r\n          zIndex:13,\r\n          position: 'absolute',\r\n          bottom:'15%',\r\n          width:'40%',\r\n          left:'130%',\r\n          height:'70%',\r\n          boxShadow: theme.shadows[5],\r\n          \r\n         /* mediun config */\r\n         [theme.breakpoints.only('md')]: {\r\n          top:'8%',\r\n          bottom:'15%',\r\n          width:'50%',\r\n          left:'125%',\r\n          height:'70%',\r\n              \r\n        },\r\n      \r\n             /* small config */\r\n             [theme.breakpoints.only('sm')]: {\r\n              top:'8%',\r\n              bottom:'15%',\r\n              width:'50%',\r\n              left:'125%',\r\n              height:'70%',\r\n                  \r\n            },\r\n      \r\n      \r\n      \r\n          /* very small config */\r\n          [theme.breakpoints.only('xs')]: {\r\n              top:'8%',\r\n              bottom:'15%',\r\n              width:'70%',\r\n              left:'115%',\r\n              height:'70%',\r\n                  \r\n            },\r\n      },\r\n      \r\n      \r\n       \r\n      \r\n})); // styles for general modal\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n \r\n  return <Slide direction=\"down\" ref={ref} {...props} />;\r\n  });\r\n\r\n\r\n\r\nconst useFormStyles = makeStyles(() => ({\r\n    HeadLine:{\r\n        background:'#242333',\r\n        color:'whitesmoke',\r\n        fontFamily: 'Varela Round',\r\n        borderTopLeftRadius:'4px',\r\n        borderTopRightRadius:'4px'\r\n    }\r\n}));\r\n\r\nexport default function SimpleSlide() {\r\n    const classes = useStyles();\r\n    const FormClasses = useFormStyles()\r\n    \r\n    const ModalIsOpen = window.location.pathname === '/myAccounts/addAccount'\r\n    const input = React.useRef()\r\n    \r\n    const [errors, setErrors] = useState({});\r\n  \r\n  const { onChange, onSubmit, values } = useForm(createAccountCallback, {\r\n    title: '',\r\n  \r\n   \r\n  });\r\n\r\n    \r\n    const [createAccount, { loading }] = useMutation(CREATE_ACCOUNT, {\r\n      variables: values,\r\n      update(proxy, result) {\r\n        const data = proxy.readQuery({\r\n          query: GET_USER_ACCOUNTS,\r\n          });\r\n        \r\n         \r\n         data.getUserAccounts = [result.data.createAccount, ...data.getUserAccounts];\r\n     \r\n        proxy.writeQuery({ query: GET_USER_ACCOUNTS, data});\r\n         values.title = ''\r\n        },\r\n        onError:(err) => console.log(err),\r\n     \r\n      onCompleted:() => {\r\n       history.goBack()\r\n      \r\n      \r\n      }\r\n\r\n      \r\n    });\r\n  \r\n    function createAccountCallback() {\r\n      createAccount();\r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n   \r\n  return (\r\n    \r\n  \r\n      <div>\r\n     \r\n      <Dialog\r\n        onEscapeKeyDown={() => !ModalIsOpen}\r\n        open={ModalIsOpen}\r\n        TransitionComponent={Transition}\r\n        keepMounted\r\n        onClose={() => history.goBack()}\r\n        aria-labelledby=\"alert-dialog-slide-title\"\r\n        aria-describedby=\"alert-dialog-slide-description\"\r\n        style={{zIndex:1, textAlign:'center'}}\r\n        \r\n      >\r\n        <form onSubmit={onSubmit} noValidate>\r\n        <DialogTitle id=\"alert-dialog-slide-title\"> <Typography component=\"div\" variant=\"h5\" className={FormClasses.HeadLine}>:יצירת חשבון</Typography></DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-slide-description\">\r\n          : צור חשבון\r\n          </DialogContentText>\r\n        \r\n          \r\n          <FormControl className={classes.margin}>\r\n        <TextField\r\n          id=\"input-with-icon-textfield\"\r\n          label=\":שם החשבון\"\r\n          type=\"text\"\r\n          name=\"title\"\r\n          inputRef={input}\r\n          value={values.title}\r\n          onChange={onChange}\r\n          error={errors.title ? true : false}\r\n          helperText={errors.title} \r\n          InputProps={{\r\n            startAdornment: (\r\n              <InputAdornment position=\"start\">\r\n                <AccountBalanceWalletRoundedIcon />\r\n              </InputAdornment>\r\n            ),\r\n          }}\r\n        />\r\n      </FormControl>\r\n     </DialogContent>\r\n        <DialogActions>\r\n       {loading ? (<CircularProgress size={35} style={{margin:'0 auto', color:'green'}} />) : (\r\n        <Fab\r\n        aria-label=\"save\"\r\n        color=\"primary\"\r\n        style={{margin:'0 auto',backgroundColor:'green'}}\r\n        size={'small'}\r\n        type=\"submit\"\r\n        onClick={onSubmit}\r\n        disabled={values.title.trim() === \"\"}\r\n        >\r\n        <CheckIcon />\r\n        </Fab>\r\n       )} \r\n       </DialogActions>\r\n        </form>\r\n      </Dialog>\r\n    </div>      \r\n  );\r\n}\r\n\r\n\r\nconst CREATE_ACCOUNT = gql`\r\nmutation createAccount($title:String!) {\r\n  createAccount(title:$title){\r\n    id\r\n    createdAt\r\n    updatedAt\r\n    owner\r\n    title\r\n    list{\r\n      id\r\n    }\r\n    }\r\n }\r\n`;\r\n\r\nconst GET_USER_ACCOUNTS = gql`\r\n{\r\n  getUserAccounts{\r\n    id\r\n    createdAt\r\n    updatedAt\r\n    owner\r\n    title\r\n    list{\r\n      id\r\n    }\r\n    }\r\n}\r\n`;\r\n\r\n\r\n \r\n \r\n","import React,{useState} from 'react';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {useSelector,useDispatch} from 'react-redux'\r\nimport { Typography,  \r\n  DialogContent, \r\n  DialogActions, \r\n  DialogContentText,\r\n  TextField,\r\n  FormControl,\r\n  InputAdornment,\r\n  IconButton } from '@material-ui/core';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport AccountBalanceWalletRoundedIcon from '@material-ui/icons/AccountBalanceWalletRounded';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport gql from 'graphql-tag'\r\nimport {useMutation} from '@apollo/react-hooks'\r\nimport {useForm} from '../../../hooks/useForm'\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport history from '../../../util/history';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    \r\n        root: {\r\n          height: 0,\r\n          \r\n        },\r\n        wrapper: {\r\n          width: 100 + theme.spacing(2),\r\n          \r\n        },      \r\n      \r\n})); // styles for general modal\r\n\r\n\r\nconst styles = (theme) => ({\r\n    root: {\r\n      margin: 0,\r\n      padding: theme.spacing(2),\r\n    },\r\n    closeButton: {\r\n      position: 'absolute',\r\n      right: theme.spacing(1),\r\n      top: theme.spacing(1),\r\n      color: theme.palette.grey[500],\r\n    },\r\n   \r\n  });\r\n\r\n\r\nconst DialogTitle = withStyles(styles)((props) => {\r\n    const { children, classes, onClose, ...other } = props;\r\n    return (\r\n      <MuiDialogTitle disableTypography className={classes.root} {...other}>\r\n        <Typography variant=\"h6\">{children}</Typography>\r\n        {onClose ? (\r\n          <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n            <CloseIcon />\r\n          </IconButton>\r\n        ) : null}\r\n      </MuiDialogTitle>\r\n    );\r\n  });   \r\n\r\n\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n \r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n  });\r\n\r\n\r\n\r\nconst useFormStyles = makeStyles(() => ({\r\n    HeadLine:{\r\n        background:'#242333',\r\n        color:'whitesmoke',\r\n        fontFamily: 'Varela Round',\r\n        borderTopLeftRadius:'4px',\r\n        borderTopRightRadius:'4px'\r\n    }\r\n}));\r\n\r\nexport default function SimpleSlide() {\r\n    const classes = useStyles();\r\n    const FormClasses = useFormStyles()\r\n    const params = useParams()\r\n    \r\n    const accountDetails = useSelector(state => state.uiReducer.UpdateAccountModalIsOpen.accountDetails)\r\n    \r\n    const ModalIsOpen = window.location.pathname === `/myAccounts/updateAccount/${params.accountId}` && accountDetails !== null  \r\n    \r\n   \r\n    \r\n    const [title, setTitle] = useState('');\r\n    const input = React.useRef()\r\n    \r\n    const [errors, setErrors] = useState({});\r\n  \r\n  const {onSubmit, values} = useForm(updateAccountCallback, {\r\n    title: title,\r\n  \r\n   \r\n  });\r\n\r\n    \r\n    const [updateAccount, { loading }] = useMutation(UPDATE_ACCOUNT, {\r\n      variables:{\r\n        accountId:accountDetails && accountDetails.id,  \r\n        title: title\r\n      },\r\n      update(proxy, result) {\r\n        values.title = ''\r\n        \r\n        \r\n      },\r\n      onCompleted:() =>{\r\n        history.goBack()\r\n        \r\n      }\r\n\r\n      \r\n    });\r\n  \r\n    function updateAccountCallback() {\r\n        updateAccount();\r\n    }\r\n    \r\n    \r\n    \r\n  React.useEffect(() => {\r\n    if(ModalIsOpen){\r\n      if(accountDetails){\r\n        console.log(accountDetails.title);\r\n         setTitle(accountDetails.title)\r\n    }\r\n    }\r\n    \r\n   },[ModalIsOpen,accountDetails])\r\n\r\n   \r\n\r\n  return (\r\n    \r\n  \r\n      <div>\r\n     \r\n      <Dialog\r\n        onEscapeKeyDown={() => ModalIsOpen}\r\n        open={ModalIsOpen}\r\n        TransitionComponent={Transition}\r\n        keepMounted\r\n        onClose={() => !ModalIsOpen}\r\n        aria-labelledby=\"alert-dialog-slide-title\"\r\n        aria-describedby=\"alert-dialog-slide-description\"\r\n        style={{zIndex:12, textAlign:'center'}}\r\n        \r\n      >\r\n        <form onSubmit={onSubmit} noValidate>\r\n        \r\n        \r\n            <DialogTitle id=\"alert-dialog-slide-title\" onClose={() => history.goBack()} style={{textAlign:'center'}}> \r\n        <Typography component=\"div\" variant=\"h5\" className={FormClasses.HeadLine}>:עריכת חשבון</Typography>\r\n        </DialogTitle>\r\n        \r\n        \r\n        \r\n        \r\n        \r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-slide-description\">\r\n          : עדכן את שם החשבון\r\n          </DialogContentText>\r\n        \r\n          \r\n          <FormControl className={classes.margin}>\r\n        <TextField\r\n          id=\"input-with-icon-textfield\"\r\n          label=\":שם החשבון\"\r\n          type=\"text\"\r\n          name=\"title\"\r\n          inputRef={input}\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n          error={errors.title ? true : false}\r\n          helperText={errors.title} \r\n          InputProps={{\r\n            startAdornment: (\r\n              <InputAdornment position=\"start\">\r\n                <AccountBalanceWalletRoundedIcon />\r\n              </InputAdornment>\r\n            ),\r\n          }}\r\n        />\r\n      </FormControl>\r\n        \r\n        \r\n        \r\n        </DialogContent>\r\n        <DialogActions>\r\n        {loading ? (<CircularProgress variant='indeterminate' style={{margin:'0 auto',color:'green'}} size={35}/>)\r\n         : (<Fab\r\n            aria-label=\"save\"\r\n            color=\"primary\"\r\n            style={{margin:'0 auto',backgroundColor:'green'}}\r\n            size={'small'}\r\n            type=\"submit\"\r\n            onClick={onSubmit}\r\n            disabled={accountDetails && (title.trim() === \"\" || title.trim() === accountDetails.title) }\r\n          >\r\n           <CheckIcon />\r\n          </Fab>)}\r\n        \r\n        \r\n        </DialogActions>\r\n        </form>\r\n      </Dialog>\r\n    </div>\r\n\r\n      \r\n\r\n\r\n      \r\n  );\r\n}\r\n\r\n\r\nconst UPDATE_ACCOUNT = gql`\r\nmutation updateAccount($accountId:ID!,$title:String!) {\r\n  updateAccount(accountId:$accountId,title:$title){\r\n    id\r\n    createdAt\r\n    updatedAt\r\n    title\r\n    owner\r\n    }\r\n }\r\n`;\r\n\r\nconst GET_USER_ACCOUNTS = gql`\r\n{\r\n  getUserAccounts{\r\n    id\r\n    createdAt\r\n    updatedAt\r\n    owner\r\n    title\r\n    }\r\n}\r\n`;\r\n\r\n\r\n \r\n \r\n","import React from 'react'\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport gql from 'graphql-tag'\r\nimport { useMutation } from '@apollo/react-hooks';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport history from '../../../../util/history';\r\nimport { Link, useParams } from 'react-router-dom';\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      display: 'flex',\r\n      zIndex:13\r\n    },\r\n    paper: {\r\n    \r\n     \r\n    },\r\n\r\n    OptionBar:{\r\n        position:'absolute',\r\n        zIndex:13,\r\n        top:8,\r\n        left:2, \r\n        color:'white'\r\n      },\r\n      Delete:{\r\n          color:'#d50000',\r\n          fontFamily:'Varela Round',\r\n          fontWeight:'bold'\r\n      },\r\n      Update:{\r\n        fontFamily:'Varela Round',\r\n        fontWeight:'bold'  \r\n      },\r\n\r\n      dialogTitle:{\r\n          fontFamily:'Varela Round',\r\n          fontWeight:'bold',\r\n          backgroundColor:'#d50000',\r\n          color:'white',\r\n\r\n          \r\n      }\r\n\r\n     \r\n  }));\r\n  const Transition = React.forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n  });\r\n \r\nfunction Index({accountId,setOpen}) {\r\n    \r\n    const classes = useStyles();\r\n     \r\n    const params = useParams()\r\n  \r\n   const ModalIsOpen = window.location.pathname === `/myAccounts/deleteAccount/${params.accountId}`\r\n\r\n    const [deleteAccount,{loading}] = useMutation(DELETE_ACCOUNT,\r\n        {\r\n        refetchQueries:[{query:GET_USER_ACCOUNTS}],\r\n        onCompleted:() => {\r\n         history.goBack()\r\n         setOpen(false)\r\n       },\r\n\r\n        onError:(err) => console.log(err),\r\n        variables: {\r\n           accountId:params.accountId,\r\n        }\r\n      });\r\n    \r\n    return (\r\n        <>\r\n        <MenuItem className={classes.Delete} component={Link} to={`/myAccounts/deleteAccount/${accountId}`}>מחק חשבון</MenuItem>\r\n        \r\n      <Dialog\r\n        open={ModalIsOpen}\r\n        TransitionComponent={Transition}\r\n        keepMounted\r\n        onClose={() => ModalIsOpen}\r\n        aria-labelledby=\"alert-dialog-slide-title\"\r\n        aria-describedby=\"alert-dialog-slide-description\"\r\n        style={{textAlign:'center'}}\r\n        >\r\n        <DialogTitle className={classes.dialogTitle} id=\"alert-dialog-slide-title\">מחיקת חשבון</DialogTitle>\r\n        <DialogContent >\r\n          <DialogContentText id=\"alert-dialog-slide-description\">\r\n           ? האם את/ה בטוח/ה שברצונך למחוק חשבון זה \r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions  style={{margin:'0 auto'}} >\r\n          \r\n          {loading ? (\r\n            <CircularProgress \r\n            size={35} \r\n            variant='indeterminate' \r\n            style={{color:'red', margin:'0 auto'}}/>\r\n          ) : (\r\n            <>\r\n            <Button onClick={() => history.goBack()} color=\"primary\"  >\r\n            לא\r\n          </Button>\r\n          <Button onClick={deleteAccount} color=\"primary\">\r\n            כן\r\n          </Button>\r\n          </>\r\n          )}\r\n        \r\n        </DialogActions>\r\n      </Dialog>\r\n      </>\r\n    )\r\n}\r\n\r\nexport default Index\r\n\r\n\r\n\r\nconst DELETE_ACCOUNT = gql`\r\nmutation deleteAccount($accountId:ID!){\r\n    deleteAccount(accountId:$accountId)\r\n  }\r\n`;\r\n\r\nconst GET_USER_ACCOUNTS = gql`\r\n{\r\n  getUserAccounts{\r\n    id\r\n    createdAt\r\n    updatedAt\r\n    owner\r\n    title\r\n    }\r\n}\r\n`;","import React from 'react'\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {useDispatch} from 'react-redux'\r\nimport { SET_UpdateAccount_Modal_Open } from '../../../../Redux/actionTypes';\r\nimport { Link } from 'react-router-dom';\r\nconst useStyles = makeStyles(() => ({\r\n\r\n    Update:{\r\n        fontFamily:'Varela Round',\r\n        fontWeight:'bold'  \r\n      }\r\n}))\r\n\r\n\r\nfunction Index({accountDetails}) {\r\n    const classes = useStyles()\r\n    const dispatch = useDispatch()\r\n    \r\n    \r\n    \r\n    return (\r\n        <MenuItem \r\n        className={classes.Update} \r\n        component={Link}\r\n        to={`/myAccounts/updateAccount/${accountDetails.id}`}\r\n        onClick={() =>{ \r\n            dispatch({type:SET_UpdateAccount_Modal_Open, payload:accountDetails})\r\n           }}>\r\n            עדכן חשבון\r\n            </MenuItem>\r\n    )\r\n}\r\n\r\nexport default Index\r\n","import React from 'react'\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\r\nimport Grow from '@material-ui/core/Grow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Popper from '@material-ui/core/Popper';\r\nimport MenuList from '@material-ui/core/MenuList';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport MoreVertRoundedIcon from '@material-ui/icons/MoreVertRounded';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport DeleteMenuItem from './DeleteOptionAccount';\r\nimport UpdateMenuItem from './UpdateOptionAccount'\r\nimport {useDispatch} from 'react-redux';\r\nimport history from '../../../util/history';\r\nimport { useParams } from 'react-router-dom';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      display: 'flex',\r\n      zIndex:13\r\n    },\r\n    \r\n    OptionBar:{\r\n        position:'absolute',\r\n        zIndex:13,\r\n        top:8,\r\n        left:2, \r\n        color:'white',\r\n        \r\n      },\r\n      Delete:{\r\n          color:'#d50000',\r\n          fontFamily:'Varela Round',\r\n          fontWeight:'bold'\r\n      },\r\n      \r\n\r\n     \r\n  }));\r\n\r\n\r\n\r\nfunction Index({accountId, accountDetails}) {\r\n   const dispatch = useDispatch()\r\n\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(false);\r\n  const anchorRef = React.useRef(null);\r\n  const params = useParams()\r\n\r\n  const handleToggle = () => {\r\n    if(params.accountId){\r\n       history.goBack()\r\n    }\r\n    setOpen((prevOpen) => !prevOpen);\r\n  };\r\n\r\n  const handleClose = (event) => {\r\n    if (anchorRef.current && anchorRef.current.contains(event.target)) {\r\n      return;\r\n    }\r\n\r\n    setOpen(false);\r\n  }; \r\n\r\n  function handleListKeyDown(event) {\r\n    if (event.key === 'Tab') {\r\n      event.preventDefault();\r\n      setOpen(false);\r\n    }\r\n  }\r\n\r\n  // return focus to the button when we transitioned from !open -> open\r\n  const prevOpen = React.useRef(open);\r\n  React.useEffect(() => {\r\n    if (prevOpen.current === true && open === false) {\r\n      anchorRef.current.focus();\r\n    }\r\n\r\n    prevOpen.current = open;\r\n  }, [open]);\r\n    \r\n    \r\n     return (\r\n        \r\n        <div className={classes.root}>\r\n      \r\n    \r\n      <div style={{position:'relative'}}>\r\n        <IconButton \r\n          ref={anchorRef}\r\n          aria-controls={open ? 'menu-list-grow' : undefined}\r\n          aria-haspopup=\"true\"\r\n          onClick={handleToggle}\r\n            className={classes.OptionBar}>\r\n          <MoreVertRoundedIcon  />\r\n          </IconButton>\r\n          </div>\r\n         \r\n        <Popper  open={open} anchorEl={anchorRef.current} role={undefined} transition disablePortal>\r\n          {({ TransitionProps, placement }) => (\r\n            <Grow\r\n              {...TransitionProps}\r\n              style={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }}\r\n            >\r\n              <Paper className={classes.paper}>\r\n                 <ClickAwayListener onClickAway={handleClose}>\r\n                  <MenuList autoFocusItem={open} id=\"menu-list-grow\" onKeyDown={handleListKeyDown}>\r\n                    <UpdateMenuItem accountId={accountId} accountDetails={accountDetails} />\r\n                    <DeleteMenuItem accountId={accountId} setOpen={setOpen}/>\r\n                  </MenuList>\r\n                  </ClickAwayListener>\r\n              </Paper>\r\n            </Grow>\r\n          )}\r\n        </Popper>\r\n      \r\n    </div>\r\n        \r\n    \r\n    )\r\n}\r\n\r\nexport default Index\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport ButtonBase from '@material-ui/core/ButtonBase';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { useQuery} from '@apollo/react-hooks';\r\nimport MyAccountModal from '../../myAccounts/components/ModalMyAccounts';\r\nimport UpdateAccountModal from '../../myAccounts/components/UpdateMyAccountModal'\r\nimport gql from 'graphql-tag'\r\nimport MenuOptionsBar from '../../myAccounts/components/MoreOptionsButton'\r\nimport { Link } from 'react-router-dom';\r\nimport { useRef } from 'react';\r\nimport { Container, IconButton} from '@material-ui/core';\r\nimport ListAltRoundedIcon from '@material-ui/icons/ListAltRounded'\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    width: '100%',\r\n    height: 'fit-content',\r\n  },\r\n  \r\n  image: {\r\n    position: 'relative',\r\n    height: 200,\r\n    [theme.breakpoints.up('xs')]: {\r\n      width: '100% !important', // Overrides inline-style\r\n      height: 200,\r\n    },\r\n    '&:hover, &$focusVisible': {\r\n      zIndex: 1,\r\n      wordBreak:'break-all',\r\n      '& $imageBackdrop': {\r\n        opacity: 0.15,\r\n      },\r\n      '& $imageMarked': {\r\n        opacity: 0,\r\n      },\r\n      \r\n      '& $imageTitle': {\r\n        border: '2px solid currentColor',\r\n        backgroundColor:'rgba(0,0,0,0.2)',\r\n        \r\n        \r\n      },\r\n\r\n      '& $button': {\r\n        color:'black',\r\n      },\r\n    },\r\n  },\r\n  focusVisible: {},\r\n  imageButton: {\r\n    position: 'absolute',\r\n    left: 0,\r\n    right: 0,\r\n    top: 0,\r\n    bottom: 0,\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    color: theme.palette.common.white,\r\n  },\r\n  imageSrc: {\r\n    position: 'absolute',\r\n    left: 0,\r\n    right: 0,\r\n    top: 0,\r\n    bottom: 0,\r\n    backgroundSize: 'cover',\r\n    backgroundPosition: 'center 40%',\r\n  },\r\n  imageBackdrop: {\r\n    position: 'absolute',\r\n    left: 0,\r\n    right: 0,\r\n    top: 0,\r\n    bottom: 0,\r\n    backgroundColor: theme.palette.common.black,\r\n    opacity: 0.4,\r\n    transition: theme.transitions.create('opacity'),\r\n  },\r\n  imageTitle: {\r\n    position: 'relative',\r\n    padding: `${theme.spacing(2)}px ${theme.spacing(4)}px ${theme.spacing(2)}px`,\r\n    fontFamily:'Varela Round',\r\n    fontSize:18,\r\n    wordBreak:'break-all',\r\n    \r\n  },\r\n  imageMarked: {\r\n    height: 3,\r\n    width: 18,\r\n    backgroundColor: theme.palette.common.white,\r\n    position: 'absolute',\r\n    bottom: -2,\r\n    left: 'calc(50% - 9px)',\r\n    transition: theme.transitions.create('opacity'),\r\n    \r\n  },\r\n\r\n  button:{\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    },\r\n  \r\n  \r\n  \r\n});\r\n\r\nconst NoAccountsDisplay = () => (\r\n  <Typography style={{margin:'20% auto'}} color='primary' variant='h5' component='h5'>\r\n  ...אין לך חשבונות עדיין\r\n  </Typography> \r\n )\r\n\r\nfunction ButtonBases(props) {\r\n  const { classes } = props;\r\n   const input = useRef()\r\n  \r\n \r\n  const {data} = useQuery(GET_USER_ACCOUNTS);\r\n  \r\n  console.log(\"myAccounts page\");\r\n  \r\n\r\n  \r\n  \r\n  return (\r\n    \r\n      <>\r\n      <Grid  \r\n      container\r\n      direction=\"row\"\r\n      spacing={0}\r\n      ref={input} \r\n      className={classes.root}\r\n      >\r\n      \r\n      \r\n      {data && data.getUserAccounts.length === 0 && (<NoAccountsDisplay/>)}\r\n      \r\n       {data &&  data.getUserAccounts.map((account) => (\r\n      \r\n      <Grid  key={account.id} item xs={12} sm={4} >\r\n        \r\n        <div className={classes.button}>\r\n       <MenuOptionsBar accountId={account.id} accountDetails={account}/>\r\n        </div>\r\n        \r\n       <div style={{display:'flex', position:'relative',zIndex:13}}>\r\n        <IconButton style={{position:'absolute', right:4,top:1, color:'white'}}>\r\n        <ListAltRoundedIcon />\r\n        <Typography variant='h6' component='h6' style={{marginLeft:5,fontFamily:'Varela Round',}}>\r\n          {account.list.length}\r\n        </Typography>\r\n        </IconButton>\r\n        </div>\r\n        \r\n        <ButtonBase\r\n          focusRipple\r\n          key={account.id}\r\n          className={classes.image}\r\n          focusVisibleClassName={classes.focusVisible}\r\n          component={Link}\r\n          to={`/myAccounts/${account.id}`}\r\n          >\r\n        \r\n          <span\r\n            className={classes.imageSrc}\r\n            style={{\r\n              backgroundImage: `url(https://www.moneycrashers.com/wp-content/uploads/2011/02/woman-making-budget.jpg)`,\r\n            }}\r\n          />\r\n       \r\n        \r\n          <span className={classes.imageBackdrop} />\r\n          <span className={classes.imageButton}>\r\n         \r\n            <Typography\r\n              component=\"span\"\r\n              variant=\"subtitle1\"\r\n              color=\"inherit\"\r\n              className={classes.imageTitle}\r\n            >\r\n              {account.title}\r\n              <span className={classes.imageMarked} />\r\n            </Typography>\r\n          </span>\r\n         \r\n         \r\n        </ButtonBase>\r\n        \r\n        <div style={{display:'flex', position:'relative',zIndex:13}}>\r\n        <Typography \r\n        variant='caption' \r\n        component='h6' \r\n        style={{\r\n          position:'absolute', \r\n          right:4,bottom:2, \r\n          color:'white',\r\n          marginLeft:5,\r\n          fontFamily:'Varela Round',}}>\r\n          {new Date(Number(account.createdAt)).toDateString()}\r\n        </Typography>\r\n      \r\n        </div>\r\n   \r\n        \r\n        </Grid>\r\n        \r\n    ))}\r\n  \r\n  </Grid>\r\n  \r\n  \r\n\r\n<MyAccountModal/>\r\n\r\n<UpdateAccountModal/>\r\n  \r\n</>\r\n  \r\n  );\r\n}\r\n\r\nButtonBases.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(ButtonBases);\r\n\r\nconst GET_USER_ACCOUNTS = gql`\r\n {\r\n  getUserAccounts{\r\n    id\r\n    createdAt\r\n    updatedAt\r\n    owner\r\n    title\r\n    list{\r\n      id\r\n    }\r\n    }\r\n}\r\n`;","import React from 'react';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport AccountBalanceWalletRoundedIcon from '@material-ui/icons/AccountBalanceWalletRounded';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport GroupRoundedIcon from '@material-ui/icons/GroupRounded';\r\nimport { Typography, \r\n  DialogTitle, \r\n  DialogContent, \r\n  DialogActions, \r\n  DialogContentText,\r\n  FormControl,\r\n  TextField,\r\n  InputAdornment,\r\n  \r\n} from '@material-ui/core';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport { useLazyQuery, useMutation, useQuery } from '@apollo/react-hooks';\r\nimport gql from 'graphql-tag'\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport CheckBoxOutlineBlankIcon from '@material-ui/icons/CheckBoxOutlineBlank';\r\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\r\nimport { useState } from 'react';\r\nimport history from '../../../util/history';\r\nimport { useForm } from '../../../hooks/useForm';\r\n\r\n\r\nconst icon = <CheckBoxOutlineBlankIcon fontSize=\"small\" />;\r\nconst checkedIcon = <CheckBoxIcon fontSize=\"small\" />;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    \r\n    root: {\r\n      height: 0,\r\n     \r\n      \r\n    },\r\n    wrapper: {\r\n      width: 100 + theme.spacing(2),\r\n    },\r\n    /* desktop config */\r\n    paper: {\r\n      zIndex:13,\r\n      position: 'absolute',\r\n      bottom:'15%',\r\n      width:'40%',\r\n      left:'30%',\r\n      height:'70%',\r\n     \r\n      \r\n     /* mediun config */\r\n     [theme.breakpoints.only('md')]: {\r\n      top:'8%',\r\n      bottom:'15%',\r\n      width:'50%',\r\n      left:'25%',\r\n      height:'70%',\r\n          \r\n    },\r\n  \r\n         /* small config */\r\n         [theme.breakpoints.only('sm')]: {\r\n          top:'8%',\r\n          bottom:'15%',\r\n          width:'50%',\r\n          left:'25%',\r\n          height:'70%',\r\n              \r\n        },\r\n  \r\n  \r\n  \r\n      /* very small config */\r\n      [theme.breakpoints.only('xs')]: {\r\n          top:'8%',\r\n          bottom:'15%',\r\n          width:'70%',\r\n          left:'15%',\r\n          height:'70%',\r\n             \r\n        },\r\n  },\r\n  \r\n  margin:{\r\n    margin:'5px'\r\n  }\r\n   \r\n  \r\n})); // styles for general modal\r\n\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"down\" ref={ref} {...props} />;\r\n  });\r\n\r\n\r\n\r\nconst useFormStyles = makeStyles(() => ({\r\n    HeadLine:{\r\n        background:'#242333',\r\n        color:'whitesmoke',\r\n        fontFamily: 'Varela Round',\r\n        borderTopLeftRadius:'4px',\r\n        borderTopRightRadius:'4px'\r\n    }\r\n}));\r\n\r\n\r\nexport default function SimpleSlide() {\r\n    const classes = useStyles();\r\n    const FormClasses = useFormStyles()\r\n   \r\n     const ModalIsOpen = window.location.pathname === `/matualAccounts/addAccount`\r\n    \r\n    \r\n    \r\n    const [getAllUsers,{ data}] = useLazyQuery(GET_ALL_USERS)\r\n    const [selectedFreinds, setSelectedFreinds] = useState([])\r\n  \r\n    const [errors, setErrors] = useState({});\r\n  \r\n    const { onChange, onSubmit, values } = useForm(createAccountCallback, {\r\n      title: '',\r\n    \r\n     \r\n    });\r\n      const selectedFreindsId =  selectedFreinds.map(f => f.id)\r\n      console.log(selectedFreindsId);\r\n      \r\n      \r\n      \r\n      const [createMatualAccount,{loading}] = useMutation(CREATE_MATUAL_ACCOUNT, {\r\n        variables: {\r\n          title:values.title,\r\n          freinds:selectedFreindsId\r\n        },\r\n        update(proxy, result) {\r\n          const data = proxy.readQuery({\r\n            query: GET_USER_MATUAL_ACCOUNTS\r\n          });\r\n          data.getUserMatualAccounts = [result.data.createMatualAccount, ...data.getUserMatualAccounts];\r\n          proxy.writeQuery({ query: GET_USER_MATUAL_ACCOUNTS, data });\r\n           values.title = ''\r\n         },\r\n        onCompleted:() =>{\r\n        setSelectedFreinds([])\r\n          history.goBack()\r\n        }\r\n  \r\n        \r\n      });\r\n    \r\n      function createAccountCallback() {\r\n        createMatualAccount();\r\n      }\r\n\r\n   \r\n   \r\n   \r\n   \r\n   \r\n    const [open, setOpen] = React.useState(false);\r\n    const [options, setOptions] = React.useState([]);\r\n    const input = React.useRef()\r\n  \r\n    \r\n    \r\n    \r\n    \r\n    React.useEffect(() => {\r\n    if(data){\r\n        const users = data.getAllUsers;\r\n         \r\n        setOptions(users);\r\n       \r\n        console.log(\"users\",options);\r\n       \r\n      }\r\n     }, [open, data]);\r\n\r\n  \r\n  return (\r\n\r\n      <div>\r\n     \r\n      <Dialog\r\n        onEscapeKeyDown={() => !ModalIsOpen}\r\n        open={ModalIsOpen}\r\n        TransitionComponent={Transition}\r\n        keepMounted\r\n        onClose={() => history.goBack()}\r\n        aria-labelledby=\"alert-dialog-slide-title\"\r\n        aria-describedby=\"alert-dialog-slide-description\"\r\n        style={{zIndex:1, textAlign:'center'}}\r\n      >\r\n        <form onSubmit={onSubmit} noValidate>\r\n        <DialogTitle id=\"alert-dialog-slide-title\">\r\n          <Typography component=\"div\" variant=\"h5\" className={FormClasses.HeadLine}>:יצירת חשבון משותף</Typography>\r\n          </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-slide-description\">\r\n          :צור חשבון והוסף חברים לחשבון\r\n          </DialogContentText>\r\n          \r\n          <div>\r\n          <FormControl  className={classes.margin}>\r\n        <TextField\r\n          id=\"input-with-icon-textfield8392178397\"\r\n          aria-label='createAccount'\r\n          label=\":שם החשבון\"\r\n          type=\"text\"\r\n          name=\"title\"\r\n          inputRef={input}\r\n          value={values.title}\r\n          onChange={onChange}\r\n          error={errors.title ? true : false}\r\n          helperText={errors.title}\r\n          InputProps={{\r\n            startAdornment: (\r\n            <InputAdornment position=\"start\">\r\n                <AccountBalanceWalletRoundedIcon  />\r\n              </InputAdornment>\r\n            ),\r\n          }}\r\n        />\r\n      </FormControl>\r\n      </div>\r\n       \r\n       <div>\r\n      <FormControl className={classes.margin}>\r\n      <Autocomplete\r\n      multiple\r\n      disableCloseOnSelect\r\n      id=\"asynchronous-demo6534fd3\"\r\n      name=\"addFreinds\"\r\n      style={{maxWidth:250,minWidth:220}}\r\n      open={open}\r\n      onOpen={() => {\r\n        getAllUsers();\r\n         setOpen(true);\r\n       }}\r\n     \r\n      onClose={() => setOpen(false)}\r\n      groupBy={(option) => data && `${data.getAllUsers.length + ' users'}`}\r\n      getOptionSelected={(option, value) => option.id === value.id}\r\n      onChange={(e,val, res) => setSelectedFreinds(val)}\r\n      getOptionLabel={(option) => option.username}\r\n     \r\n      renderOption={(option, { selected }) => (\r\n        <React.Fragment >\r\n       <Checkbox\r\n            icon={icon}\r\n            checkedIcon={checkedIcon}\r\n            checked={selected}\r\n          />\r\n        <Avatar \r\n        src={option.profileImageUrl} \r\n        style={{marginRight:'12px', width:35, height:35}}/>\r\n          {option.username}\r\n      </React.Fragment>\r\n      )}\r\n      options={options}\r\n      /* loading */\r\n      value={selectedFreinds.length === 0 ? [] : selectedFreinds}\r\n      renderTags={(tagValue, getTagProps) =>\r\n       \r\n        tagValue.map((option, index) => (\r\n          <Chip\r\n            label={option.username}\r\n            avatar={<Avatar src={option.profileImageUrl} />}\r\n            {...getTagProps({ index })}\r\n            \r\n          />\r\n        ))\r\n      }\r\n      renderInput={(params) => (\r\n        <TextField\r\n        {...params} \r\n          multiline\r\n          rowsMax={4}  \r\n          label=\":הוסף חברים\"\r\n         InputProps={{\r\n            ...params.InputProps,\r\n            startAdornment: (<>{selectedFreinds.length === 0 && (<GroupRoundedIcon/>)} {params.InputProps.startAdornment}</>),\r\n        }}\r\n        />\r\n      )}\r\n    />\r\n      </FormControl>   \r\n      </div> \r\n       \r\n        </DialogContent>\r\n        <DialogActions>\r\n       {loading ? (<CircularProgress size={35} style={{margin:'0 auto', color:'green'}} />) : (\r\n          <Fab\r\n         aria-label=\"save\"\r\n          color=\"primary\"\r\n          style={{margin:'0 auto',backgroundColor:'green'}}\r\n          size={'small'}\r\n          type='submit'\r\n          onClick={onsubmit}\r\n          disabled={values.title.trim() === \"\"} \r\n        >\r\n         <CheckIcon />\r\n        </Fab>\r\n       )}\r\n        </DialogActions>\r\n       \r\n        </form>\r\n      </Dialog>\r\n    </div>\r\n\r\n\r\n\r\n\r\n  );\r\n}\r\n\r\n\r\nconst CREATE_MATUAL_ACCOUNT = gql`\r\nmutation createMatualAccount($title:String!, $freinds:[String]!) {\r\n  createMatualAccount(title:$title, freinds:$freinds){\r\n    id\r\n    createdAt\r\n    updatedAt\r\n    title\r\n    owner\r\n    ownerName\r\n    list{\r\n      id\r\n    }\r\n    members {\r\n        userId\r\n        isConfirmed\r\n        isIgnored\r\n      \r\n    }\r\n   \r\n    }\r\n }\r\n`;\r\n\r\n\r\nconst GET_USER_MATUAL_ACCOUNTS = gql`\r\n{\r\n  getUserMatualAccounts{\r\n    id\r\n    createdAt\r\n    updatedAt\r\n    owner\r\n    ownerName\r\n    title\r\n    members {\r\n      userId\r\n      isConfirmed\r\n      isIgnored\r\n    \r\n  }\r\n}\r\n}\r\n`;\r\n\r\n\r\nconst GET_ALL_USERS = gql`\r\nquery{\r\n  getAllUsers{\r\n    id\r\n    username\r\n    profileImageUrl\r\n  }\r\n}\r\n\r\n`;","import React from 'react'\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport gql from 'graphql-tag'\r\nimport { useMutation } from '@apollo/react-hooks';\r\nimport {useDispatch} from 'react-redux'\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport history from '../../../../util/history';\r\nimport { Link, useParams } from 'react-router-dom';\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      display: 'flex',\r\n      zIndex:13\r\n    },\r\n    paper: {\r\n    \r\n     \r\n    },\r\n\r\n    OptionBar:{\r\n        position:'absolute',\r\n        zIndex:13,\r\n        top:8,\r\n        left:2, \r\n        color:'white'\r\n      },\r\n      Delete:{\r\n          color:'#d50000',\r\n          fontFamily:'Varela Round',\r\n          fontWeight:'bold'\r\n      },\r\n      Update:{\r\n        fontFamily:'Varela Round',\r\n        fontWeight:'bold'  \r\n      },\r\n\r\n      dialogTitle:{\r\n          fontFamily:'Varela Round',\r\n          fontWeight:'bold',\r\n          backgroundColor:'#d50000',\r\n          color:'white',\r\n\r\n          \r\n      }\r\n\r\n     \r\n  }));\r\n  const Transition = React.forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n  });\r\n \r\nfunction Index({accountId, setOpen}) {\r\n    \r\n    const classes = useStyles();\r\n     \r\n    const params = useParams()\r\n  \r\n   const ModalIsOpen = window.location.pathname === `/matualAccounts/deleteAccount/${params.accountId}`\r\n\r\n\r\n    const [deleteAccount,{loading}] = useMutation(DELETE_ACCOUNT,\r\n        {\r\n        refetchQueries:[{query:GET_USER_ACCOUNTS}],\r\n        onCompleted:() => {\r\n         history.goBack()\r\n         setOpen(false)\r\n       },\r\n\r\n        onError:(err) => console.log(err),\r\n        variables: {\r\n           accountId,\r\n        }\r\n      });\r\n    \r\n    return (\r\n        <>\r\n        <MenuItem className={classes.Delete} component={Link} to={`/matualAccounts/deleteAccount/${accountId}`}>מחק חשבון</MenuItem>\r\n        \r\n      <Dialog\r\n        open={ModalIsOpen}\r\n        TransitionComponent={Transition}\r\n        keepMounted\r\n        onClose={() => ModalIsOpen}\r\n        aria-labelledby=\"alert-dialog-slide-title\"\r\n        aria-describedby=\"alert-dialog-slide-description\"\r\n        style={{textAlign:'center'}}\r\n        >\r\n        <DialogTitle className={classes.dialogTitle} id=\"alert-dialog-slide-title\">מחיקת חשבון</DialogTitle>\r\n        <DialogContent >\r\n          <DialogContentText id=\"alert-dialog-slide-description\">\r\n           ? האם את/ה בטוח/ה שברצונך למחוק חשבון זה \r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions  style={{margin:'0 auto'}} >\r\n          \r\n          {loading ? (\r\n            <CircularProgress \r\n            size={35} \r\n            variant='indeterminate' \r\n            style={{color:'red', margin:'0 auto'}}/>\r\n          ) : (\r\n            <>\r\n            <Button onClick={() => history.goBack()} color=\"primary\"  >\r\n            לא\r\n          </Button>\r\n          <Button onClick={deleteAccount} color=\"primary\">\r\n            כן\r\n          </Button>\r\n          </>\r\n          )}\r\n        \r\n        </DialogActions>\r\n      </Dialog>\r\n      </>\r\n    )\r\n}\r\n\r\nexport default Index\r\n\r\n\r\n\r\nconst DELETE_ACCOUNT = gql`\r\nmutation deleteMatualAccount($accountId:ID!){\r\n    deleteMatualAccount(accountId:$accountId)\r\n  }\r\n`;\r\n\r\nconst GET_USER_ACCOUNTS = gql`\r\n{\r\n  getUserMatualAccounts{\r\n    id\r\n    createdAt\r\n    updatedAt\r\n    owner\r\n    title\r\n    }\r\n}\r\n`;","import React from 'react'\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {useDispatch} from 'react-redux'\r\nimport { SET_UpdateAccount_Modal_Open } from '../../../../Redux/actionTypes';\r\nimport { Link } from 'react-router-dom';\r\nconst useStyles = makeStyles(() => ({\r\n\r\n    Update:{\r\n        fontFamily:'Varela Round',\r\n        fontWeight:'bold'  \r\n      }\r\n}))\r\n\r\n\r\nfunction Index({accountDetails}) {\r\n    const classes = useStyles()\r\n    const dispatch = useDispatch()\r\n    \r\n     \r\n    return (\r\n        <MenuItem \r\n        className={classes.Update} \r\n        component={Link}\r\n        to={`/matualAccounts/updateAccount/${accountDetails.id}`}\r\n        onClick={() =>{ \r\n            dispatch({type:SET_UpdateAccount_Modal_Open, payload:accountDetails})\r\n           }}>\r\n            עדכן חשבון\r\n            </MenuItem>\r\n    )\r\n}\r\n\r\nexport default Index\r\n","import React from 'react'\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport gql from 'graphql-tag'\r\nimport { useMutation } from '@apollo/react-hooks';\r\nimport {useSelector} from 'react-redux'\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport history from '../../../../util/history';\r\nimport { Link, useParams } from 'react-router-dom';\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      display: 'flex',\r\n      zIndex:13\r\n    },\r\n    paper: {\r\n    \r\n     \r\n    },\r\n\r\n    OptionBar:{\r\n        position:'absolute',\r\n        zIndex:13,\r\n        top:8,\r\n        left:2, \r\n        color:'white'\r\n      },\r\n      Delete:{\r\n          color:'#d50000',\r\n          fontFamily:'Varela Round',\r\n          fontWeight:'bold'\r\n      },\r\n      Update:{\r\n        fontFamily:'Varela Round',\r\n        fontWeight:'bold'  \r\n      },\r\n\r\n      dialogTitle:{\r\n          fontFamily:'Varela Round',\r\n          fontWeight:'bold',\r\n          backgroundColor:'#d50000',\r\n          color:'white',\r\n\r\n          \r\n      }\r\n\r\n     \r\n  }));\r\n  const Transition = React.forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n  });\r\n \r\nfunction Index({accountId, setOpen}) {\r\n    \r\n    const classes = useStyles();\r\n    \r\n    const [open, setOpenModal] = React.useState(false);\r\n    \r\n    const params = useParams()\r\n    const user = useSelector(state => state.userReducer.userDetails)\r\n   const ModalIsOpen = window.location.pathname === `/matualAccounts/LeaveAccount/${params.accountId}`\r\n\r\n\r\n\r\n\r\n\r\n  const handleClickOpen = () => { \r\n    setOpenModal(true);\r\n  };\r\n\r\n  \r\n\r\n    const [LeaveAccount,{loading}] = useMutation(LEAVE_ACCOUNT,\r\n        {\r\n        refetchQueries:[{query:GET_USER_ACCOUNTS}],\r\n        onCompleted:() => {\r\n         history.goBack()\r\n         setOpen(false)\r\n       },\r\n\r\n        onError:(err) => console.log(err),\r\n        variables: {\r\n           accountId,\r\n           userId:user && user.id\r\n        },\r\n      });\r\n    \r\n    return (\r\n        <>\r\n        <MenuItem \r\n        className={classes.Delete} \r\n        component={Link} \r\n        to={`/matualAccounts/LeaveAccount/${accountId}`} \r\n        onClick={handleClickOpen} >יציאה מהחשבון</MenuItem>\r\n        \r\n      <Dialog\r\n        open={ModalIsOpen}\r\n        TransitionComponent={Transition}\r\n        keepMounted\r\n        onClose={() => ModalIsOpen}\r\n        aria-labelledby=\"alert-dialog-slide-title\"\r\n        aria-describedby=\"alert-dialog-slide-description\"\r\n        style={{textAlign:'center'}}\r\n\r\n        \r\n      >\r\n        <DialogTitle className={classes.dialogTitle} id=\"alert-dialog-slide-title\">יציאה מהחשבון</DialogTitle>\r\n        <DialogContent >\r\n          <DialogContentText id=\"alert-dialog-slide-description\">\r\n           ? האם את/ה בטוח/ה שברצונך לצאת מחשבון זה \r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions  style={{margin:'0 auto'}} >\r\n          \r\n          {loading ? (\r\n            <CircularProgress \r\n            size={35} \r\n            variant='indeterminate' \r\n            style={{color:'red', margin:'0 auto'}}/>\r\n          ) : (\r\n            <>\r\n            <Button onClick={() => history.goBack()} color=\"primary\"  >\r\n            לא\r\n          </Button>\r\n          <Button onClick={LeaveAccount} color=\"primary\">\r\n            כן\r\n          </Button>\r\n          </>\r\n          )}\r\n        \r\n        </DialogActions>\r\n      </Dialog>\r\n      </>\r\n    )\r\n}\r\n\r\nexport default Index\r\n\r\n\r\nconst LEAVE_ACCOUNT = gql`\r\nmutation confirmRequest($accountId:ID!, $userId:ID!){\r\n    confirmRequest(accountId:$accountId, userId:$userId){\r\n        id\r\n    senderName\r\n    senderImageUrl\r\n    accountTitle\r\n    accountId\r\n    from\r\n    to\r\n    body\r\n    seen\r\n    isConfirmed\r\n    isIgnored\r\n    createdAt\r\n    updatedAt\r\n    }\r\n}\r\n`;\r\n\r\nconst GET_USER_ACCOUNTS = gql`\r\n{\r\n  getUserMatualAccounts{\r\n    id\r\n    createdAt\r\n    updatedAt\r\n    owner\r\n    title\r\n    members{\r\n        userId\r\n        isConfirmed\r\n        isIgnored\r\n    }\r\n    }\r\n}\r\n`;","import React from 'react'\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\r\nimport Grow from '@material-ui/core/Grow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Popper from '@material-ui/core/Popper';\r\nimport MenuList from '@material-ui/core/MenuList';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport MoreVertRoundedIcon from '@material-ui/icons/MoreVertRounded';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport DeleteMenuItem from './DeleteOptionAccount';\r\nimport UpdateMenuItem from './UpdateOptionAccount'\r\nimport history from '../../../util/history';\r\nimport { useParams } from 'react-router-dom';\r\nimport RemoveParticaipantItem from './RemoveParticipant'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      display: 'flex',\r\n      zIndex:13\r\n    },\r\n    \r\n    OptionBar:{\r\n        position:'absolute',\r\n        zIndex:13,\r\n        top:8,\r\n        left:2, \r\n        color:'white',\r\n        \r\n      },\r\n      Delete:{\r\n          color:'#d50000',\r\n          fontFamily:'Varela Round',\r\n          fontWeight:'bold'\r\n      },\r\n      \r\n\r\n     \r\n  }));\r\n\r\n\r\n\r\nfunction Index({accountId, accountDetails, IsUserOwner}) {\r\n   \r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(false);\r\n  const anchorRef = React.useRef(null);\r\n  const params = useParams()\r\n  \r\n    \r\n  const handleToggle = () => {\r\n    if(params.accountId){\r\n       history.goBack()\r\n    }\r\n    setOpen((prevOpen) => !prevOpen);\r\n  };\r\n\r\n  const handleClose = (event) => {\r\n    if (anchorRef.current && anchorRef.current.contains(event.target)) {\r\n      return;\r\n    }\r\n\r\n    setOpen(false);\r\n  }; \r\n\r\n  function handleListKeyDown(event) {\r\n    if (event.key === 'Tab') {\r\n      event.preventDefault();\r\n      setOpen(false);\r\n    }\r\n  }\r\n\r\n  // return focus to the button when we transitioned from !open -> open\r\n  const prevOpen = React.useRef(open);\r\n  React.useEffect(() => {\r\n    if (prevOpen.current === true && open === false) {\r\n      anchorRef.current.focus();\r\n    }\r\n\r\n    prevOpen.current = open;\r\n  }, [open]);\r\n    \r\n    \r\n     return (\r\n        \r\n        <div className={classes.root}>\r\n      \r\n      <div style={{position:'relative'}}>\r\n        <IconButton \r\n          ref={anchorRef}\r\n          aria-controls={open ? 'menu-list-grow' : undefined}\r\n          aria-haspopup=\"true\"\r\n          onClick={handleToggle}\r\n            className={classes.OptionBar}>\r\n          <MoreVertRoundedIcon  />\r\n          </IconButton>\r\n          </div>\r\n         \r\n        <Popper  open={open} anchorEl={anchorRef.current} role={undefined} transition disablePortal>\r\n          {({ TransitionProps, placement }) => (\r\n            <Grow\r\n              {...TransitionProps}\r\n              style={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }}\r\n            >\r\n              <Paper className={classes.paper}>\r\n                 <ClickAwayListener onClickAway={handleClose}>\r\n                  <MenuList autoFocusItem={open} id=\"menu-list-grow\" onKeyDown={handleListKeyDown}>\r\n                    {IsUserOwner ? (<div><UpdateMenuItem accountId={accountId} accountDetails={accountDetails} />\r\n                    <DeleteMenuItem accountId={accountId} setOpen={setOpen}/></div>) : (<RemoveParticaipantItem accountId={accountId} setOpen={setOpen}/>) }\r\n                    </MenuList>\r\n                  </ClickAwayListener>\r\n              </Paper>\r\n            </Grow>\r\n          )}\r\n        </Popper>\r\n      \r\n    </div>\r\n        \r\n    \r\n    )\r\n}\r\n\r\nexport default Index\r\n\r\n\r\n","export function areEqual(arr1, arr2)\r\n\t{\r\n\t\tlet n = arr1.length;\r\n\t\tlet m = arr2.length;\r\n\r\n\t\t// If lengths of arrays are not equal\r\n\t\tif (n !== m)\r\n\t\t\treturn false;\r\n\r\n\t\t// Store arr1[] elements and their counts in\r\n\t\t// hash map\r\n\t\tlet map\t= new Map();\r\n\t\tlet count = 0;\r\n\t\t\r\n    for (let i = 0; i < n; i++) {\r\n\t\t\tif (map.get(arr1[i]) == null)\r\n\t\t\t\tmap.set(arr1[i], 1);\r\n\t\t\telse {\r\n\t\t\t\tcount = map.get(arr1[i]);\r\n\t\t\t\tcount++;\r\n\t\t\t\tmap.set(arr1[i], count);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Traverse arr2[] elements and check if all\r\n\t\t// elements of arr2[] are present same number\r\n\t\t// of times or not.\r\n\t\tfor (let i = 0; i < n; i++) {\r\n\t\t\t// If there is an element in arr2[], but\r\n\t\t\t// not in arr1[]\r\n\t\t\tif (!map.has(arr2[i]))\r\n\t\t\t\treturn false;\r\n\r\n\t\t\t// If an element of arr2[] appears more\r\n\t\t\t// times than it appears in arr1[]\r\n\t\t\tif (map.get(arr2[i]) === 0)\r\n\t\t\t\treturn false;\r\n\r\n\t\t\tcount = map.get(arr2[i]);\r\n\t\t\t--count;\r\n\t\t\tmap.set(arr2[i], count);\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}","import React,{useState} from 'react';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {useSelector,useDispatch} from 'react-redux'\r\nimport { Typography,  \r\n  DialogContent, \r\n  DialogActions, \r\n  DialogContentText,\r\n  TextField,\r\n  FormControl,\r\n  InputAdornment,\r\n  IconButton, \r\n  Chip,\r\n  Avatar,\r\n  Checkbox} from '@material-ui/core';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport AccountBalanceWalletRoundedIcon from '@material-ui/icons/AccountBalanceWalletRounded';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport gql from 'graphql-tag'\r\nimport {useLazyQuery, useMutation} from '@apollo/react-hooks'\r\nimport {useForm} from '../../../hooks/useForm'\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport history from '../../../util/history';\r\nimport { useParams } from 'react-router-dom';\r\nimport CheckBoxOutlineBlankIcon from '@material-ui/icons/CheckBoxOutlineBlank';\r\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\r\nimport GroupRoundedIcon from '@material-ui/icons/GroupRounded';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport { SET_UpdateAccount_Modal_Open } from '../../../Redux/actionTypes';\r\nimport {areEqual} from './ifArraysAreEqualFunc'\r\nconst icon = <CheckBoxOutlineBlankIcon fontSize=\"small\" />;\r\nconst checkedIcon = <CheckBoxIcon fontSize=\"small\" />;\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    \r\n        root: {\r\n          height: 0,\r\n          \r\n        },\r\n        wrapper: {\r\n          width: 100 + theme.spacing(2),\r\n          \r\n        },\r\n        margin:{\r\n          margin:'5px'\r\n        }      \r\n      \r\n})); // styles for general modal\r\n\r\n\r\nconst styles = (theme) => ({\r\n    root: {\r\n      margin: 0,\r\n      padding: theme.spacing(2),\r\n    },\r\n    closeButton: {\r\n      position: 'absolute',\r\n      right: theme.spacing(1),\r\n      top: theme.spacing(1),\r\n      color: theme.palette.grey[500],\r\n    },\r\n   \r\n   \r\n  });\r\n\r\n\r\nconst DialogTitle = withStyles(styles)((props) => {\r\n    const { children, classes, onClose, ...other } = props;\r\n    return (\r\n      <MuiDialogTitle disableTypography className={classes.root} {...other}>\r\n        <Typography variant=\"h6\">{children}</Typography>\r\n        {onClose ? (\r\n          <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n            <CloseIcon />\r\n          </IconButton>\r\n        ) : null}\r\n      </MuiDialogTitle>\r\n    );\r\n  });   \r\n\r\n\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n \r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n  });\r\n\r\n\r\n\r\nconst useFormStyles = makeStyles(() => ({\r\n    HeadLine:{\r\n        background:'#242333',\r\n        color:'whitesmoke',\r\n        fontFamily: 'Varela Round',\r\n        borderTopLeftRadius:'4px',\r\n        borderTopRightRadius:'4px'\r\n    }\r\n}));\r\n\r\nexport default function SimpleSlide() {\r\n    const classes = useStyles();\r\n    const FormClasses = useFormStyles()\r\n    const dispatch = useDispatch()\r\n    const params = useParams()\r\n    const accountDetails = useSelector(state => state.uiReducer.UpdateAccountModalIsOpen.accountDetails)\r\n    const ModalIsOpen = window.location.pathname === `/matualAccounts/updateAccount/${params.accountId}` && accountDetails !== null\r\n    const [options, setOptions] = React.useState([]);\r\n   \r\n    \r\n    \r\n    \r\n    const [selectedFreinds, setSelectedFreinds] = React.useState([])\r\n   \r\n    const [getAllUsers,{data}] = useLazyQuery(GET_ALL_USERS)\r\n    \r\n    const [MembersInAccount, setMembersInAccount] = React.useState([])\r\n   \r\n \r\n    \r\n    const [open, setOpen] = React.useState(false);\r\n    const [title, setTitle] = useState('');\r\n    const input = React.useRef()\r\n    \r\n    \r\n    const [errors, setErrors] = useState({});\r\n  \r\n  const {onSubmit} = useForm(updateAccountCallback, {\r\n    title: title,\r\n  });\r\n \r\n  const selectedFreindsId =  selectedFreinds.map(f => f.id)\r\n    \r\n  \r\n\r\n    const [updateAccount, { loading }] = useMutation(UPDATE_ACCOUNT, {\r\n      variables:{\r\n        accountId:params.accountId,  \r\n        title: title,\r\n        freinds:selectedFreindsId\r\n      },\r\n      onCompleted:() =>{\r\n        history.goBack()\r\n        \r\n      },\r\n      refetchQueries:[{query:GET_USER_MATUAL_ACCOUNTS, \r\n        variables:{\r\n        accountId:params.accountId,  \r\n        title: title,\r\n        freinds:selectedFreindsId}}]});\r\n\r\n      \r\n    \r\n  \r\n    function updateAccountCallback() {\r\n        updateAccount();\r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n   \r\n    function UpdateAccountFeild(){\r\n        if(accountDetails){\r\n            setTitle(accountDetails.title)\r\n            \r\n            if(accountDetails.members && accountDetails.members.length > 0 ){\r\n              const AccountMembers = accountDetails.members.sort().map(m => m.userId)\r\n              const MembersAlreadyInAccount = options.filter((user) =>  AccountMembers.includes(user.id))\r\n              setMembersInAccount(MembersAlreadyInAccount)\r\n              setSelectedFreinds(MembersAlreadyInAccount)\r\n              // console.log(\"answer\", MembersAlreadyInAccount);\r\n             }else{\r\n              // console.log(\"cancel event\");  \r\n              setMembersInAccount([])\r\n            }\r\n      }\r\n        \r\n    }\r\n\r\n    \r\n   React.useEffect(() => {\r\n    \r\n    if(ModalIsOpen){\r\n      setSelectedFreinds([])\r\n      UpdateAccountFeild()  \r\n    }\r\n\r\n   },[ModalIsOpen])\r\n\r\n   React.useEffect(() => {\r\n    getAllUsers();\r\n    if(data){\r\n        const users = data.getAllUsers;\r\n        setOptions(users);\r\n      }\r\n     }, [data, ModalIsOpen]);\r\n\r\n\r\n    \r\n  return (\r\n    \r\n  \r\n      <div>\r\n     \r\n      <Dialog\r\n        onEscapeKeyDown={() => ModalIsOpen}\r\n        open={ModalIsOpen}\r\n        TransitionComponent={Transition}\r\n        keepMounted\r\n        onClose={() => !ModalIsOpen}\r\n        aria-labelledby=\"alert-dialog-slide-title\"\r\n        aria-describedby=\"alert-dialog-slide-description\"\r\n        style={{zIndex:12, textAlign:'center'}}\r\n        \r\n      >\r\n        <form onSubmit={onSubmit} noValidate>\r\n        \r\n        \r\n            <DialogTitle id=\"alert-dialog-slide-title\" \r\n            onClose={() => {\r\n              dispatch({type:SET_UpdateAccount_Modal_Open, payload:null})\r\n              setSelectedFreinds([])\r\n              history.goBack()\r\n              }} \r\n              style={{textAlign:'center'}}> \r\n        <Typography component=\"div\" variant=\"h5\" className={FormClasses.HeadLine}>:עריכת חשבון</Typography>\r\n        </DialogTitle>\r\n        \r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-slide-description\">\r\n          : עדכן את שם החשבון\r\n          </DialogContentText>\r\n        \r\n          <div>\r\n          <FormControl className={classes.margin}>\r\n        <TextField\r\n          id=\"input-with-icon-textfield80356489\"\r\n          label=\":שם החשבון\"\r\n          type=\"text\"\r\n          name=\"title\"\r\n          inputRef={input}\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n          error={errors.title ? true : false}\r\n          helperText={errors.title} \r\n          InputProps={{\r\n            startAdornment: (\r\n              <InputAdornment position=\"start\">\r\n                <AccountBalanceWalletRoundedIcon />\r\n              </InputAdornment>\r\n            ),\r\n          }}\r\n        />\r\n      </FormControl>\r\n      </div> \r\n    \r\n      <div>\r\n      <FormControl className={classes.margin}>\r\n      \r\n        <Autocomplete\r\n              multiple\r\n              disableCloseOnSelect\r\n              id=\"asynchronous-demo90466\"\r\n              name=\"addFreinds\"\r\n              style={{maxWidth:250,minWidth:220}}\r\n             \r\n              open={open}\r\n              onOpen={() => setOpen(true)}\r\n             \r\n              onClose={() => setOpen(false)}\r\n              groupBy={(option) => data && `${data.getAllUsers.length + ' users'}`}\r\n              getOptionSelected={(option, value) => option.id === value.id}\r\n              onChange={(e,val, res) => setSelectedFreinds(val)}\r\n              getOptionLabel={(option) => option.username}\r\n             \r\n              renderOption={(option, { selected }) => (\r\n                <React.Fragment>\r\n               <Checkbox\r\n                    icon={icon}\r\n                    checkedIcon={checkedIcon}\r\n                    checked={selected}\r\n                  />\r\n                <Avatar \r\n                src={option.profileImageUrl} \r\n                style={{marginRight:'12px', width:35, height:35}}/>\r\n                  {option.username}\r\n              </React.Fragment>\r\n              )}\r\n              \r\n              options={options}\r\n              value={!selectedFreinds  ? MembersInAccount : selectedFreinds}\r\n             \r\n              /* loading */\r\n              \r\n             renderTags={(tagValue, getTagProps) =>\r\n              tagValue.map((option, index) => (\r\n                  <Chip\r\n                    label={option.username}\r\n                    avatar={<Avatar src={option.profileImageUrl} />}\r\n                   {...getTagProps({ index })}\r\n                    \r\n                  />\r\n                ))\r\n              }\r\n              renderInput={(params) => (\r\n                <TextField\r\n                {...params}\r\n                 label=\":הוסף חברים\"\r\n                  InputProps={{\r\n                    ...params.InputProps,\r\n                    startAdornment: (<>{(selectedFreinds.length === 0) && (<GroupRoundedIcon/>)} {params.InputProps.startAdornment}</>),\r\n                }}\r\n                />\r\n              )}\r\n            />\r\n    \r\n      \r\n      \r\n  \r\n      </FormControl>   \r\n      </div> \r\n\r\n        \r\n        </DialogContent>\r\n        <DialogActions>\r\n        {loading ? (<CircularProgress variant='indeterminate' style={{margin:'0 auto',color:'green'}} size={35}/>)\r\n         : (<Fab\r\n            aria-label=\"save\"\r\n            color=\"primary\"\r\n            style={{margin:'0 auto',backgroundColor:'green'}}\r\n            size={'small'}\r\n            type=\"submit\"\r\n            onClick={onSubmit}\r\n            disabled={accountDetails && ((title.trim() === \"\" || title.trim() === accountDetails.title) && accountDetails.members && areEqual(selectedFreindsId,accountDetails.members.map(user => user.userId)))}\r\n          >\r\n           <CheckIcon />\r\n          </Fab>)}\r\n        \r\n        \r\n        </DialogActions>\r\n        </form>\r\n      </Dialog>\r\n    </div>\r\n\r\n      \r\n\r\n\r\n      \r\n  );\r\n}\r\n\r\n\r\nconst UPDATE_ACCOUNT = gql`\r\nmutation updateMatualAccount($accountId:ID!,$title:String!, $freinds:[String]! ) {\r\n  updateMatualAccount(accountId:$accountId,title:$title, freinds:$freinds){\r\n    id\r\n    createdAt\r\n    updatedAt\r\n    title\r\n    owner\r\n    members {\r\n      userId  \r\n      isConfirmed\r\n      isIgnored\r\n    \r\n  }  \r\n  }\r\n }\r\n`;\r\n\r\nconst GET_USER_MATUAL_ACCOUNTS = gql`\r\n {\r\n  getUserMatualAccounts{\r\n    id\r\n    createdAt\r\n    updatedAt\r\n    title\r\n    owner\r\n    members {\r\n      userId  \r\n      isConfirmed\r\n      isIgnored\r\n    \r\n  }\r\n}\r\n}\r\n`;\r\n\r\nconst GET_ALL_USERS = gql`\r\nquery{\r\n  getAllUsers{\r\n    id\r\n    username\r\n    profileImageUrl\r\n  }\r\n}\r\n\r\n`;\r\n\r\n\r\n \r\n \r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport AvatarGroup from '@material-ui/lab/AvatarGroup';\r\nimport { useQuery} from '@apollo/react-hooks'\r\nimport gql from 'graphql-tag'\r\nimport { Divider, IconButton } from '@material-ui/core';\r\nimport { Link } from 'react-router-dom';\r\nimport history from '../../../util/history';\r\nimport TimerRoundedIcon from '@material-ui/icons/TimerRounded';\r\nimport GroupRoundedIcon from '@material-ui/icons/GroupRounded';\r\nimport Tooltip from '@material-ui/core/Tooltip'\r\nimport { Grow } from '@material-ui/core';\r\nconst useStyles = makeStyles((theme) => ({\r\n    FreindIcons:{\r\n        position:'absolute',\r\n        zIndex:13,\r\n        top:15,\r\n        right:90,\r\n      \r\n       },\r\n\r\n       customAvatars:{\r\n        height:theme.spacing(4),\r\n        width:theme.spacing(4),\r\n        fontSize:'1rem',\r\n        cursor: 'pointer'\r\n        \r\n       }\r\n      \r\n\r\n      \r\n\r\n}))\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Grow ref={ref} {...props} />;\r\n});\r\n\r\nfunction Index({members,accountId}) {\r\n  const classes = useStyles();\r\n  const open = window.location.pathname ===  `/matualAccounts/${accountId}/ShowAccountFreinds`\r\n  \r\n   \r\n   \r\n  \r\n   \r\n\r\n const {data, loading} = useQuery(GET_ALL_USERS) \r\n const usersConfirmedArray =[]\r\n const usersNotConfirmedArray =[]\r\n \r\n const [usersInAccount, setUsersInAccount] = React.useState([])\r\n const [usersNotInAccount, setUsersNotInAccount] = React.useState([])\r\n \r\n\r\n\r\n\r\n\r\n function getCurrentUsersAccount(membersData){\r\n   if(data){\r\n    membersData.forEach(user => {\r\n        let findMembersInAccount = data.getAllUsers.find(member => member.id === user.userId && user.isConfirmed === true) \r\n        findMembersInAccount && usersConfirmedArray.push(findMembersInAccount)\r\n        let findMembersNotInAccount = data.getAllUsers.find(member => member.id === user.userId && user.isConfirmed === false)\r\n        findMembersNotInAccount && usersNotConfirmedArray.push(findMembersNotInAccount)\r\n    \r\n    })\r\n    \r\n    \r\n    return {usersInAccount:usersConfirmedArray, usersNotInAccount:usersNotConfirmedArray}\r\n    \r\n    }\r\n    \r\n\r\n }\r\n\r\nReact.useEffect(() => {\r\n\r\nif(!loading && members){\r\n  let getState = getCurrentUsersAccount(members)\r\n  setUsersInAccount(getState.usersInAccount)\r\n  setUsersNotInAccount(getState.usersNotInAccount)\r\n}\r\n\r\n\r\n},[members,loading])\r\n\r\n\r\n  return (\r\n    <>\r\n    <div style={{position:'relative'}}>\r\n     <AvatarGroup  \r\n    spacing='medium' \r\n    className={classes.FreindIcons} \r\n    classes={{avatar:classes.customAvatars}} \r\n     max={4}>\r\n      {usersInAccount && usersInAccount.length > 0 && usersInAccount.map(freind => (\r\n         <Tooltip key={freind.id} title={freind.username}>\r\n           <Avatar \r\n         component={Link} \r\n         to={`/matualAccounts/${accountId}/ShowAccountFreinds`}  \r\n         alt={freind.username} \r\n         src={freind.profileImageUrl} /> \r\n         </Tooltip> \r\n         ))} \r\n       \r\n        {usersInAccount.length === 0 && usersNotInAccount && usersNotInAccount.length > 0 && (\r\n          <IconButton style={{width:30,height:5, borderRadius:'unset'}}  component={Link} \r\n          to={`/matualAccounts/${accountId}/ShowAccountFreinds`}> \r\n         <GroupRoundedIcon style={{color:'whitesmoke'}}  fontSize=\"large\"/>\r\n         <TimerRoundedIcon style={{color:'white'}}   fontSize='small' />\r\n         </IconButton> \r\n        )}\r\n      \r\n       </AvatarGroup> \r\n    </div>\r\n  \r\n    <Dialog TransitionComponent={Transition} onClose={() => history.goBack()} aria-labelledby=\"simple-dialog-title\" open={open}>\r\n      <DialogTitle id=\"simple-dialog-title\" style={{textAlign:'center'}}>חברים לחשבון</DialogTitle>\r\n      <List>\r\n       \r\n          {usersInAccount && usersInAccount.map((freind, index) => (\r\n              <div key={index}>\r\n              <ListItem  >\r\n              <ListItemAvatar>\r\n                <Avatar src={freind.profileImageUrl} className={classes.avatar}>\r\n                  <PersonIcon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary={freind.username} secondary={'!הצטרפ/ה לחשבון'} />\r\n            </ListItem>\r\n             <Divider/>\r\n           </div>\r\n          ))}\r\n\r\n           {usersNotInAccount && usersNotInAccount.map((freind, index) => (\r\n              <div key={index}>\r\n              <ListItem  >\r\n              <ListItemAvatar>\r\n                <Avatar src={freind.profileImageUrl} className={classes.avatar}>\r\n                  <PersonIcon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary={freind.username} secondary={'...עדיין לא אישר/ה בקשה'} />\r\n            </ListItem>\r\n           </div>\r\n          ))}\r\n      </List>\r\n    </Dialog>\r\n  </>\r\n  );\r\n}\r\n\r\nexport default Index;\r\n\r\nconst GET_ALL_USERS = gql`\r\nquery{\r\n  getAllUsers{\r\n    id\r\n    username\r\n    profileImageUrl\r\n  }\r\n}\r\n\r\n`;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport ButtonBase from '@material-ui/core/ButtonBase';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\r\nimport MatualAccountModal from '../../matualAccounts/components/ModalMatualAccount'\r\nimport gql from 'graphql-tag'\r\nimport { useQuery } from '@apollo/react-hooks';\r\nimport MenuBarButton from '../../matualAccounts/components/MoreOptionsButton'\r\nimport { Link } from 'react-router-dom';\r\nimport {useSelector} from 'react-redux'\r\nimport UpdateMatualAccountModal from '../../matualAccounts/components/UpdateMatualAccountModal'\r\nimport ShowAccountFreindsButton from '../../matualAccounts/components/ShowAccountFreindsButton'\r\nimport { IconButton, Typography } from '@material-ui/core';\r\nimport ListAltRoundedIcon from '@material-ui/icons/ListAltRounded'\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    minWidth: 300,\r\n    width: '100%',\r\n    height: 'fit-content',\r\n    \r\n  },\r\n  image: {\r\n    position: 'relative',\r\n    height: 200,\r\n    [theme.breakpoints.up('xs')]: {\r\n      width: '100% !important', // Overrides inline-style\r\n      height: 200,\r\n    },\r\n    '&:hover, &$focusVisible': {\r\n      zIndex: 1,\r\n      '& $imageBackdrop': {\r\n        opacity: 0.15,\r\n      },\r\n      '& $imageMarked': {\r\n        opacity: 0,\r\n      },\r\n      '& $imageTitle': {\r\n        border: '4px solid currentColor',\r\n      },\r\n    },\r\n  },\r\n  focusVisible: {},\r\n  imageButton: {\r\n    position: 'absolute',\r\n    left: 0,\r\n    right: 0,\r\n    top: 0,\r\n    bottom: 0,\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    color: theme.palette.common.white,\r\n  },\r\n  imageSrc: {\r\n    position: 'absolute',\r\n    left: 0,\r\n    right: 0,\r\n    top: 0,\r\n    bottom: 0,\r\n    backgroundSize: 'cover',\r\n    backgroundPosition: 'center 40%',\r\n  },\r\n  imageBackdrop: {\r\n    position: 'absolute',\r\n    left: 0,\r\n    right: 0,\r\n    top: 0,\r\n    bottom: 0,\r\n    backgroundColor: theme.palette.common.black,\r\n    opacity: 0.4,\r\n    transition: theme.transitions.create('opacity'),\r\n  },\r\n  imageTitle: {\r\n    position: 'relative',\r\n    padding: `${theme.spacing(2)}px ${theme.spacing(4)}px ${theme.spacing(6)}px`,\r\n  },\r\n  imageMarked: {\r\n    height: 3,\r\n    width: 18,\r\n    backgroundColor: theme.palette.common.white,\r\n    position: 'absolute',\r\n    bottom: -2,\r\n    left: 'calc(50% - 9px)',\r\n    transition: theme.transitions.create('opacity'),\r\n  },\r\n\r\n  button:{\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    },\r\n    \r\n    createdBySubtitle:{\r\n      lineHeight:'inherit'\r\n    }\r\n});\r\n\r\nconst NoAccountsDisplay = () => (\r\n  <Typography dir='rtl' style={{margin:'20% auto'}} color='primary' variant='h5' component='h5'>\r\n  אין לך חשבונות משותפים עדיין...\r\n  </Typography> \r\n )\r\n\r\n\r\n\r\nfunction ButtonBases(props) {\r\n  const { classes } = props;\r\n   \r\n  \r\n  console.log(\"myMatual page\");\r\n  \r\n   \r\n   const user = useSelector(state => state.userReducer.userDetails)\r\n\r\n\r\n   const {data, subscribeToMore} = useQuery(GET_USER_MATUAL_ACCOUNTS);\r\n  \r\n   React.useLayoutEffect(() => {\r\n     let unsubscribe;\r\n\r\n     unsubscribe = subscribeToMore({\r\n      document:ITEM_CHANGED_SUBS,\r\n      updateQuery:(prev, {subscriptionData}) => {\r\n        const newList = subscriptionData.data.itemChangedSubs\r\n        if(!subscriptionData.data) return prev\r\n        \r\n        return Object.assign({}, prev, {\r\n          getUserMatualAccount: {newList, ...prev.getUserMatualAccount}\r\n          });\r\n       },\r\n    })\r\n     \r\n    unsubscribe = subscribeToMore({\r\n      document:ACCOUNT_CHANGED_SUBS,\r\n      updateQuery:(prev, {subscriptionData}) => {\r\n        const updatedAccounts = subscriptionData.data.accountChangedSubs\r\n        const filteredUpdatedAccounts = user && updatedAccounts.filter(item => item.members.find(i =>  i.userId === user.id && i.isConfirmed === true) || item.owner === user.id);\r\n        if (!filteredUpdatedAccounts){\r\n          return Object.assign({}, prev, {\r\n            getUserMatualAccounts:[...prev.getUserMatualAccounts]\r\n            });\r\n        } \r\n        return Object.assign({}, prev, {\r\n          getUserMatualAccounts: filteredUpdatedAccounts.reverse()\r\n          });\r\n       }\r\n    })\r\n    \r\n    if(unsubscribe) return () => unsubscribe() \r\n\r\n   },[subscribeToMore,user])\r\n  \r\n  \r\n  console.log('data',data);\r\n  \r\n   return (\r\n    <div >\r\n      <Grid  container \r\n        direction=\"row\"\r\n        className={classes.root}\r\n       >\r\n      \r\n      {data && data.getUserMatualAccounts.length === 0 && (<NoAccountsDisplay/>)}\r\n     \r\n      {data && data.getUserMatualAccounts.sort((a, b) => parseInt(b.updatedAt) - parseInt(a.updatedAt)).map((account) => (\r\n        <Grid key={account.id} item xs={12} sm={4}>\r\n         \r\n       <div className={classes.button}>\r\n       {user && ( <MenuBarButton accountId={account.id} accountDetails={account} IsUserOwner={account.owner === user.id}/>)}\r\n       </div>\r\n      \r\n       <div style={{display:'flex', position:'relative',zIndex:13}}>\r\n        <IconButton style={{position:'absolute', right:4,top:1, color:'white'}}>\r\n        <ListAltRoundedIcon />\r\n        <Typography variant='h6' component='h6' style={{marginLeft:5,fontFamily:'Varela Round',}}>\r\n          {account.list.length}\r\n        </Typography>\r\n        </IconButton>\r\n        </div>\r\n       \r\n        {user && (<ShowAccountFreindsButton members={account.members} accountId={account.id} /> )}\r\n       \r\n       <ButtonBase\r\n          focusRipple\r\n          key={account.id}\r\n          className={classes.image}\r\n          focusVisibleClassName={classes.focusVisible}\r\n          component={Link}\r\n          to={`/matualAccounts/${account.id}`}\r\n          >\r\n         \r\n         <span\r\n            className={classes.imageSrc}\r\n            style={{\r\n              backgroundImage: `url(https://creditkarma-cms-ca.imgix.net/wp-content/uploads/sites/2/2020/08/50-30-20-rule932275488.jpg?w=1024&auto=compress)`,\r\n            }}\r\n          />\r\n          <span className={classes.imageBackdrop} />\r\n          \r\n        <GridListTileBar\r\n              classes={{subtitle:classes.createdBySubtitle}}\r\n              title={account.title}\r\n              subtitle={<span \r\n                style={{\r\n                  position:'absolute', \r\n                  bottom:4, \r\n                  left:5,\r\n                  whiteSpace:'noWrap',\r\n                  maxWidth:'40%',\r\n                  textOverflow:'ellipsis',\r\n                  display:'inline',\r\n                  overflow: 'hidden'}}>\r\n                    created by: {user && account.owner === user.id ? 'You' : account.ownerName}\r\n                    </span>}\r\n            />\r\n        \r\n        </ButtonBase>\r\n        <div style={{display:'flex', position:'relative',zIndex:13}}>\r\n         <Typography \r\n        variant='caption' \r\n        component='h6' \r\n        style={{\r\n          position:'absolute', \r\n          right:4,bottom:2, \r\n          color:'white',\r\n          marginLeft:5,\r\n          fontFamily:'Varela Round',\r\n          }}>\r\n          {new Date(Number(account.createdAt)).toDateString()}\r\n        </Typography>\r\n        </div>\r\n        </Grid>\r\n       \r\n    ))}\r\n  \r\n  \r\n</Grid>\r\n   \r\n<MatualAccountModal/>\r\n    \r\n<UpdateMatualAccountModal/>\r\n    \r\n    \r\n    </div>\r\n  );\r\n}\r\n\r\nButtonBases.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(ButtonBases);\r\n\r\n\r\n\r\nconst GET_USER_MATUAL_ACCOUNTS = gql`\r\n {\r\n  getUserMatualAccounts{\r\n    id\r\n    createdAt\r\n    updatedAt\r\n    owner\r\n    ownerName\r\n    title\r\n    list{\r\n      id\r\n    }\r\n    members {\r\n      userId  \r\n      isConfirmed\r\n      isIgnored\r\n    \r\n  }\r\n}\r\n}\r\n`;\r\n\r\nconst ACCOUNT_CHANGED_SUBS = gql`\r\nsubscription accountChangedSubs{\r\n  accountChangedSubs{\r\n    id\r\n    createdAt\r\n    updatedAt\r\n    owner\r\n    ownerName\r\n    title\r\n    members {\r\n      userId  \r\n      isConfirmed\r\n      isIgnored\r\n    \r\n  }\r\n    \r\n  }\r\n}\r\n`;\r\n\r\n\r\nconst ITEM_CHANGED_SUBS = gql`\r\nsubscription itemChangedSubs{\r\n  itemChangedSubs{\r\n    title\r\n    id\r\n   owner\r\n   ownerName\r\n    list{\r\n    id\r\n    title\r\n    description\r\n    media\r\n    amount\r\n    createdAt\r\n    updatedAt\r\n    }\r\n  }\r\n}\r\n`;","import React from 'react';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport MailOutline from '@material-ui/icons/MailOutline';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport AddAPhotoRoundedIcon from '@material-ui/icons/AddAPhotoRounded';\r\nimport { Typography,\r\n     DialogTitle,\r\n      DialogContent,\r\n       DialogActions,\r\n        DialogContentText,\r\n        FormControl,\r\n        TextField\r\n     } from '@material-ui/core';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport {SET_USER } from '../../Redux/actionTypes';\r\nimport { useState } from 'react';\r\nimport gql from 'graphql-tag'\r\nimport { useMutation } from '@apollo/react-hooks';\r\nimport { useEffect } from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Axios from 'axios'\r\nimport history from '../../util/history';\r\nimport { useForm } from '../../hooks/useForm';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    \r\n        root: {\r\n          height: 0,\r\n          \r\n        },\r\n        wrapper: {\r\n          width: 100 + theme.spacing(2),\r\n          \r\n        },\r\n\r\n      margin:{\r\n          margin:'5px'\r\n      },\r\n\r\n      avatar: {\r\n        width: theme.spacing(20),\r\n        height: theme.spacing(20),\r\n      },\r\n      \r\n      \r\n       \r\n      \r\n})); // styles for general modal\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"down\" ref={ref} {...props} />;\r\n  });\r\n\r\n\r\n\r\nconst useFormStyles = makeStyles(() => ({\r\n    HeadLine:{\r\n        background:'#242333',\r\n        color:'whitesmoke',\r\n        fontFamily: 'Varela Round',\r\n        borderTopLeftRadius:'4px',\r\n        borderTopRightRadius:'4px'\r\n    },\r\n    input:{\r\n      display:'none'\r\n    }\r\n}));\r\n\r\n\r\nconst FAbEdit = ({setProfileImage}) => {\r\n  const FormClasses = useFormStyles();\r\n  const classes = useStyles()\r\n  const [fileSelected, setFileSelected] = useState(null)\r\n  const [imageProfile ,setImageProfile] = useState('')\r\n  const [loading ,setLoading] = useState(false)\r\n  const currentImageProfile = useSelector(state => state.userReducer.userDetails)\r\n  const formData = new FormData()\r\n  \r\n  \r\n useEffect(() =>{ \r\n \r\n  if(fileSelected){\r\n    formData.append('file', fileSelected)\r\n    formData.append('upload_preset','temed3va')\r\n    formData.append('folder',`Users/${currentImageProfile.id}/Profile`)\r\n    \r\n    Axios.post(\"https://api.cloudinary.com/v1_1/dw4v5axnj/image/upload/\",formData)\r\n    .then(res => {\r\n      setImageProfile(res.data.secure_url) // for Profile Preveiw\r\n      setProfileImage(res.data.secure_url) // for Updating Mutation\r\n      console.log(res.data.secure_url);\r\n      setLoading(false)}).catch(err => console.log(err)) \r\n  \r\n    \r\n  }\r\n} \r\n    ,[fileSelected]) \r\n  \r\n  function handleFileChanged(e){\r\n    e.preventDefault() \r\n   setFileSelected(e.target.files[0])\r\n   setLoading(true)\r\n   \r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nreturn (\r\n      <>\r\n       <Badge\r\n        overlap=\"circle\"\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'right',\r\n        }}\r\n        badgeContent={<>\r\n       {loading ? (<CircularProgress color=\"secondary\" size={30}/>) : \r\n       \r\n       (<><input name=\"file\" accept=\"image/*\" className={FormClasses.input} id=\"icon-button-file\" type=\"file\" onChange={handleFileChanged} />\r\n       <label htmlFor=\"icon-button-file\">\r\n      <Fab color=\"inherit\" aria-label=\"edit\" size={'small'} component=\"span\">\r\n      <AddAPhotoRoundedIcon />\r\n     </Fab>\r\n     </label></>)}\r\n     </>}\r\n      >\r\n      <Avatar alt=\"image\" src={imageProfile === '' && currentImageProfile ? currentImageProfile.profileImageUrl : imageProfile} className={classes.avatar} />\r\n     \r\n      </Badge>   \r\n     </>\r\n  )\r\n}\r\n\r\n\r\n\r\nexport default function SimpleSlide() {\r\n    const classes = useStyles();\r\n    const FormClasses = useFormStyles()\r\n    \r\n   \r\n    const ModalIsOpen = window.location.pathname === \"/profile/edit\"\r\n    \r\n    \r\n    const user = useSelector(state => state.userReducer.userDetails)\r\n    const dispatch = useDispatch()\r\n    const [profileImage, setProfileImage] = useState('');\r\n    const [errors, setErrors] = useState({});\r\n    const { onChange, onSubmit, values } = useForm(UpdateUserCallback, {\r\n       profileImage:profileImage,\r\n       email:\"\",\r\n      });\r\n    \r\n\r\n  \r\n    const [UpdateProfileCallback,{data,loading}] = useMutation(UPDATE_USER_PROFILE,\r\n       {\r\n          variables:{\r\n        profileImage:profileImage,\r\n        email:values.email\r\n      },\r\n      onCompleted:() => {\r\n        setErrors({})\r\n        setProfileImage('')\r\n        history.goBack()\r\n      }, \r\n      refetchQueries:[{query:GET_USER_STATE,variables:values}],\r\n      onError(err) {\r\n       setErrors(err.graphQLErrors[0].extensions.exception.errors)\r\n        console.log(err);\r\n        },\r\n      })\r\n     \r\n  useEffect(() =>{\r\n       if(user){\r\n          values.email = user.email\r\n         }\r\n     \r\n  },[user])\r\n  \r\n  \r\n\r\nfunction UpdateUserCallback(){\r\n  UpdateProfileCallback()\r\n}\r\n  \r\n  return (\r\n    \r\n      <div>\r\n     \r\n      <Dialog\r\n        onEscapeKeyDown={() =>!ModalIsOpen}\r\n        open={ModalIsOpen}\r\n        TransitionComponent={Transition}\r\n        keepMounted\r\n        onClose={() => history.goBack()}\r\n        aria-labelledby=\"alert-dialog-slide-title\"\r\n        aria-describedby=\"alert-dialog-slide-description\"\r\n        style={{zIndex:1, textAlign:'center'}}\r\n        \r\n      >\r\n        <form onSubmit={onSubmit} noValidate>\r\n        <DialogTitle id=\"alert-dialog-slide-title\"> <Typography component=\"div\" variant=\"h5\" className={FormClasses.HeadLine}>:עריכת פרופיל</Typography></DialogTitle>\r\n        <DialogContent>\r\n        <DialogContentText id=\"alert-dialog-slide-description\">\r\n          :עדכן את פרטי הפרופיל שלך\r\n          </DialogContentText> \r\n          <div>\r\n          <FormControl className={classes.margin}>\r\n          <FAbEdit setProfileImage={setProfileImage}/>\r\n         </FormControl>    \r\n          </div>\r\n          \r\n       \r\n         <div>\r\n       <FormControl className={classes.margin}>\r\n        <TextField\r\n          id=\"input-with-icon-textfield783\"\r\n          label=\":שם משתמש\"\r\n          type=\"text\"\r\n          name=\"username\"\r\n          value={\"!שם משתמש קבוע\"}\r\n          disabled\r\n          InputProps={{\r\n            startAdornment: (\r\n              <InputAdornment position=\"start\">\r\n                <AccountCircle />\r\n              </InputAdornment>\r\n            ),\r\n          }}\r\n        />\r\n      </FormControl>\r\n      </div>\r\n\r\n      <div>\r\n       <FormControl className={classes.margin}>\r\n        <TextField\r\n          id=\"input-with-icon-textfield9845\"\r\n          label=\":אימייל\"\r\n          type=\"email\"\r\n          name=\"email\"\r\n          value={values.email}\r\n          error={errors.email ? true : false}\r\n          helperText={errors.email}\r\n          onChange={onChange}\r\n          InputProps={{\r\n            startAdornment: (\r\n              <InputAdornment position=\"start\">\r\n               <MailOutline/>\r\n              </InputAdornment>\r\n            ),\r\n          }}\r\n        />\r\n      </FormControl>\r\n      </div>\r\n        \r\n        \r\n        </DialogContent>\r\n        <DialogActions>\r\n        {loading ? (\r\n           <CircularProgress size={35} variant='indeterminate' style={{margin:'0 auto', color:'green'}}/>\r\n          ) : (\r\n          <Fab\r\n          aria-label=\"save\"\r\n          color=\"primary\"\r\n          style={{margin:'0 auto',backgroundColor:'green'}}\r\n          size={'small'}\r\n          onClick={() => UpdateUserCallback()}\r\n          disabled={user && (user.email === values.email && profileImage === \"\")}\r\n        >\r\n         <CheckIcon />\r\n        </Fab>\r\n        )}\r\n       \r\n       \r\n        </DialogActions>\r\n        </form>\r\n      </Dialog>\r\n    </div> \r\n  );\r\n}\r\n\r\n\r\n\r\nconst UPDATE_USER_PROFILE = gql`\r\n\r\nmutation updateUserProfile($profileImage:String! $email:String!) {\r\n  updateUserProfile(profileImage:$profileImage email:$email){\r\n    email\r\n    id\r\n    username\r\n    profileImageUrl\r\n  }\r\n}\r\n\r\n`;\r\n\r\n\r\nconst GET_USER_STATE = gql`\r\n{\r\n    getUserState{\r\n      email\r\n      id\r\n      username\r\n      profileImageUrl\r\n    }\r\n  }\r\n\r\n\r\n`;","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Typography from '@material-ui/core/Typography'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport EditProfileModal from '../../components/ModalProfile'\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    width:'100%',\r\n    height:'100%',\r\n    alignItems:'center',\r\n    justifyContent:'center',\r\n    background: 'linear-gradient(rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.3)), url(\"https://cdn.pixabay.com/photo/2017/10/10/07/48/beach-2836300_1280.jpg\") no-repeat',\r\n    backgroundSize:'cover',\r\n    backgroundRepeat:'no-repeat',\r\n    \r\n    [theme.breakpoints.down('sm')]: {\r\n         flexDirection:'column' \r\n      },\r\n    \r\n    \r\n    '& > *': {\r\n     \r\n    },\r\n  },\r\n  Avatar: {\r\n    width: theme.spacing(25),\r\n    height: theme.spacing(25),\r\n  },\r\n  UserDetails:{\r\n    padding:'3%',\r\n    justifyContent:'center',\r\n    \r\n    \r\n  },\r\n  UserDetailsText:{\r\n    fontFamily:'Varela Round',\r\n    fontWeight:'bold',\r\n    color:'white'\r\n  },\r\n  overlay:{\r\n      position:'absolute',\r\n      top:0,\r\n      bottom:0,\r\n      left:0,\r\n      right:0,\r\n      height:'100%',\r\n      width:'100%',\r\n      background:'black'\r\n  }\r\n  \r\n}));\r\n\r\nexport default function ImageAvatars() {\r\n  const classes = useStyles();\r\n\r\n  const user = useSelector(state => state.userReducer.userDetails)\r\n\r\n\r\n\r\n\r\n  return (\r\n    \r\n    <div className={classes.root}>\r\n       \r\n       <Avatar  src={user && user.profileImageUrl} className={classes.Avatar} />\r\n        <div className={classes.UserDetails}>\r\n            <Typography className={classes.UserDetailsText}  variant=\"h5\" component=\"h2\">{user && user.username}</Typography>\r\n            <Typography className={classes.UserDetailsText} variant=\"h5\" component=\"h2\">{user && user.email}</Typography>\r\n       \r\n        </div> \r\n    <EditProfileModal/>\r\n    </div>\r\n   \r\n  );\r\n}\r\n","import React,{useState} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport SwipeableViews from 'react-swipeable-views';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Zoom from '@material-ui/core/Zoom';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport green from '@material-ui/core/colors/green';\r\nimport { Link } from 'react-router-dom';\r\nimport history from '../../util/history';\r\nimport MyAccounts from '../../pages/MyAccountsPage';\r\nimport MatualAccounts from '../../pages/MatualAccountsPage';\r\nimport Profile from '../../pages/ProfilePage';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { IconButton } from '@material-ui/core';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport { SET_Current_Account_Ui } from '../../Redux/actionTypes';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useTheme } from '@material-ui/core'\r\n\r\n\r\n\r\nconst styles = theme => ({\r\n    \r\n    TabContainerProfile:{\r\n        overflowY:'scroll',\r\n        display:'flex',\r\n        [theme.breakpoints.down('sm')]:{\r\n            height: 'calc(100vh - 110px)',\r\n        },\r\n        \r\n      \r\n        \r\n        [theme.breakpoints.up('sm')]: {\r\n            height:'calc(100vh - 100px)',\r\n          }, \r\n    },\r\n    \r\n    TabContainer:{\r\n        overflowY:'scroll',\r\n         \r\n        [theme.breakpoints.down('sm')]:{\r\n            height: 'calc(100vh - 110px)',\r\n        },\r\n        \r\n       [theme.breakpoints.up('sm')]: {\r\n            height:'calc(100vh - 100px)',\r\n          },\r\n\r\n        \r\n          \r\n    },\r\n    \r\n    \r\n    \r\n    root: {\r\n      backgroundColor: theme.palette.background.paper,\r\n      width: '100%',\r\n      overflowY:'hidden',\r\n      \r\n    \r\n      \r\n     },\r\n    \r\n    searchFabs:{\r\n      position: 'fixed',\r\n      bottom: theme.spacing(10),\r\n      right: theme.spacing(2),\r\n      zIndex:12\r\n    },\r\n    \r\n     fab: {\r\n      position: 'fixed',\r\n      bottom: theme.spacing(2),\r\n      right: theme.spacing(2),\r\n      zIndex:12\r\n      \r\n    },\r\n    fabGreen: {\r\n      color: theme.palette.common.white,\r\n      backgroundColor: green[500],\r\n      '&:hover': {\r\n        backgroundColor: green[600],\r\n      },\r\n   },\r\n  \r\n   Addicon:{\r\n    color:'white',\r\n    },\r\n  \r\n  appBar:{\r\n     paddingTop:'50px',\r\n     display:'block',\r\n     background:'Snow',\r\n     \r\n    },\r\n     \r\n    Tab:{\r\n      fontFamily:'Varela Round',\r\n      fontWeight:'bold',\r\n      \r\n      \r\n    },\r\n    SwipeableViews:{\r\n      overflowY:'scroll',\r\n      \r\n         \r\n      [theme.breakpoints.down('sm')]:{\r\n      \r\n       height: 'calc(100vh - 110px)',\r\n    },\r\n    },\r\n\r\n   \r\n\r\n\r\n  });\r\n\r\nfunction TabContainer(props) {\r\n  const { children, dir, classes } = props;\r\n  \r\n  return (\r\n    <Typography component=\"div\" className={classes} dir={dir}>\r\n      {children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nTabContainer.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n  dir: PropTypes.string.isRequired,\r\n  \r\n};\r\n\r\n\r\n\r\nfunction FloatingActionButtonZoom(props)  {\r\n    let [value,setValue] = useState(1)\r\n    const themeColors = useTheme()\r\n    const accountUI = useSelector(state => state.uiReducer.getCurrentAccountUi)\r\n    const dispatch = useDispatch()\r\n    \r\n    React.useEffect(() => {\r\n      if(accountUI){\r\n        dispatch({type:SET_Current_Account_Ui,payload:null}) // clean redux current account ui\r\n      }\r\n    },[accountUI, dispatch])\r\n    \r\n\r\n\r\n    const { classes, theme } = props;\r\n    \r\n    \r\n    console.log(\"split\",window.location.pathname.split('/')[1]);\r\n    \r\n    if(window.location.pathname.split('/')[1] === 'matualAccounts'){\r\n         value = 0\r\n      }else if(window.location.pathname.split('/')[1] === 'profile'){\r\n         value = 2 \r\n      }else if(window.location.pathname.split('/')[1] === 'myAccounts'){\r\n          value = 1\r\n      }else{\r\n        return value\r\n      }\r\n\r\n\r\n\r\nfunction getUrltab(value){\r\n    switch (value) {\r\n        case 0:\r\n          return  history.push('/matualAccounts'); \r\n         \r\n        case 1:\r\n            return history.push('/myAccounts');\r\n         \r\n        case 2:\r\n            return history.push('/profile');\r\n          \r\n       \r\n        default:\r\n         return value;\r\n          \r\n      }\r\n}\r\n  \r\n\r\n  \r\n  const handleChange = (event, value) => {\r\n    setValue(value)\r\n   \r\n   };\r\n\r\n  const handleChangeIndex = (index) => {\r\n    getUrltab(index)\r\n  };\r\n\r\n  \r\n    const transitionDuration = {\r\n      enter: theme.transitions.duration.enteringScreen,\r\n      exit: theme.transitions.duration.leavingScreen,\r\n    };\r\n\r\n  \r\n\r\n    const searchFabs = [\r\n      {\r\n        icon: window.location.pathname === '/matualAccounts/search' ? <CloseIcon\r\n        onClick={() => history.goBack()}\r\n        /> : <IconButton \r\n        style={{color:'white'}} \r\n        component={Link} \r\n        to={`/matualAccounts/search`}>\r\n          <SearchIcon/>\r\n          </IconButton>,\r\n        color:'primary',\r\n        style:classes.searchFabs\r\n      },\r\n      {\r\n        icon: window.location.pathname === '/myAccounts/search' ? <CloseIcon\r\n        onClick={() => history.goBack()}\r\n        \r\n        /> : <IconButton \r\n        style={{color:'white'}} \r\n        component={Link} \r\n        to={`/myAccounts/search`}>\r\n          <SearchIcon/>\r\n          </IconButton>,\r\n        color:'secondary',\r\n        style:classes.searchFabs\r\n      }\r\n    ]\r\n   \r\n    \r\n    const fabs = [\r\n      {\r\n        color: 'primary',\r\n        className: classes.fab,\r\n        icon: window.location.pathname === '/matualAccounts/addAccount' ? <CloseIcon\r\n        onClick={() => history.goBack()} \r\n        className={classes.AddIcon}/> : <IconButton style={{color:'white'}} component={Link} to={`/matualAccounts/addAccount`}>\r\n          <AddIcon color='inherit'/>\r\n        </IconButton>,\r\n        cssColor:`${themeColors.palette.primary.main}`,\r\n       \r\n      },  \r\n      {\r\n        color: 'secondary',\r\n        className: classes.fab,\r\n        icon: window.location.pathname === '/myAccounts/addAccount' ? <CloseIcon\r\n        \r\n        onClick={() => history.goBack()}\r\n        className={classes.AddIcon}/> :<IconButton  style={{color:'white'}} component={Link} to={'/myAccounts/addAccount'} >\r\n          <AddIcon  className={classes.Addicon}\r\n          \r\n        />\r\n        </IconButton> ,\r\n        cssColor:`${themeColors.palette.secondary.main}`,\r\n        \r\n        \r\n      },\r\n      {\r\n        color: 'inherit',\r\n        className: classes.fab,\r\n        icon: window.location.pathname === '/profile/edit' ? <CloseIcon\r\n        onClick={() => history.goBack()}\r\n        className={classes.iconFullPadding}/> : <IconButton  component={Link} to={`/profile/edit`}>\r\n          <EditIcon className={classes.iconFullPadding} />\r\n        </IconButton>,\r\n        cssColor:themeColors.palette.common.white,\r\n      },\r\n    ];\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <AppBar \r\n        className={classes.appBar} \r\n        position=\"static\" \r\n        color=\"default\">\r\n          <Tabs\r\n            value={value}\r\n            onChange={handleChange}\r\n            variant=\"fullWidth\"\r\n            TabIndicatorProps={{style: {background:fabs[value].cssColor}}}\r\n            \r\n          >\r\n            <Tab  className={classes.Tab}  label=\"חשבונות משותפים\" component={Link}  to='/matualAccounts'/>\r\n            <Tab  className={classes.Tab}  label=\"החשבונות שלי\" component={Link}   to='/myAccounts'/>\r\n            <Tab  className={classes.Tab}  label=\"פרופיל\"  component={Link}  to='/profile'/>\r\n          </Tabs>\r\n        </AppBar>\r\n        \r\n       \r\n        <SwipeableViews\r\n          axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\r\n          index={value}\r\n          onChangeIndex={handleChangeIndex}\r\n          className={classes.SwipeableViews}\r\n          \r\n          >\r\n          <TabContainer classes={classes.TabContainer} dir={theme.direction}><MatualAccounts/></TabContainer>\r\n          <TabContainer classes={classes.TabContainer}  dir={theme.direction}><MyAccounts/></TabContainer>\r\n          <TabContainer  classes={classes.TabContainerProfile}  dir={theme.direction} ><Profile/></TabContainer>\r\n        </SwipeableViews>\r\n         \r\n          {searchFabs.map((fab, index) => (\r\n            <div key={index}>\r\n                <Zoom\r\n            key={index}\r\n            in={value === index}\r\n            timeout={transitionDuration}\r\n            style={{\r\n              transitionDelay: `${value === index ? transitionDuration.exit : 0}ms`,\r\n            }}\r\n            unmountOnExit\r\n          >\r\n             <Fab disableFocusRipple color={fab.color} className={fab.style} >\r\n              {fab.icon} \r\n            </Fab>\r\n          </Zoom>\r\n            </div>\r\n          ))}\r\n       \r\n        {fabs.map((fab, index) => (\r\n          <Zoom\r\n            key={fab.color}\r\n            in={value === index}\r\n            timeout={transitionDuration}\r\n            style={{\r\n              transitionDelay: `${value === index ? transitionDuration.exit : 0}ms`,\r\n            }}\r\n            unmountOnExit\r\n          >\r\n             \r\n            <Fab disableFocusRipple className={fab.className} color={fab.color}>\r\n              {fab.icon} \r\n            </Fab>\r\n          </Zoom>\r\n        ))}\r\n     \r\n     \r\n      </div>\r\n    );\r\n  \r\n}\r\n\r\nFloatingActionButtonZoom.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  theme: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(FloatingActionButtonZoom);\r\n","import React from 'react';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport {makeStyles, withStyles } from '@material-ui/core/styles';\r\nimport {CircularProgress, Paper, Slide } from '@material-ui/core';\r\nimport {useParams } from 'react-router-dom';\r\nimport {useMutation, useQuery } from '@apollo/client';\r\nimport gql from 'graphql-tag'\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport { useSelector } from 'react-redux';\r\nimport history from '../../../util/history';\r\n\r\n\r\nconst CssTextField = withStyles({\r\n  root: {\r\n    '& label.Mui-focused': {\r\n      color: 'white',\r\n    },\r\n   '& .MuiInput-underline:after': {\r\n      borderBottomColor: 'white',\r\n    },\r\n    '& .MuiOutlinedInput-root': {\r\n      '& fieldset': {\r\n        borderColor: 'white',\r\n      },\r\n      '&:hover fieldset': {\r\n        borderColor: 'white',\r\n      },\r\n      '&.Mui-focused fieldset': {\r\n        borderColor: 'white',\r\n      },\r\n    },\r\n  },\r\n})(TextField);\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n   search: {\r\n    position: 'relative',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: (theme.palette.common.white, 0.15),\r\n    '&:hover': {\r\n      backgroundColor: (theme.palette.common.white, 0.25),\r\n    },\r\n    marginLeft: 0,\r\n   \r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing(1),\r\n      width: 'auto',\r\n    },\r\n  },\r\n  searchIcon: {\r\n    padding: theme.spacing(0, 2),\r\n    height: '100%',\r\n    position: 'absolute',\r\n    curser:'pointer',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    color:'white',\r\n    zIndex:15\r\n    \r\n\r\n  },\r\n  inputRoot: {\r\n    color: 'white',\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    // vertical padding + font size from searchIcon\r\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n    transition: theme.transitions.create('width'),\r\n    \r\n\r\n    width: '100%',\r\n    \r\n    [theme.breakpoints.up('sm')]: {\r\n      width: '12ch',\r\n      \r\n      \r\n      '&:focus': {\r\n        width: '20ch',\r\n      },\r\n    },\r\n  },\r\n \r\n  paper:{\r\n    width:'100%', \r\n    height:'50px',\r\n    position:'fixed',\r\n    display:'flex',\r\n    alignItems:'center',\r\n    justifyContent:'center',\r\n    top:0, \r\n    zIndex:14, \r\n    borderRadius:0,\r\n    backgroundColor:theme.palette.secondary.main\r\n\r\n  },\r\n  closeIndicator:{\r\n    color: 'white',\r\n  },\r\n  SearchField:{\r\n   color: 'white',\r\n   fontFamily:'Varela Round',\r\n   \"& .MuiOutlinedInput-notchedOutline\": {\r\n    borderWidth: '2px',\r\n    borderColor: \"blue\"\r\n  },\r\n  \"&:hover .MuiOutlinedInput-notchedOutline\": {\r\n    borderWidth: \"2px\",\r\n    borderColor: \"blue\"\r\n  },\r\n  \"&.Mui-focused .MuiOutlinedInput-notchedOutline\": {\r\n    borderWidth: \"2px\",\r\n    borderColor: \"blue\"\r\n  }\r\n  }\r\n}));\r\n\r\n\r\n\r\n  \r\n\r\nexport default function SearchAppBar() {\r\n  const classes = useStyles();\r\n\r\n  const open = window.location.pathname === '/myAccounts/search'\r\n \r\nconst [searchQuery, setSearchQuery] = React.useState(\"\")\r\n \r\n const [options, setOptions] = React.useState([])\r\n\r\n let input = React.useRef()\r\n \r\nconst {data} = useQuery(GET_USER_ACCOUNTS)\r\n\r\n React.useEffect(() => {\r\n  if(open){\r\n    input.focus()\r\n     \r\n  }else{\r\n   input.blur();\r\n  }\r\n  \r\n     if(data){\r\n        const unic = data.getUserAccounts.filter((v,i,a)=>a.findIndex(t=>(t.title === v.title))===i)\r\n        const filterdTitle = unic.map(account => account.title) \r\n        setOptions(filterdTitle)\r\n     } \r\n\r\n },[open, data])\r\n\r\n\r\n\r\n   const [searchAccount,{loading}] = useMutation(SEARCH_ACCOUNTS,{\r\n     variables:{\r\n      searchQuery\r\n     },\r\n     update:(proxy, result) => {\r\n      const data = proxy.readQuery({\r\n        query: GET_USER_ACCOUNTS,\r\n        variables:{searchQuery}\r\n        });\r\n      \r\n        data.getUserAccounts = result.data.searchAccount\r\n       \r\n   \r\n      proxy.writeQuery({ query: GET_USER_ACCOUNTS,data});\r\n     },\r\n     onCompleted:(data) => console.log(data),\r\n     onError:(err) => console.log(err)\r\n   })\r\n\r\n  \r\n\r\n  return (\r\n    <div >\r\n     <Slide in={open}>\r\n     <Paper className={classes.paper}> \r\n         <div  className={classes.search}>\r\n            <Autocomplete\r\n                id=\"grouped-demoAItem8678679\"\r\n                classes={{inputRoot:classes.SearchField,clearIndicator:classes.closeIndicator,popupIndicatorOpen:classes.closeIndicator}}\r\n                options={options}\r\n                loading={loading}\r\n                getOptionLabel={(option) => option ? option : '' }\r\n                style={{ width: 300 }}\r\n                renderInput={(params) => <CssTextField \r\n                  {...params} \r\n                placeholder=\"Search...\" \r\n             \r\n                inputRef={(el) => input = el}\r\n                variant=\"standard\"\r\n                InputProps={{\r\n                  ...params.InputProps,\r\n                  endAdornment: (\r\n                    <React.Fragment>\r\n                      {loading ? <CircularProgress color=\"inherit\" size={20} /> : null}\r\n                      {params.InputProps.endAdornment}\r\n                    </React.Fragment>\r\n                  ),\r\n                }}\r\n                />}\r\n               \r\n                onSelect={() => searchAccount()}\r\n                 onChange={(val,value,res) =>{\r\n                if(value){\r\n                  setSearchQuery(value)  \r\n                  }else{\r\n                    setSearchQuery('') \r\n                    \r\n                  }}}\r\n            />\r\n          </div>\r\n     </Paper>\r\n      </Slide>\r\n</div>\r\n  );\r\n}\r\n\r\n\r\nconst SEARCH_ACCOUNTS = gql`\r\n\r\nmutation searchAccount($searchQuery:String!){\r\n   searchAccount(searchQuery:$searchQuery){\r\n    title\r\n    id\r\n    owner\r\n    list{\r\n      id\r\n      title\r\n      description\r\n      media\r\n      amount\r\n      createdAt\r\n      updatedAt\r\n     }\r\n    }\r\n  }\r\n\r\n\r\n`;\r\n\r\nconst GET_USER_ACCOUNTS = gql`\r\n     {\r\n        getUserAccounts{\r\n            title\r\n            id\r\n            owner\r\n            list{\r\n              id\r\n              title\r\n              description\r\n              media\r\n              amount\r\n              createdAt\r\n              updatedAt\r\n            }\r\n        }  \r\n      }\r\n\r\n\r\n`;\r\n\r\n","import React from 'react';\r\nimport {makeStyles, withStyles } from '@material-ui/core/styles';\r\nimport {CircularProgress, Paper, Slide } from '@material-ui/core';\r\nimport {useMutation, useQuery } from '@apollo/client';\r\nimport gql from 'graphql-tag'\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\n\r\n\r\n\r\nconst CssTextField = withStyles({\r\n  root: {\r\n    '& label.Mui-focused': {\r\n      color: 'white',\r\n    },\r\n   '& .MuiInput-underline:after': {\r\n      borderBottomColor: 'white',\r\n    },\r\n    '& .MuiOutlinedInput-root': {\r\n      '& fieldset': {\r\n        borderColor: 'white',\r\n      },\r\n      '&:hover fieldset': {\r\n        borderColor: 'white',\r\n      },\r\n      '&.Mui-focused fieldset': {\r\n        borderColor: 'white',\r\n      },\r\n    },\r\n  },\r\n})(TextField);\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n   search: {\r\n    position: 'relative',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: (theme.palette.common.white, 0.15),\r\n    '&:hover': {\r\n      backgroundColor: (theme.palette.common.white, 0.25),\r\n    },\r\n    marginLeft: 0,\r\n   \r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing(1),\r\n      width: 'auto',\r\n    },\r\n  },\r\n  searchIcon: {\r\n    padding: theme.spacing(0, 2),\r\n    height: '100%',\r\n    position: 'absolute',\r\n    curser:'pointer',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    color:'white',\r\n    zIndex:15\r\n    \r\n\r\n  },\r\n  inputRoot: {\r\n    color: 'white',\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    // vertical padding + font size from searchIcon\r\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n    transition: theme.transitions.create('width'),\r\n    \r\n\r\n    width: '100%',\r\n    \r\n    [theme.breakpoints.up('sm')]: {\r\n      width: '12ch',\r\n      \r\n      \r\n      '&:focus': {\r\n        width: '20ch',\r\n      },\r\n    },\r\n  },\r\n  \r\n  paper:{\r\n    width:'100%', \r\n    height:'50px',\r\n    position:'fixed',\r\n    display:'flex',\r\n    alignItems:'center',\r\n    justifyContent:'center',\r\n    top:0, \r\n    zIndex:14, \r\n    borderRadius:0,\r\n    backgroundColor:theme.palette.primary.main\r\n\r\n  },\r\n  closeIndicator:{\r\n    color: 'white',\r\n  },\r\n  SearchField:{\r\n   color: 'white',\r\n   fontFamily:'Varela Round',\r\n   \"& .MuiOutlinedInput-notchedOutline\": {\r\n    borderWidth: '2px',\r\n    borderColor: \"blue\"\r\n  },\r\n  \"&:hover .MuiOutlinedInput-notchedOutline\": {\r\n    borderWidth: \"2px\",\r\n    borderColor: \"blue\"\r\n  },\r\n  \"&.Mui-focused .MuiOutlinedInput-notchedOutline\": {\r\n    borderWidth: \"2px\",\r\n    borderColor: \"blue\"\r\n  }\r\n  }\r\n}));\r\n\r\n\r\n\r\n  \r\n\r\nexport default function SearchAppBar() {\r\n  const classes = useStyles();\r\n  \r\n  const open = window.location.pathname === '/matualAccounts/search'\r\n\r\n \r\n const [searchQuery, setSearchQuery] = React.useState(\"\")\r\n const [options, setOptions] = React.useState([])\r\n let input = React.useRef()\r\n\r\n const [searchAccount,{loading}] = useMutation(SEARCH_ACCOUNTS,{\r\n    variables:{\r\n     searchQuery\r\n    },\r\n    update:(proxy, result) => {\r\n     const data = proxy.readQuery({\r\n       query: GET_USER_MATUAL_ACCOUNTS,\r\n       variables:{searchQuery}\r\n     });\r\n     \r\n       data.getUserMatualAccounts = result.data.searchMatualAccount\r\n      \r\n  \r\n     proxy.writeQuery({ query: GET_USER_MATUAL_ACCOUNTS,data});\r\n    \r\n    },\r\n   \r\n    onCompleted:(data) => console.log(data),\r\n    onError:(err) => console.log(err)\r\n  })\r\n\r\nconst {data} = useQuery(GET_USER_MATUAL_ACCOUNTS)\r\n\r\n React.useEffect(() => {\r\n    if(open){\r\n        input.focus()\r\n         \r\n      }else{\r\n       input.blur();\r\n      }\r\n  \r\nif(data){\r\n   \r\n const unic =  data.getUserMatualAccounts.filter((v,i,a)=>a.findIndex(t=>(t.title === v.title))===i)\r\n const filterdTitle = unic.map(item => item.title) \r\n  \r\n  setOptions(filterdTitle)\r\n  \r\n  }\r\n\r\n },[data,open])\r\n\r\n  return (\r\n    <div >\r\n     <Slide in={open}>\r\n     <Paper className={classes.paper}> \r\n         <div  className={classes.search}>\r\n            <Autocomplete\r\n                id=\"grouped-demoAItem111\"\r\n                classes={{inputRoot:classes.SearchField,clearIndicator:classes.closeIndicator,popupIndicatorOpen:classes.closeIndicator}}\r\n                options={options}\r\n                loading={loading}\r\n                getOptionLabel={(option) => option ? option : '' }\r\n                style={{ width: 300 }}\r\n                renderInput={(params) => <CssTextField \r\n                  {...params} \r\n                id='textfeild122938' \r\n                placeholder=\"Search...\" \r\n                inputRef={(el) => input = el}\r\n                variant=\"standard\" \r\n                InputProps={{\r\n                  ...params.InputProps,\r\n                  endAdornment: (\r\n                    <React.Fragment>\r\n                      {loading ? <CircularProgress color=\"inherit\" size={20} /> : null}\r\n                      {params.InputProps.endAdornment}\r\n                    </React.Fragment>\r\n                  ),\r\n                }}\r\n                />}\r\n                onSelect={() => searchAccount() }\r\n                 onChange={(val,value,res) =>{\r\n                if(value){\r\n                  setSearchQuery(value)  \r\n                   }else{\r\n                    setSearchQuery('') \r\n                    \r\n                  }}}\r\n            />\r\n          </div>\r\n     </Paper>\r\n      </Slide>\r\n</div>\r\n  );\r\n}\r\n\r\n\r\nconst SEARCH_ACCOUNTS = gql`\r\n\r\nmutation searchMatualAccount($searchQuery:String!){\r\n    searchMatualAccount(searchQuery:$searchQuery){\r\n        id\r\n        createdAt\r\n        updatedAt\r\n        owner\r\n        ownerName\r\n        title\r\n        list{\r\n          id\r\n        }\r\n        members {\r\n          userId  \r\n          isConfirmed\r\n          isIgnored\r\n        \r\n      }\r\n    }\r\n  }\r\n\r\n\r\n`;\r\n\r\nconst GET_USER_MATUAL_ACCOUNTS = gql`\r\n {\r\n  getUserMatualAccounts{\r\n    id\r\n    createdAt\r\n    updatedAt\r\n    owner\r\n    ownerName\r\n    title\r\n    list{\r\n      id\r\n    }\r\n    members {\r\n      userId  \r\n      isConfirmed\r\n      isIgnored\r\n    \r\n  }\r\n}\r\n}\r\n`;\r\n","import React from 'react'\r\nimport Layout from '../../components/Layout'\r\nimport UserTabs from '../../components/UserTabs/Index'\r\nimport SearchAccountsBar from '../../myAccounts/components/SearchAccountsButton'\r\nimport SearchMatualAccountsBar from '../../matualAccounts/components/SearchMatualAccountsButton'\r\nfunction Index() {\r\n   \r\n   return (\r\n     \r\n      <Layout>\r\n       <UserTabs/>\r\n     <SearchAccountsBar/>\r\n     <SearchMatualAccountsBar/>\r\n     </Layout>\r\n     \r\n     \r\n      \r\n    )\r\n}\r\n\r\nexport default Index\r\n","import React from 'react'\r\nimport Layout from '../../components/Layout'\r\nfunction index() {\r\n    return (\r\n       <Layout>\r\n           <h1 style={{marginTop:\"200px\"}}>Page Not Found!</h1> \r\n      </Layout>\r\n    )\r\n}\r\n\r\nexport default index\r\n","export const itemsList = [\r\n    { title: 'בגדים', year: 1994 },\r\n    { title: 'חולצות', year: 1972 },\r\n    { title: 'מכנסיים', year: 1974 },\r\n    { title: 'גרביים', year: 2008 },\r\n    { title: 'בגדים לשינה', year: 1957 },\r\n    { title:  \"מעיל\", year: 1993 },\r\n    { title: \"ז'קט\", year: 1994 },\r\n    { title: 'מעיל גשם/ רוח', year: 2003 },\r\n    { title: 'נעלי הליכה', year: 1966 },\r\n    { title: 'נעלי בית', year: 1999 },\r\n    { title: 'כפכפים', year: 2001 },\r\n    { title: 'חגורות', year: 1980 },\r\n    { title: 'עניבות', year: 1994 },\r\n    { title: 'מגבות', year: 2010 },\r\n    { title: 'משכורת', year: 2002 },\r\n    { title: \"פנס\", year: 1975 },\r\n    { title: 'בגד ים', year: 1990 },\r\n    { title: 'מצפן', year: 1999 },\r\n    { title: 'ארנק', year: 1954 },\r\n    { title: 'שעון', year: 1977 },\r\n    { title: 'פלאפון', year: 2002 },\r\n    { title: 'ספר', year: 1995 },\r\n    { title: 'תרופות', year: 1991 },\r\n    { title: \"טלויזיה\", year: 1946 },\r\n    { title: 'סוני פלייסטישן', year: 1997 },\r\n    { title: 'מחשב נייד', year: 1995 },\r\n    { title: 'מחבט טניס', year: 1994 },\r\n    { title: \"מוצ'ילה\", year: 2001 },\r\n    { title: 'שתייה', year: 1998 },\r\n    { title: 'שכר דירה', year: 1968 },\r\n    { title: 'שתייה', year: 1998 },\r\n    { title: 'ציוד ספורט', year: 2014 },\r\n    { title: 'משלוחים', year: 1942 },\r\n    { title: 'כיבוד', year: 1931 },\r\n    { title: 'דלק', year: 1960 },\r\n    { title: 'צרכי משרד', year: 1999 },\r\n    { title: 'ליסינג/השכרה', year: 2011 },\r\n    { title: 'חומרה', year: 1936 },\r\n    { title: 'תוכנה', year: 1981 },\r\n    { title: 'הוצאות בנק', year: 1954 },\r\n    { title: 'אגרות', year: 2002 },\r\n    { title: 'קניות בחו\"ל', year: 2006 },\r\n    { title: 'רהיט', year: 1991 },\r\n    { title: 'חומרי ביניין', year: 1985 },\r\n    { title: 'ציוד מוזיקה' },\r\n    { title: 'מנוי אינטרנט'},\r\n    { title: 'שירותים מקצועיים'},\r\n    { title: 'תשלום לקבלני משנה'},\r\n    { title: 'פרסום וקידום מכירות'},\r\n    { title: 'עמלות אשראי'},\r\n    { title: 'פיצויים לעובדים'},\r\n    { title: 'נסיעות'},\r\n    { title: 'הלוואה'},\r\n    { title: 'פיקדון'},\r\n    { title: 'חשבון חשמל'},\r\n    { title: 'ארנונה'},\r\n    { title: 'תקציב'},\r\n    { title: 'אוכל'},\r\n    { title: 'הוצאות טלפון'},\r\n    { title: 'אחזקה בעסק'},\r\n    { title: 'יציאות חברים'},\r\n    { title: 'ציוד לעסק'},\r\n    { title: 'הוצאות דואר'},\r\n    { title: 'לקרן השתלמות'},\r\n    { title: 'שכירות/משרד'},\r\n    { title: 'דומיינים'},\r\n    { title: 'אחזקת רכב'},\r\n    { title: 'טיפולי שיניים'},\r\n    { title: 'ביטוח לאומי'},\r\n    { title: 'עבודה זמנית'},\r\n    { title: 'שכר לימוד'},\r\n    { title: 'גז'},\r\n    { title: 'חניות'},\r\n    { title: 'עזרה מההורים'},\r\n    { title: 'מתנות לאירועים'},\r\n    { title: 'משיכת מזומן'},\r\n    { title: 'אופטיקה'},\r\n    { title: 'חשבון מיים'},\r\n    { title: 'מיסי יישוב'},\r\n    { title: 'וועד בית'},\r\n    { title: 'מנויים'},\r\n    { title: 'תרומות'},\r\n    { title: 'קורסים'},\r\n    { title: 'קניות לבית'},\r\n    { title: 'מס הכנסה'},\r\n    { title: 'שיפוצים'},\r\n    { title: 'קולנוע'},\r\n    { title: 'הלוואה לחבר' },\r\n    { title: 'תיספורות'},\r\n    \r\n  ];","import React,{useState} from 'react';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Typography, \r\n  DialogTitle, \r\n  DialogContent, \r\n  DialogActions, \r\n  DialogContentText,\r\n  TextField,\r\n  FormControl } from '@material-ui/core';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport gql from 'graphql-tag'\r\nimport {useMutation} from '@apollo/react-hooks'\r\nimport {useForm} from '../../../hooks/useForm'\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport PropTypes from 'prop-types';\r\nimport NumberFormat from 'react-number-format';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport history from '../../../util/history';\r\nimport {itemsList} from '../../../util/spendingEarningList'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    \r\n        root: {\r\n          height: 0,\r\n          \r\n          \r\n        },\r\n        wrapper: {\r\n          width: 100 + theme.spacing(2),\r\n          \r\n        },\r\n\r\n        margin:{\r\n           margin:theme.spacing(1)\r\n        },\r\n           \r\n})); // styles for general modal\r\n\r\n\r\n\r\n\r\nfunction NumberFormatCustom(props) {\r\n    const { inputRef, onChange, ...other } = props;\r\n  \r\n    return (\r\n      <NumberFormat\r\n        {...other}\r\n        id='numberformat'\r\n        getInputRef={inputRef}\r\n        onValueChange={(values) => {\r\n          onChange({\r\n            target: {\r\n              name: props.name,\r\n              value: values.value,\r\n            },\r\n          });\r\n        }}\r\n        thousandSeparator\r\n        isNumericString\r\n        prefix=\"₪\"\r\n      />\r\n    );\r\n  }\r\n  \r\n  NumberFormatCustom.propTypes = {\r\n    inputRef: PropTypes.func.isRequired,\r\n    name: PropTypes.string.isRequired,\r\n    onChange: PropTypes.func.isRequired,\r\n  };\r\n\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n \r\n  return <Slide direction=\"down\" ref={ref} {...props} />;\r\n  });\r\n\r\n\r\n\r\nconst useFormStyles = makeStyles(() => ({\r\n    HeadLine:{\r\n        background:'#242333',\r\n        color:'whitesmoke',\r\n        fontFamily: 'Varela Round',\r\n        borderTopLeftRadius:'4px',\r\n        borderTopRightRadius:'4px'\r\n    }\r\n}));\r\n\r\nexport default function SimpleSlide({accountId, scrollToBottom}) {\r\n    \r\n    const options = itemsList.map((option) => {\r\n        const firstLetter = option.title[0].toUpperCase();\r\n        return {\r\n          firstLetter: /[0-9]/.test(firstLetter) ? '0-9' : firstLetter,\r\n          ...option,\r\n        };\r\n      });\r\n    \r\n    \r\n \r\n    const classes = useStyles();\r\n    const FormClasses = useFormStyles()\r\n    \r\n    const ModalIsOpen = window.location.pathname === `/myAccounts/${accountId}/addItem`\r\n    \r\n    const [radioValue, setRadioValue] =useState('')\r\n    const [errors, setErrors] = useState({});\r\n    const [category, setCategory] = useState('')  \r\n    const [numberformat ,setNumberformat] = useState('')\r\n    const { onChange, onSubmit, values } = useForm(addItemtCallback, {\r\n    title: category,\r\n    description:'',\r\n    media:'',\r\n    amount: numberformat\r\n   \r\n  });\r\n\r\n  \r\n   \r\n  \r\n  \r\n\r\n    const [addItem, { loading }] = useMutation(ADD_ITEM, {\r\n     onCompleted:() => {\r\n       history.goBack()\r\n       scrollToBottom()\r\n\r\n     },\r\n        update(_,result){\r\n            values.title = ''\r\n            values.description = ''\r\n            values.media = ''\r\n            values.amount = null\r\n            setRadioValue('')\r\n            setNumberformat('')\r\n            setCategory('')\r\n            console.log(\"verify action itemAdded!\"); \r\n        },\r\n        variables:{\r\n            accountId, \r\n            title: category,\r\n            description:values.description,\r\n            media:values.media,\r\n            amount: radioValue === \"spending\" ? -Math.abs(numberformat) : Math.abs(numberformat),\r\n        },\r\n\r\n      \r\n      onError:(err) =>{\r\n        console.log(err);\r\n      }\r\n    });\r\n  \r\n    function addItemtCallback() {\r\n      addItem();\r\n     }\r\n    \r\n     const handleRadioChange = (event) => {\r\n      setRadioValue(event.target.value);\r\n     \r\n    };\r\n  \r\n  return (\r\n    \r\n  \r\n\r\n      <div>\r\n     \r\n      <Dialog\r\n        open={ModalIsOpen}\r\n        TransitionComponent={Transition}\r\n        keepMounted\r\n        onClose={() => !ModalIsOpen}\r\n        aria-labelledby=\"alert-dialog-slide-title\"\r\n        aria-describedby=\"alert-dialog-slide-description\"\r\n        style={{zIndex:2, textAlign:'center'}}\r\n        \r\n      >\r\n        <form  onSubmit={onSubmit} noValidate>\r\n        <DialogTitle id=\"alert-dialog-slide-title\"> <Typography component=\"div\" variant=\"h5\" className={FormClasses.HeadLine}>:הוספת פריט</Typography></DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-slide-description\">\r\n          : הוסף פריט לרשימה\r\n          </DialogContentText>\r\n        \r\n           <div>\r\n           <FormControl component=\"fieldset\"  >\r\n           <RadioGroup row aria-label=\"option\" name=\"option\" value={radioValue} onChange={handleRadioChange}>\r\n           <FormControlLabel labelPlacement=\"start\"  value=\"spending\" control={<Radio />} label=\"הוצאה\" />\r\n          <FormControlLabel labelPlacement=\"start\"  value=\"earning\" control={<Radio />} label=\"הכנסה\" />\r\n        </RadioGroup>\r\n         </FormControl>\r\n           </div>\r\n\r\n\r\n\r\n\r\n          <div>\r\n        <FormControl className={classes.margin}>\r\n         <Autocomplete\r\n         id=\"grouped-demo1\"\r\n         options={options.sort((a, b) => -b.firstLetter.localeCompare(a.firstLetter))}\r\n         groupBy={(option) => option.firstLetter}\r\n         getOptionLabel={(option) =>option.title}\r\n         getOptionSelected={(option, value) => option.title === value.title}\r\n         onInputChange={(e,value) => setCategory(value)}\r\n         style={{ minWidth:210}}\r\n         inputValue={category}\r\n         renderInput={(params) => <TextField {...params} value={category} name=\"title\" type=\"text\" label=\"קטגוריה\" />}\r\n         clearOnEscape\r\n         disabled={radioValue === ''}\r\n        \r\n    />\r\n        \r\n      </FormControl>\r\n      </div>  \r\n\r\n      <div>\r\n      <FormControl  className={classes.margin}>\r\n      <TextField\r\n          id=\"standard-textarea1\"\r\n          value={values.description}\r\n          onChange={onChange}\r\n          name=\"description\" \r\n          type=\"text\" \r\n          label=\"תיאור\"\r\n          multiline\r\n          disabled={radioValue === ''}\r\n        />\r\n      </FormControl>  \r\n      </div>\r\n\r\n      <div>\r\n       <FormControl className={classes.margin}>\r\n       <TextField\r\n        label=\"סכום\"\r\n        value={numberformat}\r\n        onChange={(e) => setNumberformat(parseFloat(e.target.value))}    \r\n        id=\"formatted-numberformat-input\"\r\n        name=\"amount\"\r\n        disabled={radioValue === ''}\r\n        InputProps={{\r\n          inputComponent: NumberFormatCustom\r\n        }}\r\n      />\r\n       </FormControl>\r\n       </div>   \r\n       \r\n       \r\n       \r\n        </DialogContent>\r\n        <DialogActions>\r\n       {loading ? (<CircularProgress variant='indeterminate' style={{margin:'0 auto',color:'green'}} size={35} />)\r\n        : ( <Fab\r\n          aria-label=\"save\"\r\n          color=\"primary\"\r\n          style={{margin:'0 auto',backgroundColor:'green'}}\r\n          size={'small'}\r\n          type=\"submit\"\r\n          onClick={onSubmit}\r\n          disabled={ category.trim() === \"\" || isNaN(parseFloat(numberformat))}\r\n           \r\n        >\r\n         <CheckIcon />\r\n        </Fab>)}\r\n       \r\n        \r\n        </DialogActions>\r\n        </form>\r\n      </Dialog>\r\n    </div>\r\n\r\n\r\n\r\n\r\n      \r\n  );\r\n}\r\n\r\n\r\nconst ADD_ITEM = gql`\r\nmutation addItem($accountId:ID!, $title:String!, $description:String!,$media:String,$amount:Float) {\r\n    addItem(accountId:$accountId, title:$title ,description:$description, media:$media, amount:$amount){\r\n    id\r\n    title\r\n    list{\r\n      id\r\n      title\r\n      description\r\n      amount\r\n      media\r\n      createdAt\r\n      updatedAt\r\n      \r\n    }\r\n    }\r\n }\r\n`;\r\n\r\n\r\n\r\n \r\n \r\n","import React,{useState} from 'react';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {useSelector,useDispatch} from 'react-redux'\r\nimport { Typography, DialogContent,DialogActions,DialogContentText,TextField,FormControl,IconButton} from '@material-ui/core';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport gql from 'graphql-tag'\r\nimport {useMutation} from '@apollo/react-hooks'\r\nimport {useForm} from '../../../hooks/useForm'\r\nimport {SET_UpdateItem_Modal_Open } from '../../../Redux/actionTypes';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport PropTypes from 'prop-types';\r\nimport NumberFormat from 'react-number-format';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { useParams } from 'react-router-dom';\r\nimport history from '../../../util/history';\r\nimport {itemsList} from '../../../util/spendingEarningList'\r\n\r\nconst styles = (theme) => ({\r\n    root: {\r\n      margin: 0,\r\n      padding: theme.spacing(2),\r\n    },\r\n    closeButton: {\r\n      position: 'absolute',\r\n      right: theme.spacing(1),\r\n      top: theme.spacing(1),\r\n      color: theme.palette.grey[500],\r\n    },\r\n   \r\n  });\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    \r\n        root: {\r\n          height: 0,\r\n          \r\n          \r\n        },\r\n        wrapper: {\r\n          width: 100 + theme.spacing(2),\r\n          \r\n        },\r\n\r\n        margin:{\r\n           margin:theme.spacing(1)\r\n        },\r\n\r\n        radioButton:{\r\n            backgroundColor:\"#f50057\",\r\n        }\r\n    \r\n})); // styles for general modal\r\n\r\n\r\n\r\n\r\nfunction NumberFormatCustom(props) {\r\n    const { inputRef, onChange, ...other } = props;\r\n  \r\n    return (\r\n      <NumberFormat\r\n        {...other}\r\n        getInputRef={inputRef}\r\n        onValueChange={(values) => {\r\n          onChange({\r\n            target: {\r\n              name: props.name,\r\n              value: values.value,\r\n            },\r\n          });\r\n        }}\r\n        thousandSeparator\r\n        isNumericString\r\n        prefix=\"₪\"\r\n      />\r\n    );\r\n  }\r\n  \r\n  NumberFormatCustom.propTypes = {\r\n    inputRef: PropTypes.func.isRequired,\r\n    name: PropTypes.string.isRequired,\r\n    onChange: PropTypes.func.isRequired,\r\n  };\r\n\r\n\r\n  const DialogTitle = withStyles(styles)((props) => {\r\n    const { children, classes, onClose, ...other } = props;\r\n    return (\r\n      <MuiDialogTitle disableTypography className={classes.root} {...other}>\r\n        <Typography variant=\"h6\">{children}</Typography>\r\n        {onClose ? (\r\n          <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n            <CloseIcon />\r\n          </IconButton>\r\n        ) : null}\r\n      </MuiDialogTitle>\r\n    );\r\n  });\r\n\r\n\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n \r\n  return <Slide direction=\"up\" ref={ref}  {...props} />;\r\n  });\r\n\r\n\r\n\r\nconst useFormStyles = makeStyles(() => ({\r\n    HeadLine:{\r\n        background:'#242333',\r\n        color:'whitesmoke',\r\n        fontFamily: 'Varela Round',\r\n        borderTopLeftRadius:'4px',\r\n        borderTopRightRadius:'4px'\r\n    }\r\n}));\r\n\r\nexport default function SimpleSlide({accountId}) {\r\n    \r\n    const options = itemsList.map((option) => {\r\n        const firstLetter = option.title[0].toUpperCase();\r\n        return {\r\n          firstLetter: /[0-9]/.test(firstLetter) ? '0-9' : firstLetter,\r\n          ...option,\r\n        };\r\n      });\r\n    \r\n   \r\n \r\n    \r\n   \r\n    const classes = useStyles();\r\n    const FormClasses = useFormStyles()\r\n    const dispatch = useDispatch()\r\n    const params = useParams()\r\n    \r\n    const itemDetails = useSelector(state => state.uiReducer.UpdateItemModalIsOpen.itemDetails)\r\n    \r\n    const ModalIsOpen = window.location.pathname === `/myAccounts/${accountId}/updateItem/${params.itemId}` \r\n    \r\n    \r\n\r\n    const [radioValue, setRadioValue] =useState('') \r\n    const [errors, setErrors] = useState({});\r\n    const [category, setCategory] = useState('')  \r\n    const [numberformat ,setNumberformat] = useState('')\r\n   \r\n    \r\n\r\n\r\n    const { onChange, onSubmit, values } = useForm(updateItemCallback, {\r\n    title:'',\r\n    description:'',\r\n    media:'',\r\n    amount: numberformat\r\n   \r\n  });\r\n\r\n  \r\n \r\n\r\n  function CheckRadioValue(){\r\n    if(itemDetails){\r\n       \r\n        let res = Math.sign(itemDetails.amount)\r\n        \r\n        switch(res){\r\n            case 1:\r\n                return \"earning\";\r\n            \r\n                case -1:\r\n                 \r\n            return \"spending\";\r\n                 \r\n          default:\r\n                 return \"\"\r\n    \r\n        }\r\n    }\r\n    \r\n }\r\n\r\n  \r\n\r\n    const [updateItem, { loading }] = useMutation(UPDATE_ITEM, {\r\n        onCompleted:() => {\r\n        history.goBack()\r\n        dispatch({type:SET_UpdateItem_Modal_Open, payload:null})  \r\n       },\r\n        update(_,result){\r\n            values.title = ''\r\n            values.description = ''\r\n            values.media = ''\r\n            values.amount = null\r\n            setRadioValue('')\r\n            setNumberformat('')\r\n            setCategory('')\r\n            console.log(\"verify action itemUpdated!\"); \r\n        },\r\n        variables:{\r\n            accountId, \r\n            itemId:params.itemId,\r\n            title: category,\r\n            description:values.description,\r\n            amount: radioValue === \"spending\" ? -Math.abs(numberformat) : Math.abs(numberformat),\r\n        },\r\n\r\n      \r\n      onError:(err) =>{\r\n        console.log(err);\r\n      }\r\n    });\r\n  \r\n    function updateItemCallback() {\r\n        updateItem();\r\n     }\r\n    \r\n     const handleRadioChange = (event) => {\r\n       setRadioValue(event.target.value);\r\n    };\r\n\r\n\r\n\r\n    function checkUpdateFormValid(category,description,amount){\r\n        if(itemDetails){\r\n            if(category !== '' && !isNaN(amount)){\r\n                return false\r\n            }else{\r\n                return true\r\n            }\r\n          }\r\n     }\r\n    \r\n\r\n\r\n     function checkIfFeildsChanged(category,description,amount){\r\n        if(itemDetails){\r\n            if(category !== itemDetails.title || \r\n                description !== itemDetails.description || \r\n                amount !== itemDetails.amount || \r\n                radioValue !== CheckRadioValue()){\r\n                 \r\n                return false\r\n                \r\n            }else{\r\n                return true\r\n            }\r\n        }\r\n       \r\n     }\r\n\r\n\r\n\r\n    function UpdateFeildsOnOpen(){\r\n        if(itemDetails){\r\n            setRadioValue(CheckRadioValue())\r\n            setCategory(itemDetails.title) \r\n            values.description = itemDetails.description\r\n            setNumberformat(itemDetails.amount) \r\n        }\r\n    }\r\n\r\nReact.useEffect(() =>{ \r\n  UpdateFeildsOnOpen(); \r\n\r\n  console.log(itemDetails);  \r\n} \r\n\r\n\r\n  ,[ModalIsOpen])\r\n    \r\n  return (\r\n    \r\n      <div>\r\n     \r\n      <Dialog\r\n        open={ModalIsOpen}\r\n        TransitionComponent={Transition}\r\n        keepMounted\r\n        onClose={() => !ModalIsOpen}\r\n        aria-labelledby=\"alert-dialog-slide-title\"\r\n        aria-describedby=\"alert-dialog-slide-description\"\r\n        style={{zIndex:3, textAlign:'center'}}\r\n        \r\n      >\r\n        <form  onSubmit={onSubmit} noValidate>\r\n        <DialogTitle id=\"alert-dialog-slide-title\" onClose={() => {\r\n            history.goBack()\r\n            setRadioValue('')\r\n             }} style={{textAlign:'center'}}> \r\n        <Typography component=\"div\" variant=\"h5\" className={FormClasses.HeadLine}>:עריכת פריט</Typography>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-slide-description\">\r\n          : עדכן פריט מהרשימה\r\n          </DialogContentText>\r\n        \r\n           <div>\r\n           <FormControl  className={classes.margin}  component=\"fieldset\"  >\r\n\r\n          <div \r\n          style={{display:'flex', \r\n          alignItems:'center', \r\n          justifyContent:'space-around', \r\n          width:'110%'}}  \r\n          onChange={handleRadioChange}>\r\n          \r\n          <label htmlFor=\"spending\" style={{fontSize:18}}>הוצאה</label>\r\n          <input \r\n          style={{\r\n              height:18, \r\n              width:18}} \r\n              readOnly \r\n              type=\"radio\" \r\n              className={classes.radioButton}\r\n              id=\"spending\" \r\n              value=\"spending\"  \r\n              checked={radioValue === \"spending\"} \r\n              name=\"spending\" /> \r\n          \r\n         \r\n          <label htmlFor=\"earning\" style={{fontSize:18}}>הכנסה</label>\r\n          <input \r\n          style={{\r\n              height:18, \r\n              width:18}} \r\n              type=\"radio\" \r\n              id=\"earning\" \r\n              value=\"earning\" \r\n              readOnly\r\n              checked={radioValue === \"earning\"}\r\n              name=\"earning\"\r\n              /> \r\n          \r\n        </div>\r\n        </FormControl>\r\n        </div>\r\n\r\n\r\n\r\n\r\n          <div>\r\n        <FormControl className={classes.margin}>\r\n         <Autocomplete\r\n         id=\"grouped-demo\"\r\n         options={options.sort((a, b) => -b.firstLetter.localeCompare(a.firstLetter))}\r\n         groupBy={(option) => option.firstLetter}\r\n         getOptionLabel={(option) =>option.title}\r\n         getOptionSelected={(option, value) => option.title === value.title}\r\n         onInputChange={(e,value) => setCategory(value)}\r\n         style={{ minWidth:210}}\r\n         inputValue={category}\r\n         renderInput={(params) => <TextField {...params} onChange={onchange} value={category} name=\"title\" type=\"text\" label=\"קטגוריה\" />}\r\n         clearOnEscape\r\n        \r\n        \r\n    />\r\n        \r\n      </FormControl>\r\n      </div>  \r\n\r\n      <div>\r\n      <FormControl className={classes.margin}>\r\n      <TextField\r\n          id=\"standard-textarea\"\r\n          value={values.description}\r\n          onChange={onChange}\r\n          name=\"description\" \r\n          type=\"text\" \r\n          label=\"תיאור\"\r\n          multiline\r\n        />\r\n      </FormControl>  \r\n      </div>\r\n\r\n      <div>\r\n       <FormControl className={classes.margin}>\r\n       <TextField\r\n        label=\"סכום\"\r\n        value={numberformat}\r\n        onChange={(e) => setNumberformat(parseFloat(e.target.value))}    \r\n        id=\"formatted-numberformat-input\"\r\n        name=\"amount\"\r\n        InputProps={{\r\n          inputComponent: NumberFormatCustom\r\n        }}\r\n      />\r\n       </FormControl>\r\n       </div>   \r\n       </DialogContent>\r\n        <DialogActions>\r\n        \r\n        {loading ? (<CircularProgress variant='indeterminate'  style={{margin:'0 auto', color:'green'}} size={35}/>) \r\n        \r\n        : (<Fab\r\n            aria-label=\"save\"\r\n            color=\"primary\"\r\n            style={{margin:'0 auto',backgroundColor:'green'}}\r\n            size={'small'}\r\n            type=\"submit\"\r\n            onClick={onSubmit}\r\n            disabled={checkUpdateFormValid(category,values.description,numberformat) || \r\n              checkIfFeildsChanged(category,values.description,numberformat)}\r\n  \r\n          >\r\n           <CheckIcon />\r\n          </Fab>)}\r\n\r\n        </DialogActions>\r\n        </form>\r\n      </Dialog>\r\n    </div>\r\n\r\n\r\n\r\n\r\n      \r\n  );\r\n}\r\n\r\n\r\nconst UPDATE_ITEM = gql`\r\nmutation updateItem($accountId:ID!, $itemId:ID!, $title:String!, $description:String!, $amount:Float) {\r\n    updateItem(accountId:$accountId, itemId:$itemId, title:$title ,description:$description, amount:$amount){\r\n    id\r\n    title\r\n    list{\r\n      id\r\n      title\r\n      description\r\n      amount\r\n      media\r\n      createdAt\r\n      updatedAt\r\n      \r\n    }\r\n    }\r\n }\r\n`;\r\n\r\n\r\n \r\n \r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport PieChartRoundedIcon from '@material-ui/icons/PieChartRounded';\r\nimport {useSelector} from 'react-redux'\r\nimport {Chart,Interval,Tooltip,Axis,Coordinate} from \"bizcharts\";\r\nimport { DialogTitle, useMediaQuery, useTheme } from '@material-ui/core';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport history from '../../../util/history';\r\nimport { DataGrid } from '@material-ui/data-grid';\r\nimport NumericLabel from 'react-pretty-numbers';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: 'relative',\r\n  },\r\n  title: {\r\n  flex: 1,\r\n  wordBreak:'break-word'\r\n  },\r\n  Fab:{\r\n    position:'fixed',\r\n    right:theme.spacing(2),\r\n    bottom:theme.spacing(1),\r\n    zIndex:3,\r\n  \r\n  },\r\n\r\n  stasWrapper:{\r\n    height:'100%', \r\n    width:'100%', \r\n    [theme.breakpoints.up('md')]:{\r\n      display:'flex', \r\n      alignItems:'center', \r\n      justifyContent:'center'\r\n    }\r\n  },\r\n\r\n  datagridEarning:{\r\n    height:400, \r\n    width: '100%', \r\n    margin:'0 auto',\r\n   \r\n     [theme.breakpoints.up('sm')]:{\r\n      width:'90%'\r\n     },\r\n     \r\n  },\r\n\r\n  datagridSpending:{\r\n    height:400, \r\n    width: '100%', \r\n    margin:'0 auto',\r\n    \r\n    \r\n     [theme.breakpoints.up('sm')]:{\r\n      width:'90%'\r\n     },\r\n    \r\n\r\n  }\r\n\r\n}));\r\n\r\n\r\nconst PieChart = ({data, cols}) => {\r\n  const theme = useTheme()\r\n  const matches = useMediaQuery(theme.breakpoints.up('sm'));\r\n\r\n  return (\r\n   \r\n    <Chart \r\n    height={'50%'} \r\n    width={'100%'}  \r\n    \r\n    data={data} \r\n    scale={cols} \r\n    interactions={['element-single-selected']} \r\n    autoFit>\r\n\t\t<Coordinate type=\"theta\" radius={matches ? 0.70 : 0.40} />\r\n\t\t\t<Tooltip showTitle={false} />\r\n\t\t\t<Axis visible={false} />\r\n\t\t\t<Interval\r\n\t\t\t\tposition=\"percent\"\r\n\t\t\t\tadjust=\"stack\"\r\n\t\t\t\tcolor=\"item\"\r\n        style={{\r\n\t\t\t\t\tlineWidth: 1,\r\n\t\t\t\t\tstroke: \"#fff\",\r\n\t\t\t\t}}\r\n\t\t\t\tlabel={[\r\n\t\t\t\t\t\"item\",\r\n\t\t\t\t\t(item) => {\r\n\t\t\t\t\t\treturn {\r\n              offset: 10,\r\n\t\t\t\t\t\t\tcontent: (data) => {\r\n\t\t\t\t\t\t\t\treturn `${data.item} ${Number(data.percent * 100).toFixed(1)}%`;\r\n\t\t\t\t\t\t\t},\r\n          \t};\r\n\t\t\t\t\t},\r\n\t\t\t\t]}\r\n\t\t\t/>\r\n\t\t</Chart>\r\n   \r\n  )\r\n}\r\n\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport default function FullScreenDialog({totalSpending, totalEarning}) {\r\n  \r\n  //Number Format Options\r\nconst FormatOptions = {\r\n  'justification':'L',\r\n  'locales':'en-AU',\r\n  'currency':false,\r\n  'currencyIndicator':'AUD',\r\n  'percentage':false,\r\n  'precision':0,\r\n  'wholenumber':null,\r\n  'commafy':true,\r\n  'shortFormat':true,\r\n  'shortFormatMinValue': 1000000,\r\n  'shortFormatPrecision': 2,\r\n  'title':true,\r\n  \r\n};\r\n  const params = useParams()\r\n  \r\n  const accountData = useSelector(state => state.uiReducer.getCurrentAccountUi)\r\n  \r\n \r\n    function getSpendingSumDuplicateTitleData(){\r\n      let array2 = []\r\n      if(accountData){\r\n        let result = []\r\n        const filteredList = accountData.list.filter(i => i.amount < 0)\r\n\r\n    filteredList.forEach(function (a) {\r\n       if (!this[a.title]) {\r\n         this[a.title] = { title: a.title, amount: 0 };\r\n         result.push(this[a.title]);\r\n      }\r\n          this[a.title].amount += a.amount;\r\n     }, Object.create(null));\r\n     \r\n     result.map(i => array2.push({ item:i.title, percent:Math.abs((i.amount / totalSpending).toFixed(4))})) \r\n     \r\n     return array2    \r\n   }\r\n      \r\n    }\r\n\r\n   \r\n    function getEarningSumDuplicateDataGrid(){\r\n      \r\n      if(accountData){\r\n        let result = []\r\n        const filteredList = accountData.list.filter(i => i.amount > 0)\r\n   \r\n    filteredList.forEach(function (a,i) {\r\n       if (!this[a.title]) {\r\n         this[a.title] = { id:i,title: a.title, amount: 0, date:a.updatedAt};\r\n         result.push(this[a.title]);\r\n      }\r\n          this[a.title].amount += a.amount;\r\n     }, Object.create(null));\r\n        \r\n      return result    \r\n   }\r\n    \r\n     \r\n    }\r\n \r\n\r\n    function getSpendingSumDuplicateDataGrid(){\r\n      \r\n      if(accountData){\r\n        let result = []\r\n        const filteredList = accountData.list.filter(i => i.amount < 0)\r\n   \r\n    filteredList.forEach(function (a,i) {\r\n       if (!this[a.title]) {\r\n         this[a.title] = { id:i,title: a.title, amount: 0, date:a.updatedAt};\r\n         result.push(this[a.title]);\r\n      }\r\n          this[a.title].amount += a.amount;\r\n     }, Object.create(null));\r\n        \r\n      return result    \r\n   }\r\n    \r\n     \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    function getEarningSumDuplicateTitleData(){\r\n      let array3 =[]\r\n      if(accountData){\r\n        let result = []\r\n        const filteredList = accountData.list.filter(i => i.amount > 0)\r\n\r\n    filteredList.forEach(function (a) {\r\n       if (!this[a.title]) {\r\n         this[a.title] = { title: a.title, amount: 0 };\r\n         result.push(this[a.title]);\r\n      }\r\n          this[a.title].amount += a.amount;\r\n     }, Object.create(null));\r\n     result.map(i => array3.push({ item:i.title, percent:Math.abs((i.amount / totalEarning).toFixed(4))})) \r\n      return array3    \r\n   }\r\n    \r\n     \r\n    }\r\n   \r\n\r\n  const classes = useStyles();\r\n  const open = window.location.pathname === `/myAccounts/${params.accountId}/statis`\r\n\r\n  \r\n\r\n  const handleClose = () => {\r\n    history.goBack()\r\n  };\r\n\r\n \r\nconst cols = {\r\n  percent: {\r\n    formatter: (val) => {\r\n      val = Number(val * 100).toFixed(2) + \"%\";\r\n     return val;\r\n    },\r\n  },\r\n};\r\n\r\n\r\n  return (\r\n    \r\n    <div>\r\n      \r\n      <Fab  className={classes.Fab} size=\"medium\" color=\"secondary\" aria-label=\"statistics\" >\r\n     <IconButton component={Link} style={{color:'white'}} to={`/myAccounts/${params.accountId}/statis`}><PieChartRoundedIcon /></IconButton> \r\n      </Fab>\r\n      <Dialog dir='rtl' style={{textAlign:'center'}} fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\r\n        <AppBar color='secondary' className={classes.appBar}>\r\n          <Toolbar>\r\n            <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\r\n              <CloseIcon />\r\n            </IconButton>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              פילוח נתונים - &apos;&apos;{accountData && accountData.title}&apos;&apos;\r\n            </Typography>\r\n          </Toolbar>  \r\n        </AppBar>\r\n       \r\n        <div style={{height:'100%', width:'100%'}} dir='ltr' >\r\n           \r\n           <Typography \r\n           variant='h5'\r\n           style={{\r\n             textDecoration:'underline',\r\n             color:`${Number(totalEarning + totalSpending).toFixed(2) > 0  ? 'green' : 'red'}`,\r\n            }}\r\n           >\r\n           ₪ {accountData ? ( <NumericLabel params={FormatOptions}>{Number(totalEarning + totalSpending).toFixed(2)}</NumericLabel>) : 'calculate...' } :מאזן נוכחי\r\n           </Typography>\r\n        \r\n          <div className={classes.stasWrapper}>\r\n          \r\n          {totalEarning > 0 && (<div style={{display:'flex', flexDirection:'column', height:'100%',  width:'100%'}}>\r\n            <DialogTitle style={{position:'relative', margin:'0 auto', textDecoration:'underline'}}>₪ <NumericLabel params={FormatOptions}>{Math.abs(totalEarning).toFixed(2)}</NumericLabel> :הכנסות</DialogTitle>\r\n            <PieChart data={!getEarningSumDuplicateTitleData() ? [] : getEarningSumDuplicateTitleData()} cols={cols} />\r\n            \r\n            <div className={classes.datagridEarning}>\r\n            <div style={{height:'100%'}}>\r\n              <DataGrid\r\n              columns={[\r\n                { \r\n                  field: 'date',\r\n                  headerName: 'תאריך',\r\n                  align:'right',\r\n                  flex: 1,\r\n                  width: 125,\r\n                  headerAlign:'right',\r\n                  valueFormatter: (params) => {\r\n                    const date = new Date(parseInt(params.value))\r\n                    const valueFormatted = date.toLocaleDateString();\r\n                    return `${valueFormatted}`;\r\n                  }, \r\n                },\r\n                { \r\n                  field: 'amount', \r\n                  headerName: 'סכום',\r\n                  flex: 0.9,\r\n                  width: 125,\r\n                  align:'right',type: 'number',\r\n                  headerAlign:'right',\r\n                  valueFormatter: (params) => {\r\n                    const valueFormatted = Number(params.value).toLocaleString();\r\n                    return `₪ ${valueFormatted}`;\r\n                  },  \r\n                },\r\n                { \r\n                  field: 'title', \r\n                  flex: 1,\r\n                  width: 130,\r\n                  headerName: 'קטגוריה',\r\n                  align:'right',\r\n                  type:'string',\r\n                  headerAlign:'right' \r\n                },\r\n                { \r\n                  field: 'id', \r\n                  hide:true \r\n                },\r\n                \r\n               \r\n               \r\n                \r\n                ]}\r\n                rows={!getEarningSumDuplicateDataGrid() ? [] : getEarningSumDuplicateDataGrid()}\r\n              />\r\n              </div> \r\n            </div>\r\n            \r\n            </div>\r\n          )}\r\n            \r\n          {totalSpending < 0 && (<div style={{display:'flex', flexDirection:'column', height:'100%', width:'100%'}}>\r\n            <DialogTitle  style={{position:'relative', margin:'0 auto', textDecoration:'underline'}}>₪ <NumericLabel params={FormatOptions}>{-Math.abs(totalSpending).toFixed(2)}</NumericLabel> :הוצאות</DialogTitle>\r\n          <PieChart data={!getSpendingSumDuplicateTitleData() ? [] : getSpendingSumDuplicateTitleData() } cols={cols} />\r\n          \r\n          <div className={classes.datagridSpending}>\r\n          <div style={{height:'100%'}}>\r\n              <DataGrid\r\n              \r\n              columns={[\r\n                { \r\n                field: 'date',\r\n                width: 125, \r\n                headerName: 'תאריך',\r\n                flex: 1,\r\n                align:'right',\r\n                headerAlign:'right',\r\n                valueFormatter: (params) => {\r\n                  const date = new Date(parseInt(params.value))\r\n                  const valueFormatted = date.toLocaleDateString();\r\n                  return `${valueFormatted}`;\r\n                }, \r\n              },\r\n                { \r\n                  field: 'amount',\r\n                  width: 125,\r\n                  flex: 0.9,\r\n                   headerName: 'סכום',\r\n                   align:'right',\r\n                   type: 'number',\r\n                   headerAlign:'right',\r\n                   valueFormatter: (params) => {\r\n                    const valueFormatted = Number(params.value).toLocaleString();\r\n                    return `₪ ${valueFormatted} `;\r\n                  }, \r\n                },\r\n                \r\n               \r\n              { \r\n                field: 'title', \r\n                width: 130, \r\n                flex: 1,\r\n                headerName: 'קטגוריה',\r\n                align:'right',\r\n                type:'string',\r\n                headerAlign:'right', \r\n              },\r\n                \r\n                { \r\n                  field: 'id', \r\n                  hide:true \r\n                },\r\n               ]}\r\n                rows={!getSpendingSumDuplicateDataGrid() ? [] : getSpendingSumDuplicateDataGrid()}\r\n              />\r\n             </div>\r\n            </div>\r\n          \r\n          \r\n          </div>) }\r\n          \r\n          </div>\r\n       \r\n       \r\n        </div>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","export const options = {\r\n    settings: {\r\n      autoplaySpeed: 0,\r\n      boxShadow: 'none',\r\n      disableKeyboardControls: false,\r\n      disablePanzoom: false,\r\n      disableWheelControls: true,\r\n      hideControlsAfter: 1000,\r\n      lightboxTransitionSpeed: 0.3,\r\n      lightboxTransitionTimingFunction: 'linear',\r\n      overlayColor: 'rgba(30, 30, 30, 0.9)',\r\n      slideAnimationType: 'fade',\r\n      slideSpringValues: [300, 50],\r\n      slideTransitionSpeed: 0.6,\r\n      slideTransitionTimingFunction: 'linear',\r\n      usingPreact: false\r\n    },\r\n    caption: {\r\n      captionColor: \"white\",\r\n      captionFontFamily: \"Varela Round\",\r\n      captionFontWeight: \"300\",\r\n      captionTextTransform: \"lowercase\",\r\n      captionFontSize: '30px',\r\n      \r\n    },\r\n    thumbnails: {\r\n      showThumbnails: false,\r\n      thumbnailsAlignment: 'center',\r\n      thumbnailsContainerBackgroundColor: 'transparent',\r\n      thumbnailsContainerPadding: '0',\r\n      thumbnailsGap: '0 1px',\r\n      thumbnailsIconColor: '#ffffff',\r\n      thumbnailsOpacity: 0.4,\r\n      thumbnailsPosition: 'bottom',\r\n      thumbnailsSize: ['100px', '80px']\r\n    },\r\n    buttons: {\r\n      backgroundColor: 'rgba(30,30,36,0.8)',\r\n      iconColor: 'rgba(255, 255, 255, 0.8)',\r\n      iconPadding: '10px',\r\n      showAutoplayButton: true,\r\n      showCloseButton: true,\r\n      showDownloadButton: true,\r\n      showFullscreenButton: true,\r\n      showNextButton: false,\r\n      showPrevButton: false,\r\n      showThumbnailsButton: true,\r\n      size: '40px'\r\n    }\r\n  };","import React,{useState, useEffect} from 'react'\r\nimport AddAPhotoRoundedIcon from '@material-ui/icons/AddAPhotoRounded';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Axios from 'axios'\r\nimport gql from 'graphql-tag'\r\nimport {useMutation} from '@apollo/react-hooks';\r\nimport {useSelector} from 'react-redux'\r\n\r\nfunction Index({accountId, itemId}) {\r\n   \r\n  const [fileSelected, setFileSelected] = useState(null)\r\n  const [imageMutation ,setImageMutation] = useState('')\r\n  const [loading ,setLoading] = useState(false)\r\n  \r\n  const getUsername = useSelector(state => state.userReducer.userDetails)\r\n\r\n  const formData = new FormData()\r\n  \r\n   const [updateItemImage,{data}] = useMutation(ADD_ITEM_IMAGE_MUTATION, {\r\n       variables:{ \r\n           accountId,\r\n           itemId,\r\n           imageURL:imageMutation},\r\n    onCompleted:() => {\r\n        setLoading(false) }, \r\n        refetchQueries:[{query:GET_USER_ACCOUNT, variables:{accountId}}]})\r\n        \r\n\r\n\r\n\r\n   useEffect(() =>{ \r\n \r\n        if(fileSelected){\r\n          formData.append('file', fileSelected)\r\n          formData.append('upload_preset','temed3va')\r\n          formData.append('folder',`Users/${getUsername.id}/myAccounts/${accountId}/${itemId}`)\r\n          \r\n          Axios.post(\"https://api.cloudinary.com/v1_1/dw4v5axnj/image/upload/\",formData)\r\n          .then(res => {\r\n            setLoading(true)\r\n            setImageMutation(res.data.secure_url) \r\n            console.log(res.data);\r\n            updateItemImage()\r\n            \r\n           \r\n            \r\n        }).catch(err => console.log(err)) \r\n        \r\n          console.log(imageMutation);\r\n        }\r\n      } \r\n          ,[fileSelected]) \r\n\r\n\r\n\r\n          \r\n   \r\n    function handleFileChanged(e){\r\n        e.preventDefault() \r\n        setLoading(true)\r\n        setFileSelected(e.target.files[0])\r\n        console.log('loading', loading);\r\n       \r\n       \r\n    }\r\n   \r\n   return (\r\n        <>\r\n        <input name=\"file\" accept=\"image/*\" hidden id={`icon-button-file-image-${itemId}`} type=\"file\" onChange={handleFileChanged} />\r\n        <label htmlFor={`icon-button-file-image-${itemId}`} style={{position:'absolute', bottom:-2, left:0, transform:'translate(6%, -14%)' }}>\r\n        \r\n      <IconButton color='inherit' size='small' disabled={loading} style={{backgroundColor:'white'}} aria-label=\"upload picture\" component=\"span\">\r\n      { loading  ?  <CircularProgress color='secondary' size={20}/> : <AddAPhotoRoundedIcon style={{fontSize:'18px'}} /> } \r\n        </IconButton>\r\n       </label>\r\n      </>\r\n    )\r\n}\r\n\r\nexport default Index\r\n\r\n\r\n\r\nconst ADD_ITEM_IMAGE_MUTATION = gql`\r\n\r\nmutation addItemImage($accountId:ID!, $itemId:ID!, $imageURL:String!){\r\n    addItemImage(accountId:$accountId, itemId:$itemId, imageURL:$imageURL)\r\n}\r\n\r\n`; \r\n\r\nconst GET_USER_ACCOUNT = gql`\r\n\r\n    query($accountId:ID!){\r\n        getUserAccount(accountId:$accountId){\r\n            title\r\n            id\r\n            owner\r\n            list{\r\n              id\r\n              title\r\n              description\r\n              media\r\n              amount\r\n              createdAt\r\n            }\r\n        }  \r\n      }\r\n\r\n\r\n`;","export default __webpack_public_path__ + \"static/media/no-image.15228ead.svg\";","import React from 'react'\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport gql from 'graphql-tag'\r\nimport { useMutation } from '@apollo/react-hooks';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport history from '../../../../util/history';\r\nimport { Link, useParams } from 'react-router-dom';\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      display: 'flex',\r\n      zIndex:13\r\n    },\r\n    paper: {\r\n    \r\n     \r\n    },\r\n\r\n    OptionBar:{\r\n        position:'absolute',\r\n        zIndex:13,\r\n        top:8,\r\n        left:2, \r\n        color:'white'\r\n      },\r\n      Delete:{\r\n          color:'#d50000',\r\n          fontFamily:'Varela Round',\r\n          fontWeight:'bold'\r\n      },\r\n     \r\n\r\n      dialogTitle:{\r\n          fontFamily:'Varela Round',\r\n          fontWeight:'bold',\r\n          backgroundColor:'#d50000',\r\n          color:'white',\r\n\r\n          \r\n      }\r\n\r\n     \r\n  }));\r\n  const Transition = React.forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n  });\r\n \r\nfunction Index({itemId}) {\r\n    \r\n    const classes = useStyles();\r\n    const params = useParams()\r\n   \r\n\r\n  const ModalIsOpen = window.location.pathname === `/myAccounts/${params.accountId}/deleteItem/${params.itemId}` \r\n\r\n    const [deleteItem,{loading}] = useMutation(DELETE_ITEM,\r\n        {\r\n        onCompleted:() =>{\r\n        history.goBack()\r\n      },\r\n\r\n        onError:(err) => console.log(err),\r\n       \r\n        variables: {\r\n           accountId:params.accountId,\r\n           itemId:params.itemId\r\n        }\r\n      });\r\n    \r\n    return (\r\n        <>\r\n        <MenuItem \r\n        className={classes.Delete} \r\n        component={Link} \r\n        to={`/myAccounts/${params.accountId}/deleteItem/${itemId}`}>מחק פריט</MenuItem>\r\n        \r\n      <Dialog\r\n        open={ModalIsOpen}\r\n        TransitionComponent={Transition}\r\n        keepMounted\r\n        onClose={() => !ModalIsOpen}\r\n        aria-labelledby=\"alert-dialog-slide-title\"\r\n        aria-describedby=\"alert-dialog-slide-description\"\r\n        style={{textAlign:'center'}}\r\n\r\n        \r\n      >\r\n        <DialogTitle className={classes.dialogTitle} id=\"alert-dialog-slide-title\">מחיקת פריט</DialogTitle>\r\n        <DialogContent >\r\n          <DialogContentText id=\"alert-dialog-slide-description\">\r\n           ? האם את/ה בטוח/ה שברצונך למחוק פריט זה \r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions  style={{margin:'0 auto'}} >\r\n          {loading ? (\r\n                <CircularProgress \r\n                size={35} \r\n                variant='indeterminate' \r\n                style={{color:'red', margin:'0 auto'}}/>\r\n             ) : (\r\n            <>\r\n            <Button onClick={() => history.goBack()} color=\"primary\"  >\r\n            לא\r\n          </Button>\r\n          <Button onClick={deleteItem} color=\"primary\">\r\n            כן\r\n          </Button>\r\n          </>\r\n          )}\r\n        </DialogActions>\r\n      </Dialog>\r\n      </>\r\n    )\r\n}\r\n\r\nexport default Index\r\n\r\n\r\n\r\nconst DELETE_ITEM = gql`\r\nmutation deleteItem($accountId:ID!, $itemId:ID!){\r\n    deleteItem(accountId:$accountId, itemId:$itemId){\r\n        id\r\n        createdAt\r\n        updatedAt\r\n        list{\r\n          id\r\n          title\r\n          description\r\n          amount\r\n          media\r\n          createdAt\r\n          updatedAt\r\n          \r\n        }\r\n    }\r\n  }\r\n`;\r\n\r\n","import React from 'react'\r\nimport {makeStyles, MenuItem} from '@material-ui/core'\r\nimport { useDispatch } from 'react-redux'\r\nimport { SET_UpdateItem_Modal_Open } from '../../../../Redux/actionTypes'\r\nimport { useParams } from 'react-router-dom';\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    Update:{\r\n        fontFamily:'Varela Round',\r\n        fontWeight:'bold'  \r\n      },\r\n   }))\r\n\r\n\r\n\r\n\r\nfunction Index({item}) {\r\n  const params = useParams()\r\n    const classes = useStyles()\r\n   \r\n\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    function handleClickOpen(){\r\n     dispatch({type:SET_UpdateItem_Modal_Open, payload:item})\r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    return (\r\n       \r\n      <MenuItem className={classes.Update} component={Link} to={`/myAccounts/${params.accountId}/updateItem/${item.id}`} onClick={handleClickOpen} >עדכן פריט</MenuItem>\r\n      \r\n    )\r\n}\r\n\r\nexport default Index\r\n","import React from 'react'\r\nimport {makeStyles, MenuItem} from '@material-ui/core'\r\nimport gql from 'graphql-tag'\r\nimport {useMutation} from '@apollo/react-hooks'\r\nconst useStyles = makeStyles((theme) => ({\r\n    Update:{\r\n        fontFamily:'Varela Round',\r\n        fontWeight:'bold',\r\n        color:'#d50000',\r\n    },\r\n   }))\r\n\r\nfunction Index({accountId, itemId, image, setOpen}) {\r\n   \r\n    const classes = useStyles()\r\n   \r\n\r\n    const [deleteItemImage,{data}] = useMutation(DELETE_ITEM_IMAGE_MUTATION, {\r\n        variables:{ \r\n            accountId,\r\n            itemId,\r\n        },\r\n     onCompleted:() => {}, \r\n         refetchQueries:[{query:GET_USER_ACCOUNT, variables:{accountId}}]})\r\n\r\n\r\n\r\n\r\n    function handleClickOpen(e){\r\n       e.preventDefault() \r\n       setOpen(false)\r\n       deleteItemImage()   \r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n        {image && <MenuItem className={classes.Update} onClick={handleClickOpen} >הסר תמונה</MenuItem>}  \r\n       </>\r\n    )\r\n}\r\n\r\nexport default Index\r\n\r\n\r\nconst DELETE_ITEM_IMAGE_MUTATION = gql`\r\n\r\nmutation deleteItemImage($accountId:ID!, $itemId:ID!){\r\n    deleteItemImage(accountId:$accountId, itemId:$itemId)\r\n}\r\n\r\n`; \r\n\r\n\r\n\r\nconst GET_USER_ACCOUNT = gql`\r\n\r\n    query($accountId:ID!){\r\n        getUserAccount(accountId:$accountId){\r\n            title\r\n            id\r\n            owner\r\n            list{\r\n              id\r\n              title\r\n              description\r\n              media\r\n              amount\r\n              createdAt\r\n            }\r\n        }  \r\n      }\r\n\r\n\r\n`;","import React from 'react'\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\r\nimport Grow from '@material-ui/core/Grow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Popper from '@material-ui/core/Popper';\r\nimport MenuList from '@material-ui/core/MenuList';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport MoreVertRoundedIcon from '@material-ui/icons/MoreVertRounded';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport DeleteMenuItem from '../MoreOptionsButtonItem/DeleteOptionItem';\r\nimport UpdateMenuItem from '../MoreOptionsButtonItem/UpdateOptionItem'\r\nimport RemoveImageItem from '../MoreOptionsButtonItem/RemoveImageOptionItem'\r\nimport { useParams } from 'react-router-dom';\r\nimport history from '../../../util/history';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n     zIndex:1\r\n    \r\n    },\r\n    paper: {\r\n    \r\n    \r\n    },\r\n\r\n    OptionBar:{\r\n        \r\n    \r\n        \r\n      },\r\n     \r\n\r\n     \r\n  }));\r\n\r\n\r\n\r\nfunction Index({accountId, itemId, item}) {\r\n  \r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(false);\r\n  const anchorRef = React.useRef(null);\r\n  const params = useParams()\r\n  const handleToggle = () => {\r\n    if(params.itemId){\r\n      history.replace(`/myAccounts/${accountId}`)\r\n    }\r\n   \r\n    setOpen((prevOpen) => !prevOpen);\r\n  };\r\n\r\n  const handleClose = (event) => {\r\n    if (anchorRef.current && anchorRef.current.contains(event.target)) {\r\n      return\r\n    }\r\n\r\n    setOpen(false);\r\n  }; \r\n\r\n  function handleListKeyDown(event) {\r\n    if (event.key === 'Tab') {\r\n      event.preventDefault();\r\n      setOpen(false);\r\n    }\r\n  }\r\n\r\n  // return focus to the button when we transitioned from !open -> open\r\n  const prevOpen = React.useRef(open);\r\n  \r\n  React.useEffect(() => {\r\n    if (prevOpen.current === true && open === false) {\r\n      anchorRef.current.focus();\r\n    }\r\n\r\n    prevOpen.current = open;\r\n  \r\n  \r\n  }, [open]);\r\n    \r\n    \r\n     return (\r\n        \r\n        <div className={classes.root}>\r\n       <div >\r\n        <IconButton \r\n          ref={anchorRef}\r\n          aria-controls={open ? 'menu-list-grow' : undefined}\r\n          aria-haspopup=\"true\"\r\n          onClick={handleToggle}\r\n          size=\"small\"\r\n          className={classes.OptionBar}>\r\n          <MoreVertRoundedIcon  />\r\n          </IconButton>\r\n          </div>\r\n         \r\n        <Popper  open={open} anchorEl={anchorRef.current} role={undefined} placement=\"left-start\" transition disablePortal>\r\n          {({ TransitionProps, placement }) => (\r\n            <Grow\r\n              {...TransitionProps}\r\n              style={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }}\r\n            >\r\n              <Paper className={classes.paper}>\r\n                 <ClickAwayListener onClickAway={handleClose}>\r\n                  <MenuList autoFocusItem={open} id=\"menu-list-grow\" onKeyDown={handleListKeyDown}>\r\n                    <RemoveImageItem accountId={accountId} itemId={itemId} image={item.media} setOpen={setOpen}/> \r\n                    <UpdateMenuItem accountId={accountId} itemId={itemId} item={item}  />\r\n                    <DeleteMenuItem accountId={accountId} itemId={itemId} setOpen={setOpen}/>\r\n                  </MenuList>\r\n                  </ClickAwayListener>\r\n              </Paper>\r\n            </Grow>\r\n          )}\r\n        </Popper>\r\n      \r\n    </div>\r\n        \r\n    \r\n    )\r\n}\r\n\r\nexport default Index\r\n","import React from 'react'\r\nimport {options} from '../../../util/lightboxConfig'\r\nimport AddItemImageButton from '../AddItemImageButton'\r\nimport NoImage from '../../../util/assets/no-image.svg'\r\nimport MoreOptionsItem from '../MoreOptionsButtonItem' \r\nimport Card from '@material-ui/core/Card';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport NumericLabel from 'react-pretty-numbers';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport { makeStyles} from '@material-ui/core/styles';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport dayjs from 'dayjs';\r\nimport relativeTime from 'dayjs/plugin/relativeTime';\r\nimport { useDispatch } from 'react-redux';\r\nimport { SET_LightBoxImage } from '../../../Redux/actionTypes';\r\nimport hebConf from 'dayjs/locale/he'\r\nconst useStyles = makeStyles((theme) => ({\r\n   \r\n   details: {\r\n      display: 'flex',\r\n      width:'100%',\r\n      height:'fit-content',\r\n     \r\n\r\n    },\r\n    content: {\r\n     display:'flex',\r\n     width:'100%',\r\n     height:'100%',\r\n     \r\n\r\n    \r\n    },\r\n    cover: {\r\n     zIndex:3, \r\n     width: '10%',\r\n      position:'absolute',\r\n      right:'130px'\r\n\r\n    },\r\n    controls: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      paddingLeft: theme.spacing(1),\r\n      paddingBottom: theme.spacing(1),\r\n    },\r\n  \r\n\r\n   \r\n    \r\n\r\n    itemCard:{\r\n      display:'flex',\r\n      justifyContent:'center',\r\n      width:'100%',\r\n      height:'fit-content'\r\n      },\r\n\r\n    MainCard:{\r\n         marginTop:'60px',\r\n        justifyContent:'center',\r\n        display:'flex',\r\n        alignItems:'center,'\r\n        \r\n         },\r\n    \r\n    spending:{\r\n        display:'flex',\r\n        width:'100%',\r\n        flexDirection:'column',\r\n        background:'#242333',\r\n        color:'white',\r\n        whiteSpace:'nowrap',\r\n       \r\n       \r\n      },\r\n\r\n\r\n      earning:{\r\n        display:'flex',\r\n        width:'100%',\r\n        alignItems:'center',\r\n        flexDirection:'column',\r\n        background:'#242333',\r\n        color:'white',\r\n        whiteSpace:'nowrap',\r\n       \r\n      },\r\n\r\n      column1:{\r\n        display:'flex',\r\n        width:'100%',\r\n        justifyContent:'flex-start',\r\n        flexDirection:'column',\r\n        \r\n      },\r\n\r\n      column2:{\r\n        display:'flex',\r\n        width:'30%',\r\n        justifyContent:'flex-end',\r\n        flexDirection:'column',\r\n        \r\n      },\r\n\r\n      ItemsWrapper:{\r\n          width:'100%',\r\n          height:'73vh',\r\n          overflowY:'scroll',\r\n          \r\n       },\r\n       \r\n       customBadgePlus: {\r\n        backgroundColor: \"#43a047\",\r\n        color: \"white\",\r\n        fontSize:'16px',\r\n        fontWeight:'bold',\r\n        fontFamily:'Varela Round'\r\n      },\r\n      customBadgeMinus: {\r\n        backgroundColor: \"#d50000\",\r\n        color: \"white\",\r\n        fontSize:'16px',\r\n        fontWeight:'bold',\r\n        fontFamily:'Varela Round',\r\n       \r\n      },\r\n      \r\n      addImageBadge:{\r\n        '&.MuiBadge-anchorOriginBottomLeftRectangle': {\r\n           transform:'translate(-20%, -10%)',\r\n          }\r\n      },\r\n\r\n      amountDetail:{\r\n        display:'flex',\r\n        whiteSpace:'nowrap', \r\n        wordBreak:'keep-all', \r\n        paddingLeft:'calc(100% - 60px)',\r\n        position: 'absolute',\r\n        width: '100%',\r\n        top:0,\r\n        right:-12,\r\n      },\r\n     \r\n      descriptionDetail:{\r\n        display:'flex',\r\n        lineClamp:'2', \r\n        boxOrient:'vertical',\r\n        justifyContent:'flex-end',\r\n        margin:'2px 4% 15px 2px',\r\n        wordBreak:'break-word',\r\n        whiteSpace:'break-spaces',\r\n        lineHeight:1,\r\n      },\r\n      \r\n      createdAtDetail:{\r\n        position:'sticky',\r\n        display:'flex',\r\n        justifyContent:'flex-end',\r\n        zIndex:0,\r\n        margin:'0 3% 0 0' \r\n       },\r\n\r\n       updatedAtDetail:{\r\n        position:'sticky',\r\n        display:'flex',\r\n        justifyContent:'flex-end',\r\n        zIndex:0,\r\n        margin:'0 3% 0 0'\r\n       },\r\n\r\n       titleDetail:{\r\n        display:'flex',\r\n        justifyContent:'flex-end',\r\n        margin:'2px 1% 2px 2px',\r\n       fontFamily:'Varela Round'\r\n       },\r\n\r\n       Fab:{\r\n        position:'relative',\r\n        margin:'0 auto',\r\n        display:'flex',\r\n        background:'transparent',\r\n        bottom:'3%',\r\n        border:'white solid 2px'\r\n       },\r\n       FabWrapper:{\r\n        width:'100%',\r\n        height:'12%', \r\n        zIndex:3, \r\n        display:'flex', \r\n        flex:'wrap',\r\n        justifyContent:'center', \r\n        alignItems:'center'\r\n       }\r\n      \r\n  }));\r\n\r\n\r\n\r\n\r\n\r\nfunction Index({item, accountId}) {\r\n   dayjs.extend(relativeTime)\r\n   dayjs.locale('de', hebConf)\r\n   const dispatch = useDispatch() \r\n  \r\n  const classes = useStyles() \r\n   \r\n   const params = useParams()\r\n\r\n//Number Format Options\r\nconst FormatOptions = {\r\n    'justification':'L',\r\n    'locales':'en-AU',\r\n    'currency':false,\r\n    'currencyIndicator':'AUD',\r\n    'percentage':false,\r\n    'precision':0,\r\n    'wholenumber':null,\r\n    'commafy':true,\r\n    'shortFormat':true,\r\n    'shortFormatMinValue': 1000000,\r\n    'shortFormatPrecision': 2,\r\n    'title':true,\r\n    \r\n  };\r\n\r\n\r\n    return (\r\n        <Badge \r\n         component='div' \r\n         style={{\r\n           display:'flex', \r\n           flexDirection:'column', \r\n           marginTop:'16px'\r\n          }}   \r\n         \r\n         invisible={item.amount === 0}\r\n         classes={{badge: item.amount > 0 ? classes.customBadgePlus : classes.customBadgeMinus}}\r\n         badgeContent={item.amount > 0 ? '+' : '-'} \r\n         anchorOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'left',\r\n          }}>\r\n          \r\n            <Card  className={classes.itemCard}>\r\n        \r\n            <div className={classes.details}>\r\n             <div className={classes.content}>\r\n             \r\n            \r\n             <div className={classes.column2}>\r\n             \r\n            \r\n             <Typography \r\n               component=\"h6\" \r\n               variant=\"h6\" \r\n               className={classes.amountDetail}>\r\n              <span >₪ {item.amount < 0 && '-'}</span>\r\n             <NumericLabel params={FormatOptions}>{item.amount < 0 ? Math.abs(item.amount):item.amount}</NumericLabel> \r\n               </Typography>\r\n               \r\n              \r\n               <CardMedia \r\n                key={item.id}\r\n                style={{\r\n                 display:'flex', \r\n                 borderTop:'1px solid rgba(0,0,0,1)',\r\n                 width:'100%',\r\n                 height:'70%',\r\n                 borderRight:'1px solid rgba(0,0,0,1)',\r\n                 padding:0,\r\n                 margin:0,\r\n                 backgroundSize:'cover'}}\r\n                 image={item.media ? item.media :  NoImage}\r\n                 component={item.media ? Link : 'span'}\r\n                 to={item.media && `/myAccounts/${params && params.accountId}/showImage`}\r\n                 onClick={() => item.media && dispatch({type:SET_LightBoxImage, payload:item.media}) }\r\n               >\r\n                \r\n               \r\n              \r\n                 \r\n                </CardMedia>\r\n                  \r\n              {!item.media && ( <AddItemImageButton accountId={accountId} itemId={item.id}/>)}\r\n               \r\n             \r\n             </div>\r\n           \r\n              <div className={classes.column1}>\r\n             \r\n              <Typography \r\n               component=\"h6\" \r\n               variant=\"h6\" \r\n               className={classes.titleDetail}>\r\n               {item.title} \r\n                 \r\n              <MoreOptionsItem \r\n               accountId={accountId} \r\n               itemId={item.id}   \r\n               item={item}\r\n               />\r\n           \r\n            </Typography>\r\n               \r\n               <Typography \r\n                 variant=\"subtitle1\" \r\n                 color=\"textSecondary\" \r\n                 className={classes.descriptionDetail}>\r\n               {item.description}\r\n                <span \r\n                style={{\r\n                  whiteSpace:'nowrap'}}>:תיאור</span>\r\n              </Typography>\r\n               \r\n              <Typography \r\n                variant=\"subtitle2\" \r\n                color=\"textSecondary\" \r\n                className={classes.createdAtDetail}>\r\n                 {dayjs(parseInt(item.createdAt)).format('DD/MM/YYYY hh:mm:ss')} :נוצר \r\n               </Typography>\r\n              \r\n               <Typography \r\n                variant=\"subtitle2\" \r\n                color=\"textSecondary\" \r\n                className={classes.updatedAtDetail}>\r\n                {dayjs(parseInt(item.updatedAt)).fromNow()}&nbsp;<span>:עודכן</span> \r\n               </Typography>\r\n              \r\n              </div>\r\n              \r\n              \r\n              </div>\r\n            </div>\r\n           \r\n           \r\n         </Card>\r\n       \r\n         </Badge>\r\n    )\r\n}\r\n\r\nexport default Index\r\n","import React from 'react';\r\nimport Lightbox from 'react-image-lightbox';\r\nimport 'react-image-lightbox/style.css'; // This only needs to be imported once in your app\r\nimport { useSelector } from 'react-redux';\r\nimport { useParams } from 'react-router';\r\nimport history from '../../../util/history';\r\n \r\n\r\n\r\nfunction Index() {\r\n const params = useParams()\r\n const ImageUrl = useSelector(state => state.uiReducer.LightBoxImage.ImageUrl) \r\n const open = window.location.pathname === `/myAccounts/${params && params.accountId}/showImage` && ImageUrl    \r\n \r\n  return (\r\n      <div>\r\n        {open && (\r\n          <Lightbox\r\n            mainSrc={ImageUrl && ImageUrl}\r\n            onCloseRequest={() => history.goBack()}\r\n           />\r\n        )}\r\n      </div>\r\n    );\r\n  \r\n}\r\n\r\nexport default Index\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport {makeStyles, withStyles } from '@material-ui/core/styles';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport {CircularProgress, Fab, Paper, Slide } from '@material-ui/core';\r\nimport {Link, useParams } from 'react-router-dom';\r\nimport {useMutation } from '@apollo/client';\r\nimport gql from 'graphql-tag'\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport { useSelector } from 'react-redux';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport history from '../../../util/history';\r\n\r\nconst CssTextField = withStyles({\r\n  root: {\r\n    '& label.Mui-focused': {\r\n      color: 'white',\r\n    },\r\n   '& .MuiInput-underline:after': {\r\n      borderBottomColor: 'white',\r\n    },\r\n    '& .MuiOutlinedInput-root': {\r\n      '& fieldset': {\r\n        borderColor: 'white',\r\n      },\r\n      '&:hover fieldset': {\r\n        borderColor: 'white',\r\n      },\r\n      '&.Mui-focused fieldset': {\r\n        borderColor: 'white',\r\n      },\r\n    },\r\n  },\r\n})(TextField);\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n   search: {\r\n    position: 'relative',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: (theme.palette.common.white, 0.15),\r\n    '&:hover': {\r\n      backgroundColor: (theme.palette.common.white, 0.25),\r\n    },\r\n    marginLeft: 0,\r\n   \r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing(1),\r\n      width: 'auto',\r\n    },\r\n  },\r\n  searchIcon: {\r\n    padding: theme.spacing(0, 2),\r\n    height: '100%',\r\n    position: 'absolute',\r\n    curser:'pointer',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    color:'white',\r\n    zIndex:15\r\n    \r\n\r\n  },\r\n  inputRoot: {\r\n    color: 'white',\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    // vertical padding + font size from searchIcon\r\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n    transition: theme.transitions.create('width'),\r\n    \r\n\r\n    width: '100%',\r\n    \r\n    [theme.breakpoints.up('sm')]: {\r\n      width: '12ch',\r\n      \r\n      \r\n      '&:focus': {\r\n        width: '20ch',\r\n      },\r\n    },\r\n  },\r\n  FabSearch:{\r\n    position:'fixed',\r\n    left:theme.spacing(2),\r\n    bottom:theme.spacing(1),\r\n    zIndex:3,\r\n  \r\n  },\r\n  paper:{\r\n    width:'100%', \r\n    height:'50px',\r\n    position:'fixed',\r\n    display:'flex',\r\n    alignItems:'center',\r\n    justifyContent:'center',\r\n    top:0, \r\n    zIndex:14, \r\n    borderRadius:0,\r\n    backgroundColor:theme.palette.secondary.main\r\n\r\n  },\r\n  closeIndicator:{\r\n    color: 'white',\r\n  },\r\n  SearchField:{\r\n   color: 'white',\r\n   fontFamily:'Varela Round',\r\n   \"& .MuiOutlinedInput-notchedOutline\": {\r\n    borderWidth: '2px',\r\n    borderColor: \"blue\"\r\n  },\r\n  \"&:hover .MuiOutlinedInput-notchedOutline\": {\r\n    borderWidth: \"2px\",\r\n    borderColor: \"blue\"\r\n  },\r\n  \"&.Mui-focused .MuiOutlinedInput-notchedOutline\": {\r\n    borderWidth: \"2px\",\r\n    borderColor: \"blue\"\r\n  }\r\n  }\r\n}));\r\n\r\n\r\n\r\n  \r\n\r\nexport default function SearchAppBar() {\r\n  const classes = useStyles();\r\n  \r\n \r\n  \r\n  const params = useParams()\r\n  const accountId = params.accountId\r\n\r\n  const open  = window.location.pathname === `/myAccounts/${accountId}/search`\r\n \r\n let input = React.useRef() \r\n const [searchQuery, setSearchQuery] = React.useState(\"\")\r\n const accountIdReducer = useSelector(state => state.uiReducer.getCurrentAccountUi)\r\n const [options, setOptions] = React.useState([])\r\n\r\n React.useEffect(() => {\r\n  if(open){\r\n    input.focus()\r\n     \r\n  }else{\r\n   input.blur();\r\n  }\r\n\r\n  if(accountIdReducer){\r\n   \r\n const unic =  accountIdReducer.list.filter((v,i,a)=>a.findIndex(t=>(t.title === v.title))===i)\r\n const filterdTitle = unic.map(item => item.title) \r\n  console.log(filterdTitle);\r\n  setOptions(filterdTitle)\r\n \r\n  }\r\n\r\n },[accountIdReducer,open])\r\n\r\n\r\n\r\n   const [searchItem,{data, loading}] = useMutation(SEARCH_ITEMS,{\r\n     variables:{\r\n      searchQuery,\r\n      accountId\r\n     },\r\n     update:(proxy, result) => {\r\n      const data = proxy.readQuery({\r\n        query: GET_USER_ACCOUNT,\r\n        variables:{\r\n          accountId\r\n        }\r\n        });\r\n        \r\n        data.getUserAccount = result.data.searchItem\r\n       \r\n   \r\n      proxy.writeQuery({ query: GET_USER_ACCOUNT,data});\r\n     },\r\n     onCompleted:(data) => console.log(data),\r\n     onError:(err) => console.log(err)\r\n   })\r\n\r\n  \r\n\r\n  return (\r\n    <div >\r\n    <Fab  \r\n    disableFocusRipple \r\n    disableRipple\r\n    component={Link}  \r\n   className={classes.FabSearch} \r\n   to={`/myAccounts/${params.accountId}/search`}\r\n   size=\"medium\" \r\n    color=\"secondary\" \r\n    aria-label=\"search\" >\r\n     {open ? <IconButton disableFocusRipple disableRipple style={{color:'white'}} onClick={() => history.goBack()}><CloseIcon /></IconButton>: <SearchIcon/>}\r\n     </Fab>\r\n      \r\n      <Slide in={open}>\r\n     <Paper className={classes.paper}> \r\n         <div  className={classes.search}>\r\n            <Autocomplete\r\n                id=\"grouped-demoAItem123\"\r\n                classes={{inputRoot:classes.SearchField,clearIndicator:classes.closeIndicator,popupIndicatorOpen:classes.closeIndicator}}\r\n                options={options}\r\n                loading={loading}\r\n                getOptionLabel={(option) => option ? option : '' }\r\n                style={{ width: 300 }}\r\n                renderInput={(params) => <CssTextField \r\n                  {...params} \r\n                placeholder=\"Search...\" \r\n                inputRef={(el) => input = el}\r\n                variant=\"standard\"\r\n                InputProps={{\r\n                  ...params.InputProps,\r\n                  endAdornment: (\r\n                    <React.Fragment>\r\n                      {loading ? <CircularProgress color=\"inherit\" size={20} /> : null}\r\n                      {params.InputProps.endAdornment}\r\n                    </React.Fragment>\r\n                  ),\r\n                }}\r\n                />\r\n              }\r\n              \r\n                onSelect={() => searchItem()}\r\n                onChange={(val,value,res) =>{\r\n                 \r\n                  if(value){\r\n                   setSearchQuery(value)  \r\n                  }else{\r\n                    setSearchQuery('') \r\n                    \r\n                  }}}\r\n\r\n                 \r\n            />\r\n          </div>\r\n     </Paper>\r\n      </Slide>\r\n</div>\r\n  );\r\n}\r\n\r\n\r\nconst SEARCH_ITEMS = gql`\r\n\r\nmutation searchItem($searchQuery:String!, $accountId:ID!){\r\n   searchItem(searchQuery:$searchQuery,accountId:$accountId){\r\n    title\r\n    id\r\n    owner\r\n    list{\r\n      id\r\n      title\r\n      description\r\n      media\r\n      amount\r\n      createdAt\r\n      updatedAt\r\n     }\r\n    }\r\n  }\r\n\r\n\r\n`;\r\n\r\nconst GET_USER_ACCOUNT = gql`\r\n\r\nquery($accountId:ID!){\r\n        getUserAccount(accountId:$accountId){\r\n            title\r\n            id\r\n            owner\r\n            list{\r\n              id\r\n              title\r\n              description\r\n              media\r\n              amount\r\n              createdAt\r\n              updatedAt\r\n            }\r\n        }  \r\n      }\r\n\r\n\r\n`;\r\n\r\n\r\n","import React from 'react'\r\nimport Layout from '../../components/Layout'\r\nimport {useDispatch} from 'react-redux'\r\nimport { makeStyles} from '@material-ui/core/styles';\r\nimport { Container, IconButton} from '@material-ui/core';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport AddItemModal from '../../myAccounts/components/AddItemModal';\r\nimport UpdateItemModal from '../../myAccounts/components/UpdateItemModal';\r\nimport {SET_Current_Account_Ui } from '../../Redux/actionTypes';\r\nimport CloseRoundedIcon from '@material-ui/icons/CloseRounded';\r\nimport {useQuery} from '@apollo/react-hooks'\r\nimport gql from 'graphql-tag'\r\nimport {animateScroll} from 'react-scroll' \r\nimport Badge from '@material-ui/core/Badge';\r\nimport StatisticButton from '../../myAccounts/components/SingleAccountStatisButton';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport NumericLabel from 'react-pretty-numbers';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport SingleItem from '../../myAccounts/components/SingleItemAccount'\r\nimport history from '../../util/history';\r\nimport { Link, Redirect, useParams } from 'react-router-dom';\r\nimport ImageModal from '../../myAccounts/components/ImageModal'\r\nimport SearchButton from '../../myAccounts/components/SearchItemsButton';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      height:'100vh',\r\n      margin:'0 auto',\r\n      textAlign:'center',\r\n      zIndex:0\r\n    \r\n\r\n    },\r\n\r\n    wrapper:{\r\n        position:'absolute',\r\n        display:'flex',\r\n        flexDirection:'column',\r\n        alignItems:'center',\r\n        height:'calc(100% - 60px)',\r\n        width:'100%',\r\n         \r\n    },\r\n    details: {\r\n      display: 'flex',\r\n      width:'100%',\r\n      height:'fit-content',\r\n     \r\n\r\n    },\r\n    content: {\r\n     display:'flex',\r\n     width:'100%',\r\n     height:'100%',\r\n     \r\n\r\n    \r\n    },\r\n    cover: {\r\n     zIndex:3, \r\n     width: '10%',\r\n      position:'absolute',\r\n      right:'130px'\r\n\r\n    },\r\n    controls: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      paddingLeft: theme.spacing(1),\r\n      paddingBottom: theme.spacing(1),\r\n    },\r\n  \r\n\r\n    bgImage:{\r\n        position:'absolute',\r\n        background:`rgba(0, 0, 0, .30) url(https://www.moneycrashers.com/wp-content/uploads/2011/02/woman-making-budget.jpg) no-repeat center center`,\r\n        filter: 'blur(5px)',\r\n        width: '100%',\r\n        height:'100vh',\r\n        backgroundSize:'cover',\r\n        backgroundBlendMode: \"darken\",\r\n\r\n\r\n        zIndex:0 \r\n      },\r\n    \r\n\r\n    itemCard:{\r\n      display:'flex',\r\n      justifyContent:'center',\r\n      width:'100%',\r\n      height:'fit-content'\r\n      },\r\n\r\n    MainCard:{\r\n        marginTop:'60px',\r\n        justifyContent:'center',\r\n        display:'flex',\r\n        alignItems:'center'\r\n        \r\n         },\r\n    \r\n    spending:{\r\n        display:'flex',\r\n        width:'100%',\r\n        flexDirection:'column',\r\n        background:'#242333',\r\n        color:'white',\r\n        whiteSpace:'nowrap',\r\n       \r\n       \r\n      },\r\n\r\n\r\n      earning:{\r\n        display:'flex',\r\n        width:'100%',\r\n        alignItems:'center',\r\n        flexDirection:'column',\r\n        background:'#242333',\r\n        color:'white',\r\n        whiteSpace:'nowrap',\r\n       \r\n      },\r\n\r\n      column1:{\r\n        display:'flex',\r\n        width:'100%',\r\n        justifyContent:'flex-start',\r\n        flexDirection:'column',\r\n        \r\n      },\r\n\r\n      column2:{\r\n        display:'flex',\r\n        width:'30%',\r\n        alignItems:'center',\r\n        flexDirection:'column',\r\n        \r\n      },\r\n\r\n      ItemsWrapper:{\r\n          width:'100%',\r\n          height: 'calc(100vh - calc(100vh - 80%))',\r\n          overflowY:'scroll',\r\n          \r\n       },\r\n       \r\n       customBadgePlus: {\r\n        backgroundColor: \"#43a047\",\r\n        color: \"white\",\r\n        fontSize:'16px',\r\n        fontWeight:'bold',\r\n        fontFamily:'Varela Round'\r\n      },\r\n      customBadgeMinus: {\r\n        backgroundColor: \"#d50000\",\r\n        color: \"white\",\r\n        fontSize:'16px',\r\n        fontWeight:'bold',\r\n        fontFamily:'Varela Round',\r\n       \r\n      },\r\n      \r\n      addImageBadge:{\r\n        '&.MuiBadge-anchorOriginBottomLeftRectangle': {\r\n           transform:'translate(-20%, -10%)',\r\n          }\r\n      },\r\n\r\n      amountDetail:{\r\n        display:'flex',\r\n        justifyContent:'center', \r\n        alignItems:'center',\r\n        whiteSpace:'nowrap', \r\n        wordBreak:'keep-all', \r\n        paddingLeft:'calc(100% - 60px)',\r\n        [theme.breakpoints.up('sm')]:{\r\n          paddingLeft:0,\r\n          \r\n        }\r\n\r\n       \r\n        \r\n      },\r\n     \r\n      descriptionDetail:{\r\n        display:'flex',\r\n        lineClamp:'2', \r\n        boxOrient:'vertical',\r\n        justifyContent:'flex-end',\r\n        margin:'2px 4% 15px 2px',\r\n        wordBreak:'break-word',\r\n        whiteSpace:'break-spaces'\r\n      },\r\n      \r\n       createdAtDetail:{\r\n        position:'sticky',\r\n        display:'flex',\r\n        justifyContent:'flex-end',\r\n        top:'95%',\r\n        zIndex:0,\r\n        margin:'2px 3% 2px 2px'\r\n       },\r\n\r\n       titleDetail:{\r\n        display:'flex',\r\n        justifyContent:'flex-end',\r\n        margin:'2px 1% 2px 2px',\r\n       fontFamily:'Varela Round'\r\n       },\r\n\r\n       Fab:{\r\n        position:'relative',\r\n        margin:'0 auto',\r\n        display:'flex',\r\n        background:'transparent',\r\n        border:'white solid 2px',\r\n        \r\n       },\r\n       FabWrapper:{\r\n        position:'fixed',\r\n        bottom:0,\r\n        width:'100%',\r\n        minHeight:'10vh', \r\n        zIndex:3, \r\n        display:'flex', \r\n        flex:'wrap',\r\n        justifyContent:'center', \r\n        alignItems:'center'\r\n       },\r\n       \r\n  }));\r\n\r\n\r\n  \r\n  \r\n\r\n\r\nfunction Index({match}) {\r\n  \r\n   const dispatch = useDispatch()\r\n    const classes = useStyles()\r\n   const params = useParams()\r\n   const ModalIsOpen = window.location.pathname === `/myAccounts/${match.params.accountId}/addItem`\r\n  \r\n   const accountId = match.params.accountId\r\n  \r\n    let SumEarningstas; \r\n    let SumSpendingstas;\r\n\r\n   \r\n \r\n   const {data, loading} = useQuery(GET_USER_ACCOUNT,{variables:{accountId}, \r\n   onCompleted:() => scrollToBottom(), \r\n   onError:(err) => history.goBack()\r\n     \r\n    })\r\n   \r\n \r\n\r\n \r\n   \r\n\r\n   React.useEffect(() => {\r\n  if(data){\r\n    dispatch({type:SET_Current_Account_Ui, payload:data.getUserAccount})\r\n  }\r\n\r\n },[data,dispatch])\r\n\r\n\r\n\r\n   \r\n\r\n   function getEarningLength(data){\r\n    const result = data.filter(i => i.amount > 0).length\r\n    return result\r\n  }\r\n\r\n  function getSpendingLength(data){\r\n    const result = data.filter(i => i.amount < 0).length\r\n    return result\r\n  }\r\n\r\n\r\n   function getSumEearning(data){ \r\n       \r\n     const result = data.filter(i => i.amount > 0).reduce((acc, val) => (acc + val.amount),0)\r\n       \r\n     SumEarningstas = result   \r\n     return Number.isInteger(result) ? result : result.toFixed(2);\r\n   }\r\n\r\n   function getSumSpending(data){\r\n    \r\n   const result = data.filter(i => i.amount < 0).reduce((a, b) => (a + b.amount),0)\r\n    \r\n  SumSpendingstas = result\r\n   return Number.isInteger(result) ? result : result.toFixed(2);\r\n}\r\n \r\nfunction scrollToBottom() {\r\n    animateScroll.scrollToBottom({\r\n      containerId: \"containerScroll\",\r\n      delay:250\r\n    });\r\n\r\n    \r\n}\r\n\r\n//Number Format Options\r\nconst FormatOptions = {\r\n  'justification':'L',\r\n  'locales':'en-AU',\r\n  'currency':false,\r\n  'currencyIndicator':'AUD',\r\n  'percentage':false,\r\n  'precision':0,\r\n  'wholenumber':null,\r\n  'commafy':true,\r\n  'shortFormat':true,\r\n  'shortFormatMinValue': 1000000,\r\n  'shortFormatPrecision': 2,\r\n  'title':true,\r\n  \r\n};\r\n\r\n\r\n\r\n\r\n   return (\r\n       <Layout> \r\n         <div className={classes.bgImage}></div>\r\n         <div className={classes.root}>\r\n         \r\n         <div className={classes.wrapper}>\r\n         \r\n         <Container fixed maxWidth='sm' className={classes.MainCard}>\r\n         \r\n        \r\n         <div className={classes.spending}>\r\n         \r\n          { data && getSumSpending(data.getUserAccount.list) < 0  ? (<> <h2 \r\n          \r\n          style={{\r\n            display:'flex',\r\n            justifyContent:'center', \r\n            textDecoration:'underline', \r\n            margin:0}} >\r\n         <Badge  \r\n         classes={{ badge:classes.customBadgeMinus}}\r\n         showZero={false}\r\n         badgeContent={data ? getSpendingLength(data.getUserAccount.list): 0}  \r\n         style={{marginTop:'12px'}}\r\n         anchorOrigin={{\r\n          vertical: 'top',\r\n         horizontal: 'left',\r\n         }}>\r\n        הוצאות\r\n        </Badge>\r\n        </h2>\r\n        <Tooltip \r\n        title={<NumericLabel>{-Math.abs(getSumSpending(data.getUserAccount.list))}</NumericLabel>} \r\n        placement='bottom'>\r\n         <h2 \r\n         style={{\r\n          display:'flex',\r\n          justifyContent:'center', \r\n          margin:'0px'}}>₪ -{data ?\r\n           <NumericLabel params={FormatOptions}>{Math.abs(getSumSpending(data.getUserAccount.list))}</NumericLabel> \r\n            : 0}</h2></Tooltip></> ) : <h2>אין הוצאות</h2> }\r\n         </div>\r\n          \r\n         <div className={classes.earning}>\r\n        {data && getSumEearning(data.getUserAccount.list) > 0 ? (<> <h2 \r\n         style={{\r\n           display:'flex',\r\n           justifyContent:'center',\r\n           margin:0,\r\n           textDecoration:'underline'}}>\r\n        <Badge  \r\n         classes={{ badge:classes.customBadgePlus}}\r\n         showZero={false}\r\n         badgeContent={data ? getEarningLength(data.getUserAccount.list): 0} \r\n         style={{marginTop:'12px'}}\r\n         anchorOrigin={{\r\n          vertical: 'top',\r\n          horizontal: 'left',\r\n         }}>\r\n        הכנסות\r\n        </Badge>\r\n             </h2> \r\n         <Tooltip \r\n         title={<NumericLabel>{getSumEearning(data.getUserAccount.list)}</NumericLabel>}\r\n         placement='bottom'\r\n         >\r\n         <h2 \r\n         style={{\r\n           display:'flex',\r\n           justifyContent:'center', \r\n           margin:0}} >₪ {data ? \r\n           <NumericLabel params={FormatOptions}>\r\n             {getSumEearning(data.getUserAccount.list)}\r\n           </NumericLabel> : 0}</h2></Tooltip> </>) : <h2>אין הכנסות</h2>}\r\n         </div>\r\n               \r\n         \r\n       </Container> \r\n        \r\n       \r\n       <Container fixed maxWidth=\"sm\" className={classes.ItemsWrapper} id=\"containerScroll\">\r\n\r\n        {loading && (<CircularProgress style={{marginTop:'50px'}} color='secondary' size={200} thickness={0.5}/>)}\r\n\r\n        {data && data.getUserAccount.list.map((item) => (\r\n         \r\n         <SingleItem \r\n         key={item.id}\r\n         item={item}\r\n         accountId={accountId}\r\n         />\r\n        ))}\r\n      \r\n       <div/>\r\n       \r\n    </Container>\r\n   \r\n    \r\n   \r\n    <div className={classes.FabWrapper}>  \r\n    \r\n\r\n    <Fab \r\n     disableFocusRipple={true}  \r\n    size=\"medium\" \r\n    className={classes.Fab} \r\n    color='secondary' \r\n     aria-label=\"add\">\r\n      {ModalIsOpen ? \r\n      \r\n      <CloseRoundedIcon style={{color:'white', padding:'10px 10px'}} onClick={() => history.goBack()}  /> :  \r\n      <IconButton style={{color:'white'}} component={Link} to={`/myAccounts/${accountId}/addItem`}><AddIcon  /></IconButton> \r\n     } \r\n      </Fab> \r\n      \r\n     \r\n      \r\n     \r\n     \r\n      </div>\r\n                  \r\n    </div>\r\n    \r\n    \r\n     \r\n   </div>   \r\n   \r\n   <SearchButton/>\r\n   \r\n    <StatisticButton \r\n      totalSpending={SumSpendingstas} \r\n      totalEarning={SumEarningstas} \r\n      />\r\n      \r\n\r\n\r\n\r\n      <AddItemModal accountId={accountId} scrollToBottom={scrollToBottom} /> \r\n      <UpdateItemModal accountId={accountId} />\r\n      <ImageModal/>\r\n       </Layout>\r\n       \r\n    )\r\n}\r\n\r\nexport default Index\r\n\r\n\r\nconst GET_USER_ACCOUNT = gql`\r\n\r\nquery($accountId:ID!){\r\n        getUserAccount(accountId:$accountId){\r\n            title\r\n            id\r\n            owner\r\n            list{ \r\n              id\r\n              title\r\n              description\r\n              media\r\n              amount\r\n              createdAt\r\n              updatedAt\r\n            }\r\n        }  \r\n      }\r\n\r\n\r\n`;","import React,{useState} from 'react';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {useDispatch} from 'react-redux'\r\nimport { Typography, \r\n  DialogTitle, \r\n  DialogContent, \r\n  DialogActions, \r\n  DialogContentText,\r\n  TextField,\r\n  FormControl } from '@material-ui/core';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport gql from 'graphql-tag'\r\nimport {useMutation} from '@apollo/react-hooks'\r\nimport {useForm} from '../../../hooks/useForm'\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport PropTypes from 'prop-types';\r\nimport NumberFormat from 'react-number-format';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport history from '../../../util/history';\r\nimport {itemsList} from '../../../util/spendingEarningList'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    \r\n        root: {\r\n          height: 0,\r\n          \r\n          \r\n        },\r\n        wrapper: {\r\n          width: 100 + theme.spacing(2),\r\n          \r\n        },\r\n\r\n        margin:{\r\n           margin:theme.spacing(1)\r\n        },\r\n           \r\n})); // styles for general modal\r\n\r\n\r\n\r\n\r\nfunction NumberFormatCustom(props) {\r\n    const { inputRef, onChange, ...other } = props;\r\n  \r\n    return (\r\n      <NumberFormat\r\n        {...other}\r\n        id='numberformatmatual'\r\n        getInputRef={inputRef}\r\n        onValueChange={(values) => {\r\n          onChange({\r\n            target: {\r\n              name: props.name,\r\n              value: values.value,\r\n            },\r\n          });\r\n        }}\r\n        thousandSeparator\r\n        isNumericString\r\n        prefix=\"₪\"\r\n      />\r\n    );\r\n  }\r\n  \r\n  NumberFormatCustom.propTypes = {\r\n    inputRef: PropTypes.func.isRequired,\r\n    name: PropTypes.string.isRequired,\r\n    onChange: PropTypes.func.isRequired,\r\n  };\r\n\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n \r\n  return <Slide direction=\"down\" ref={ref} {...props} />;\r\n  });\r\n\r\n\r\n\r\nconst useFormStyles = makeStyles(() => ({\r\n    HeadLine:{\r\n        background:'#242333',\r\n        color:'whitesmoke',\r\n        fontFamily: 'Varela Round',\r\n        borderTopLeftRadius:'4px',\r\n        borderTopRightRadius:'4px'\r\n    }\r\n}));\r\n\r\nexport default function SimpleSlide({accountId, scrollToBottom}) {\r\n    \r\n    const options = itemsList.map((option) => {\r\n        const firstLetter = option.title[0].toUpperCase();\r\n        return {\r\n          firstLetter: /[0-9]/.test(firstLetter) ? '0-9' : firstLetter,\r\n          ...option,\r\n        };\r\n      });\r\n    \r\n    \r\n \r\n    const classes = useStyles();\r\n    const FormClasses = useFormStyles()\r\n    const dispatch = useDispatch()\r\n   \r\n    const ModalIsOpen = window.location.pathname === `/matualAccounts/${accountId}/addItem`\r\n    \r\n    const [radioValue, setRadioValue] =useState('')\r\n    const [errors, setErrors] = useState({});\r\n    const [category, setCategory] = useState('')  \r\n    const [numberformat ,setNumberformat] = useState('')\r\n    const { onChange, onSubmit, values } = useForm(addItemtCallback, {\r\n    title: category,\r\n    description:'',\r\n    media:'',\r\n    amount: numberformat\r\n   \r\n  });\r\n\r\n  \r\n   \r\n  \r\n  \r\n\r\n    const [addItem, { loading}] = useMutation(ADD_ITEM, {\r\n     onCompleted:() => {\r\n       history.goBack()\r\n       scrollToBottom()\r\n\r\n     },\r\n        update(_,result){\r\n            values.title = ''\r\n            values.description = ''\r\n            values.media = ''\r\n            values.amount = null\r\n            setRadioValue('')\r\n            setNumberformat('')\r\n            setCategory('')\r\n            console.log(\"verify action itemAdded!\"); \r\n        },\r\n        variables:{\r\n            accountId, \r\n            title: category,\r\n            description:values.description,\r\n            media:values.media,\r\n            amount: radioValue === \"spending\" ? -Math.abs(numberformat) : Math.abs(numberformat),\r\n        },\r\n\r\n      \r\n      onError:(err) =>{\r\n        console.log(err);\r\n      }\r\n    });\r\n  \r\n    function addItemtCallback() {\r\n      addItem();\r\n     }\r\n    \r\n     const handleRadioChange = (event) => {\r\n      setRadioValue(event.target.value);\r\n     \r\n    };\r\n  \r\n  return (\r\n    \r\n  \r\n\r\n      <div>\r\n     \r\n      <Dialog\r\n        open={ModalIsOpen}\r\n        TransitionComponent={Transition}\r\n        keepMounted\r\n        onClose={() => !ModalIsOpen}\r\n        aria-labelledby=\"alert-dialog-slide-title\"\r\n        aria-describedby=\"alert-dialog-slide-description\"\r\n        style={{zIndex:2, textAlign:'center'}}\r\n        \r\n      >\r\n        <form  onSubmit={onSubmit} noValidate>\r\n        <DialogTitle id=\"alert-dialog-slide-title\"> <Typography component=\"div\" variant=\"h5\" className={FormClasses.HeadLine}>:הוספת פריט</Typography></DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-slide-description\">\r\n          : הוסף פריט לרשימה\r\n          </DialogContentText>\r\n        \r\n           <div>\r\n           <FormControl component=\"fieldset\"  >\r\n           <RadioGroup row aria-label=\"option\"  name=\"option\" value={radioValue} onChange={handleRadioChange}>\r\n           <FormControlLabel labelPlacement=\"start\"  value=\"spending\" control={<Radio color='primary' />} label=\"הוצאה\" />\r\n          <FormControlLabel labelPlacement=\"start\"   value=\"earning\" control={<Radio color='primary' />} label=\"הכנסה\" />\r\n        </RadioGroup>\r\n         </FormControl>\r\n           </div>\r\n\r\n\r\n\r\n\r\n          <div>\r\n        <FormControl className={classes.margin}>\r\n         <Autocomplete\r\n         id=\"grouped-demo462\"\r\n         options={options.sort((a, b) => -b.firstLetter.localeCompare(a.firstLetter))}\r\n         groupBy={(option) => option.firstLetter}\r\n         getOptionLabel={(option) =>option.title}\r\n         getOptionSelected={(option, value) => option.title === value.title}\r\n         onInputChange={(e,value) => setCategory(value)}\r\n         style={{ minWidth:210}}\r\n         inputValue={category}\r\n         renderInput={(params) => <TextField {...params} value={category} name=\"title\" type=\"text\" label=\"קטגוריה\" />}\r\n         clearOnEscape\r\n         disabled={radioValue === ''}\r\n        \r\n    />\r\n        \r\n      </FormControl>\r\n      </div>  \r\n\r\n      <div>\r\n      <FormControl  className={classes.margin}>\r\n      <TextField\r\n          id=\"standard-textarea762\"\r\n          value={values.description}\r\n          onChange={onChange}\r\n          name=\"description\" \r\n          type=\"text\" \r\n          label=\"תיאור\"\r\n          multiline\r\n          disabled={radioValue === ''}\r\n        />\r\n      </FormControl>  \r\n      </div>\r\n\r\n      <div>\r\n       <FormControl className={classes.margin}>\r\n       <TextField\r\n        label=\"סכום\"\r\n        value={numberformat}\r\n        onChange={(e) => setNumberformat(parseFloat(e.target.value))}    \r\n        id=\"formatted-numberformat-input\"\r\n        name=\"amount\"\r\n        disabled={radioValue === ''}\r\n        InputProps={{\r\n          inputComponent: NumberFormatCustom\r\n        }}\r\n      />\r\n       </FormControl>\r\n       </div>   \r\n       \r\n       \r\n       \r\n        </DialogContent>\r\n        <DialogActions>\r\n       {loading ? (<CircularProgress variant='indeterminate' style={{margin:'0 auto',color:'green'}} size={35} />)\r\n        : ( <Fab\r\n          aria-label=\"save\"\r\n          color=\"primary\"\r\n          style={{margin:'0 auto',backgroundColor:'green'}}\r\n          size={'small'}\r\n          type=\"submit\"\r\n          onClick={onSubmit}\r\n          disabled={ category.trim() === \"\" || isNaN(parseFloat(numberformat))}\r\n           \r\n        >\r\n         <CheckIcon />\r\n        </Fab>)}\r\n       \r\n        \r\n        </DialogActions>\r\n        </form>\r\n      </Dialog>\r\n    </div>\r\n\r\n\r\n\r\n\r\n      \r\n  );\r\n}\r\n\r\n\r\nconst ADD_ITEM = gql`\r\nmutation addMatualItem($accountId:ID!, $title:String!, $description:String!,$media:String,$amount:Float) {\r\n  addMatualItem(accountId:$accountId, title:$title ,description:$description, media:$media, amount:$amount){\r\n    id\r\n    title\r\n    list{\r\n      id\r\n      title\r\n      description\r\n      amount\r\n      media\r\n      createdAt\r\n      updatedAt\r\n      \r\n    }\r\n    }\r\n }\r\n`;\r\n\r\n","import React,{useState} from 'react';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {useSelector,useDispatch} from 'react-redux'\r\nimport { Typography, \r\n  \r\n  DialogContent, \r\n  DialogActions, \r\n  DialogContentText,\r\n  TextField,\r\n  FormControl, \r\n  IconButton} from '@material-ui/core';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport gql from 'graphql-tag'\r\nimport {useMutation} from '@apollo/react-hooks'\r\nimport {useForm} from '../../../hooks/useForm'\r\nimport {SET_UpdateItem_Modal_Open } from '../../../Redux/actionTypes';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport PropTypes from 'prop-types';\r\nimport NumberFormat from 'react-number-format';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { useParams } from 'react-router-dom';\r\nimport history from '../../../util/history';\r\nimport {itemsList} from '../../../util/spendingEarningList'\r\n\r\nconst styles = (theme) => ({\r\n    root: {\r\n      margin: 0,\r\n      padding: theme.spacing(2),\r\n    },\r\n    closeButton: {\r\n      position: 'absolute',\r\n      right: theme.spacing(1),\r\n      top: theme.spacing(1),\r\n      color: theme.palette.grey[500],\r\n    },\r\n   \r\n  });\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    \r\n        root: {\r\n          height: 0,\r\n          \r\n          \r\n        },\r\n        wrapper: {\r\n          width: 100 + theme.spacing(2),\r\n          \r\n        },\r\n\r\n        margin:{\r\n           margin:theme.spacing(1)\r\n        },\r\n\r\n        radioButton:{\r\n            backgroundColor:\"#f50057\",\r\n        }\r\n    \r\n})); // styles for general modal\r\n\r\n\r\n\r\n\r\nfunction NumberFormatCustom(props) {\r\n    const { inputRef, onChange, ...other } = props;\r\n  \r\n    return (\r\n      <NumberFormat\r\n        {...other}\r\n        getInputRef={inputRef}\r\n        onValueChange={(values) => {\r\n          onChange({\r\n            target: {\r\n              name: props.name,\r\n              value: values.value,\r\n            },\r\n          });\r\n        }}\r\n        thousandSeparator\r\n        isNumericString\r\n        prefix=\"₪\"\r\n      />\r\n    );\r\n  }\r\n  \r\n  NumberFormatCustom.propTypes = {\r\n    inputRef: PropTypes.func.isRequired,\r\n    name: PropTypes.string.isRequired,\r\n    onChange: PropTypes.func.isRequired,\r\n  };\r\n\r\n\r\n  const DialogTitle = withStyles(styles)((props) => {\r\n    const { children, classes, onClose, ...other } = props;\r\n    return (\r\n      <MuiDialogTitle disableTypography className={classes.root} {...other}>\r\n        <Typography variant=\"h6\">{children}</Typography>\r\n        {onClose ? (\r\n          <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\r\n            <CloseIcon />\r\n          </IconButton>\r\n        ) : null}\r\n      </MuiDialogTitle>\r\n    );\r\n  });\r\n\r\n\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n \r\n  return <Slide direction=\"up\" ref={ref}  {...props} />;\r\n  });\r\n\r\n\r\n\r\nconst useFormStyles = makeStyles(() => ({\r\n    HeadLine:{\r\n        background:'#242333',\r\n        color:'whitesmoke',\r\n        fontFamily: 'Varela Round',\r\n        borderTopLeftRadius:'4px',\r\n        borderTopRightRadius:'4px'\r\n    }\r\n}));\r\n\r\nexport default function SimpleSlide({accountId}) {\r\n    \r\n    const options = itemsList.map((option) => {\r\n        const firstLetter = option.title[0].toUpperCase();\r\n        return {\r\n          firstLetter: /[0-9]/.test(firstLetter) ? '0-9' : firstLetter,\r\n          ...option,\r\n        };\r\n      });\r\n    \r\n   \r\n \r\n    \r\n   \r\n    const classes = useStyles();\r\n    const FormClasses = useFormStyles()\r\n    const dispatch = useDispatch()\r\n    const params = useParams()\r\n    \r\n    const itemDetails = useSelector(state => state.uiReducer.UpdateItemModalIsOpen.itemDetails)\r\n    \r\n    const ModalIsOpen = window.location.pathname === `/matualAccounts/${accountId}/updateItem/${params.itemId}` \r\n    \r\n    \r\n\r\n    const [radioValue, setRadioValue] =useState('') \r\n    const [errors, setErrors] = useState({});\r\n    const [category, setCategory] = useState('')  \r\n    const [numberformat ,setNumberformat] = useState('')\r\n   \r\n    \r\n\r\n\r\n    const { onChange, onSubmit, values } = useForm(updateItemCallback, {\r\n    title:'',\r\n    description:'',\r\n    media:'',\r\n    amount: numberformat\r\n   \r\n  });\r\n\r\n  \r\n \r\n\r\n  function CheckRadioValue(){\r\n    if(itemDetails){\r\n       \r\n        let res = Math.sign(itemDetails.amount)\r\n        \r\n        switch(res){\r\n            case 1:\r\n                return \"earning\";\r\n            \r\n                case -1:\r\n                 \r\n            return \"spending\";\r\n                 \r\n          default:\r\n                 return \"\"\r\n    \r\n        }\r\n    }\r\n    \r\n }\r\n\r\n  \r\n\r\n    const [updateItem, { loading }] = useMutation(UPDATE_ITEM, {\r\n        onCompleted:() => {\r\n        history.goBack()\r\n        dispatch({type:SET_UpdateItem_Modal_Open, payload:null})  \r\n       },\r\n        update(_,result){\r\n            values.title = ''\r\n            values.description = ''\r\n            values.media = ''\r\n            values.amount = null\r\n            setRadioValue('')\r\n            setNumberformat('')\r\n            setCategory('')\r\n            console.log(\"verify action itemUpdated!\"); \r\n        },\r\n        variables:{\r\n            accountId, \r\n            itemId:params.itemId,\r\n            title: category,\r\n            description:values.description,\r\n            amount: radioValue === \"spending\" ? -Math.abs(numberformat) : Math.abs(numberformat),\r\n        },\r\n\r\n      \r\n      onError:(err) =>{\r\n        console.log(err);\r\n      }\r\n    });\r\n  \r\n    function updateItemCallback() {\r\n        updateItem();\r\n     }\r\n    \r\n     const handleRadioChange = (event) => {\r\n       setRadioValue(event.target.value);\r\n    };\r\n\r\n\r\n\r\n    function checkUpdateFormValid(category,description,amount){\r\n        if(itemDetails){\r\n            if(category !== '' && !isNaN(amount)){\r\n                return false\r\n            }else{\r\n                return true\r\n            }\r\n          }\r\n     }\r\n    \r\n\r\n\r\n     function checkIfFeildsChanged(category,description,amount){\r\n        if(itemDetails){\r\n            if(category !== itemDetails.title || \r\n                description !== itemDetails.description || \r\n                amount !== itemDetails.amount || \r\n                radioValue !== CheckRadioValue()){\r\n                 \r\n                return false\r\n                \r\n            }else{\r\n                return true\r\n            }\r\n        }\r\n       \r\n     }\r\n\r\n\r\n\r\n    function UpdateFeildsOnOpen(){\r\n        if(itemDetails){\r\n            setRadioValue(CheckRadioValue())\r\n            setCategory(itemDetails.title) \r\n            values.description = itemDetails.description\r\n            setNumberformat(itemDetails.amount) \r\n        }\r\n    }\r\n\r\nReact.useEffect(() =>{ \r\n  UpdateFeildsOnOpen()\r\n  } \r\n  \r\n  ,[ModalIsOpen])\r\n    \r\n  return (\r\n    \r\n      <div>\r\n     \r\n      <Dialog\r\n        open={ModalIsOpen}\r\n        TransitionComponent={Transition}\r\n        keepMounted\r\n        onClose={() => !ModalIsOpen}\r\n        aria-labelledby=\"alert-dialog-slide-title\"\r\n        aria-describedby=\"alert-dialog-slide-description\"\r\n        style={{zIndex:3, textAlign:'center'}}\r\n        \r\n      >\r\n        <form  onSubmit={onSubmit} noValidate>\r\n        <DialogTitle id=\"alert-dialog-slide-title\" onClose={() => {\r\n            history.goBack()\r\n            ///dispatch({type:SET_UpdateItem_Modal_Open, payload:null})\r\n            setRadioValue('')\r\n            \r\n            }} style={{textAlign:'center'}}> \r\n        <Typography component=\"div\" variant=\"h5\" className={FormClasses.HeadLine}>:עריכת פריט</Typography>\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-slide-description\">\r\n          : עדכן פריט מהרשימה\r\n          </DialogContentText>\r\n        \r\n           <div>\r\n           <FormControl  className={classes.margin}  component=\"fieldset\"  >\r\n\r\n          <div \r\n          style={{display:'flex', \r\n          alignItems:'center', \r\n          justifyContent:'space-around', \r\n          width:'110%'}}  \r\n          onChange={handleRadioChange}>\r\n          \r\n          <label htmlFor=\"spending\" style={{fontSize:18}}>הוצאה</label>\r\n          <input \r\n          style={{\r\n              height:18, \r\n              width:18}} \r\n              readOnly \r\n              type=\"radio\" \r\n              className={classes.radioButton}\r\n              id=\"spending\" \r\n              value=\"spending\"  \r\n              checked={radioValue === \"spending\"} \r\n              name=\"spending\" /> \r\n          \r\n         \r\n          <label htmlFor=\"earning\" style={{fontSize:18}}>הכנסה</label>\r\n          <input \r\n          style={{\r\n              height:18, \r\n              width:18}} \r\n              type=\"radio\" \r\n              id=\"earning\" \r\n              value=\"earning\" \r\n              readOnly\r\n              checked={radioValue === \"earning\"}\r\n              name=\"earning\"\r\n              /> \r\n          \r\n        </div>\r\n        </FormControl>\r\n        </div>\r\n\r\n\r\n\r\n\r\n          <div>\r\n        <FormControl className={classes.margin}>\r\n         <Autocomplete\r\n         id=\"grouped-demo\"\r\n         options={options.sort((a, b) => -b.firstLetter.localeCompare(a.firstLetter))}\r\n         groupBy={(option) => option.firstLetter}\r\n         getOptionLabel={(option) =>option.title}\r\n         getOptionSelected={(option, value) => option.title === value.title}\r\n         onInputChange={(e,value) => setCategory(value)}\r\n         style={{ minWidth:210}}\r\n         inputValue={category}\r\n         renderInput={(params) => <TextField {...params} onChange={onchange} value={category} name=\"title\" type=\"text\" label=\"קטגוריה\" />}\r\n         clearOnEscape\r\n        \r\n        \r\n    />\r\n        \r\n      </FormControl>\r\n      </div>  \r\n\r\n      <div>\r\n      <FormControl className={classes.margin}>\r\n      <TextField\r\n          id=\"standard-textarea\"\r\n          value={values.description}\r\n          onChange={onChange}\r\n          name=\"description\" \r\n          type=\"text\" \r\n          label=\"תיאור\"\r\n          multiline\r\n          \r\n        />\r\n      </FormControl>  \r\n      </div>\r\n\r\n      <div>\r\n       <FormControl className={classes.margin}>\r\n       <TextField\r\n        label=\"סכום\"\r\n        value={numberformat}\r\n        onChange={(e) => setNumberformat(parseFloat(e.target.value))}    \r\n        id=\"formatted-numberformat-input\"\r\n        name=\"amount\"\r\n        InputProps={{\r\n          inputComponent: NumberFormatCustom\r\n        }}\r\n      />\r\n       </FormControl>\r\n       </div>   \r\n       \r\n       \r\n       \r\n        </DialogContent>\r\n        <DialogActions>\r\n        \r\n        {loading ? (<CircularProgress variant='indeterminate'  style={{margin:'0 auto', color:'green'}} size={35}/>) \r\n        \r\n        : (<Fab\r\n            aria-label=\"save\"\r\n            color=\"primary\"\r\n            style={{margin:'0 auto',backgroundColor:'green'}}\r\n            size={'small'}\r\n            type=\"submit\"\r\n            onClick={onSubmit}\r\n            disabled={checkUpdateFormValid(category,values.description,numberformat) || \r\n              checkIfFeildsChanged(category,values.description,numberformat)}\r\n  \r\n          >\r\n           <CheckIcon />\r\n          </Fab>)}\r\n\r\n        \r\n        \r\n        </DialogActions>\r\n        </form>\r\n      </Dialog>\r\n    </div>\r\n\r\n\r\n\r\n\r\n      \r\n  );\r\n}\r\n\r\n\r\nconst UPDATE_ITEM = gql`\r\nmutation updateMatualItem($accountId:ID!, $itemId:ID!, $title:String!, $description:String!, $amount:Float) {\r\n    updateMatualItem(accountId:$accountId, itemId:$itemId, title:$title ,description:$description, amount:$amount){\r\n    id\r\n    title\r\n    list{\r\n      id\r\n      title\r\n      description\r\n      amount\r\n      media\r\n      createdAt\r\n      updatedAt\r\n      \r\n    }\r\n    }\r\n }\r\n`;\r\n\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport PieChartRoundedIcon from '@material-ui/icons/PieChartRounded';\r\nimport {useSelector} from 'react-redux'\r\nimport { DataGrid } from '@material-ui/data-grid';\r\nimport {\r\n\tChart,\r\n\tInterval,\r\n\tTooltip,\r\n\tAxis,\r\n\tCoordinate,\r\n} from \"bizcharts\";\r\nimport { DialogTitle } from '@material-ui/core';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport history from '../../../util/history';\r\nimport NumericLabel from 'react-pretty-numbers';\r\nimport { useMediaQuery } from '@material-ui/core';\r\nimport { useTheme } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: 'relative',\r\n  },\r\n  title: {\r\n  flex: 1,\r\n  wordBreak:'break-word'\r\n  },\r\n  Fab:{\r\n    position:'fixed',\r\n    right:theme.spacing(2),\r\n    bottom:theme.spacing(1),\r\n    zIndex:3,\r\n  \r\n  },\r\n\r\n  stasWrapper:{\r\n    height:'100%', \r\n    width:'100%', \r\n    [theme.breakpoints.up('md')]:{\r\n      display:'flex', \r\n      alignItems:'center', \r\n      justifyContent:'center'\r\n    }\r\n  },\r\n  datagridEarning:{\r\n    height:400, \r\n    width: '100%', \r\n    margin:'0 auto',\r\n   \r\n     [theme.breakpoints.up('sm')]:{\r\n      width:'90%'\r\n     },\r\n     \r\n  },\r\n\r\n  datagridSpending:{\r\n    height:400, \r\n    width: '100%',  \r\n    margin:'0 auto',\r\n    \r\n    \r\n     [theme.breakpoints.up('sm')]:{\r\n      width:'90%'\r\n     },\r\n    \r\n\r\n  },\r\n\r\n  Header:{\r\n    '&.MuiDataGrid-root .MuiDataGrid-columnHeaderTitleContainer':{\r\n      width:'auto'\r\n    }\r\n  }\r\n\r\n}));\r\n\r\n\r\n\r\n\r\n\r\nconst PieChart = ({data, cols}) => {\r\n  const theme = useTheme()\r\n  const matches = useMediaQuery(theme.breakpoints.up('sm'));\r\n  \r\n  //pie chart\r\nconst defaultData = [\r\n  { item: \"ביגוד והלבשה\", percent: 0.4 },\r\n  { item: \"class 2\", percent: 0.21 },\r\n  { item: \"class 3\", percent: 0.17 },\r\n  { item: \"class 4\", percent: 0.13 },\r\n  { item: \"משכורת\", percent: 0.09 },\r\n  { item: \"אוכל ופירות\", percent: 0.04 },\r\n];\r\n\r\nreturn (\r\n   \r\n    <Chart height={'50%'} width={'100%'}  data={data} scale={cols} interactions={['element-single-selected']} autoFit>\r\n\t\t<Coordinate  type=\"theta\" radius={ matches ? 0.70 : 0.40} />\r\n\t\t\t<Tooltip  showTitle={false} />\r\n\t\t\t<Axis  visible={false} />\r\n\t\t\t<Interval\r\n        position=\"percent\"\r\n\t\t\t\tadjust=\"stack\"\r\n\t\t\t\tcolor=\"item\"\r\n        style={{\r\n\t\t\t\t\tlineWidth:1,\r\n\t\t\t\t\tstroke: \"#fff\",\r\n         }}\r\n      \r\n        label={[\r\n\t\t\t\t\t\"item\",\r\n\t\t\t\t\t(item) => {\r\n\t\t\t\t\t\treturn {\r\n              offset: 10,\r\n\t\t\t\t\t\t\tcontent: (data) => {\r\n\t\t\t\t\t\t\t\treturn `${data.item} ${Number(data.percent * 100).toFixed(1)}%`;\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t};\r\n            \r\n\t\t\t\t\t},\r\n          \r\n\t\t\t\t]}\r\n\t\t\t/>\r\n\t\t</Chart>\r\n   \r\n  )\r\n}\r\n\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport default function FullScreenDialog({totalSpending, totalEarning}) {\r\n \r\n\r\n//Number Format Options\r\nconst FormatOptions = {\r\n  'justification':'L',\r\n  'locales':'en-AU',\r\n  'currency':false,\r\n  'currencyIndicator':'AUD',\r\n  'percentage':false,\r\n  'precision':0,\r\n  'wholenumber':null,\r\n  'commafy':true,\r\n  'shortFormat':true,\r\n  'shortFormatMinValue': 1000000,\r\n  'shortFormatPrecision': 2,\r\n  'title':true,\r\n  \r\n};\r\n\r\n\r\n  const params = useParams()\r\n  \r\n  const accountData = useSelector(state => state.uiReducer.getCurrentAccountUi)\r\n     \r\n  function getSpendingSumDuplicateTitleData(){\r\n    let array2 = []\r\n  \r\n    if(accountData){\r\n      let result = []\r\n      const filteredList = accountData.list.filter(i => i.amount < 0)\r\n    if(filteredList){\r\n      filteredList.forEach(function (a,i) {\r\n        if (!this[a.title]) {\r\n          this[a.title] = { title: a.title, amount: 0 };\r\n          result.push(this[a.title]);\r\n       }\r\n           this[a.title].amount += a.amount;\r\n       },Object.create(null))\r\n    \r\n    }\r\n      \r\n   \r\n    result.map(i => array2.push({ item:i.title, percent:Math.abs((i.amount / totalSpending).toFixed(4))}))    \r\n    console.log(array2);\r\n    return array2\r\n\r\n  }\r\n    \r\n  }\r\n\r\n    function getEarningSumDuplicateDataGrid(){\r\n     \r\n      if(accountData){\r\n        let result = []\r\n        const filteredList = accountData.list.filter(i => i.amount > 0)\r\n   \r\n    filteredList.forEach(function (a,i) {\r\n       if (!this[a.title]) {\r\n         this[a.title] = { id:i,title: a.title, amount: 0, date:a.updatedAt};\r\n         result.push(this[a.title]);\r\n      }\r\n          this[a.title].amount += a.amount;\r\n     }, Object.create(null));\r\n        \r\n      return result    \r\n   }\r\n     \r\n    \r\n     \r\n    }\r\n \r\n\r\n    function getSpendingSumDuplicateDataGrid(){\r\n   \r\n      if(accountData){\r\n        let result = []\r\n        const filteredList = accountData.list.filter(i => i.amount < 0)\r\n   \r\n    filteredList.forEach(function (a,i) {\r\n       if (!this[a.title]) {\r\n         this[a.title] = { id:i,title: a.title, amount: 0, date:a.updatedAt};\r\n         result.push(this[a.title]);\r\n      }\r\n          this[a.title].amount += a.amount;\r\n     }, Object.create(null));\r\n       \r\n      return result  \r\n   }\r\n   \r\n     \r\n    }\r\n\r\n\r\n \r\n\r\n    function getEarningSumDuplicateTitleData(){\r\n      let array3 =[]\r\n      if(accountData){\r\n        let result = []\r\n        const filteredList = accountData.list.filter(i => i.amount > 0)\r\n\r\n       \r\n          filteredList.forEach(function (a,i) {\r\n            if (!this[a.title]) {\r\n              this[a.title] = { title: a.title, amount: 0 };\r\n              result.push(this[a.title]);\r\n           }\r\n               this[a.title].amount += a.amount;\r\n           },Object.create(null))\r\n           \r\n           \r\n            result.map(i => array3.push({ item:i.title, percent:Math.abs((i.amount / totalEarning).toFixed(4))}))\r\n            console.log('array3',array3);\r\n            return array3\r\n   \r\n    }\r\n     \r\n    \r\n     \r\n    }\r\n   \r\n\r\n\r\n  const classes = useStyles();\r\n  const open = window.location.pathname === `/matualAccounts/${params.accountId}/statis`\r\n \r\n\r\n  const handleClose = () => {\r\n    history.goBack()\r\n  };\r\n\r\n \r\nconst cols = {\r\n  percent: {\r\n    formatter: (val) => {\r\n      val = Number(val * 100).toFixed(2) + \"%\";\r\n     return val;\r\n    },\r\n  },\r\n};\r\n\r\n\r\n\r\n\r\n  return (\r\n    \r\n    <div>\r\n      \r\n      <Fab  className={classes.Fab} size=\"medium\" color=\"primary\" aria-label=\"statistics\" >\r\n     <IconButton component={Link} style={{color:'white'}} to={`/matualAccounts/${params.accountId}/statis`}><PieChartRoundedIcon /></IconButton> \r\n      </Fab>\r\n      <Dialog  dir='rtl' style={{textAlign:'center'}} fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\r\n        <AppBar color='primary' className={classes.appBar}>\r\n          <Toolbar>\r\n            <IconButton edge=\"start\" color=\"inherit\" onClick={handleClose} aria-label=\"close\">\r\n              <CloseIcon />\r\n            </IconButton>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n               פילוח נתונים - &apos;&apos;{accountData && accountData.title}&apos;&apos;\r\n            </Typography>\r\n          </Toolbar>  \r\n        </AppBar>\r\n       \r\n        <div style={{height:'100%', width:'100%'}} dir='ltr' >\r\n           \r\n           <Typography \r\n           variant='h5'\r\n           style={{\r\n             textDecoration:'underline',\r\n             color:`${Number(totalEarning + totalSpending).toFixed(2) > 0 ? 'green' : 'red'}`,\r\n             \r\n            }}\r\n           >\r\n          ₪ {accountData ? ( <NumericLabel params={FormatOptions}>{Number(totalEarning + totalSpending).toFixed(2)}</NumericLabel>) : 'calculate...' } :מאזן נוכחי\r\n           </Typography>\r\n\r\n          <div className={classes.stasWrapper}>\r\n          \r\n          {totalEarning > 0 && (<div style={{display:'flex', flexDirection:'column', height:'100%',  width:'100%'}}>\r\n            <DialogTitle style={{position:'relative', margin:'0 auto', textDecoration:'underline'}}> ₪ <NumericLabel params={FormatOptions}>{Math.abs(totalEarning).toFixed(2)}</NumericLabel> :הכנסות</DialogTitle>\r\n            <PieChart data={!getEarningSumDuplicateTitleData() ? [] : getEarningSumDuplicateTitleData()} cols={cols} />\r\n            <div className={classes.datagridEarning}>\r\n              <div style={{height:'100%'}}>\r\n              <DataGrid\r\n               columns={[\r\n                { \r\n                field: 'date',\r\n                flex: 1,  \r\n                width: 125,\r\n                headerName: 'תאריך',\r\n                align:'right',\r\n                headerAlign:'right',\r\n                valueFormatter: (params) => {\r\n                  const date = new Date(parseInt(params.value))\r\n                  const valueFormatted = date.toLocaleDateString();\r\n                  return `${valueFormatted}`;\r\n                }, \r\n              },\r\n              { \r\n                field: 'amount',\r\n                flex: 0.9, \r\n                width: 125,\r\n                headerName: 'סכום',\r\n                align:'right',\r\n                type: 'number',\r\n                headerAlign:'right',\r\n                valueFormatter: (params) => {\r\n                  const valueFormatted = Number(params.value).toLocaleString();\r\n                  return `₪ ${valueFormatted}`;\r\n                },  \r\n              },\r\n              { \r\n                field: 'title', \r\n                headerName: 'קטגוריה',\r\n                align:'right',\r\n                type:'string',\r\n                headerAlign:'right',\r\n                flex: 1,\r\n                width: 130,\r\n                \r\n              },\r\n              { \r\n                field: 'id', \r\n                hide:true \r\n              },\r\n              \r\n             \r\n             \r\n              \r\n              ]}\r\n                rows={!getEarningSumDuplicateDataGrid() ? [] : getEarningSumDuplicateDataGrid()}\r\n              />\r\n\r\n              </div>\r\n            </div>\r\n            \r\n            </div>\r\n          )}\r\n          \r\n       \r\n          \r\n       \r\n          \r\n          {totalSpending < 0 && (<div style={{display:'flex', flexDirection:'column', height:'100%', width:'100%'}}>\r\n            <DialogTitle  style={{position:'relative', margin:'0 auto', textDecoration:'underline'}}> ₪ <NumericLabel params={FormatOptions}>{-Math.abs(totalSpending).toFixed(2)}</NumericLabel> :הוצאות</DialogTitle>\r\n          <PieChart  data={!getSpendingSumDuplicateTitleData() ? [] : getSpendingSumDuplicateTitleData()} cols={cols} />\r\n          <div className={classes.datagridSpending}>\r\n          <div style={{height:'100%'}}>\r\n              <DataGrid \r\n              columns={[\r\n                { \r\n                field: 'date',\r\n                flex: 1, \r\n                width: 125,\r\n                headerName: 'תאריך',\r\n                align:'right',\r\n                headerAlign:'right',\r\n                valueFormatter: (params) => {\r\n                  const date = new Date(parseInt(params.value))\r\n                  const valueFormatted = date.toLocaleDateString();\r\n                  return `${valueFormatted}`;\r\n                }, \r\n              },\r\n                { \r\n                  field: 'amount',\r\n                  flex: 0.9,\r\n                   headerName: 'סכום',\r\n                   align:'right',\r\n                   type: 'number',\r\n                   width: 125,\r\n                   headerAlign:'right',\r\n                   valueFormatter: (params) => {\r\n                    const valueFormatted = Number(params.value).toLocaleString();\r\n                    return `₪ ${valueFormatted} `;\r\n                  }, \r\n                },\r\n                \r\n               \r\n              { \r\n                field: 'title', \r\n                headerName: 'קטגוריה',\r\n                align:'right',\r\n                type:'string',\r\n                headerAlign:'right', \r\n                width: 130,\r\n                flex: 1,\r\n              },\r\n                \r\n                { \r\n                  field: 'id', \r\n                  hide:true \r\n                },\r\n               ]}\r\n                rows={!getSpendingSumDuplicateDataGrid() ? [] : getSpendingSumDuplicateDataGrid()}\r\n              />\r\n              </div>\r\n            </div>\r\n          </div>) }\r\n          \r\n          </div>\r\n       \r\n       \r\n        </div>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import React,{useState, useEffect} from 'react'\r\nimport AddAPhotoRoundedIcon from '@material-ui/icons/AddAPhotoRounded';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Axios from 'axios'\r\nimport gql from 'graphql-tag'\r\nimport {useMutation} from '@apollo/react-hooks';\r\nimport {useSelector} from 'react-redux'\r\n\r\nfunction Index({accountId, itemId}) {\r\n   \r\n  const [fileSelected, setFileSelected] = useState(null)\r\n  const [imageMutation ,setImageMutation] = useState('')\r\n  const [loading ,setLoading] = useState(false)\r\n  const getOwnerID = useSelector(state => state.uiReducer.getCurrentAccountUi)\r\n  const formData = new FormData()\r\n  \r\n   const [updateItemImage,{data}] = useMutation(ADD_ITEM_IMAGE_MUTATION, {\r\n      variables:{ \r\n           accountId,\r\n           itemId,\r\n           imageURL:imageMutation},\r\n    onCompleted:() => {\r\n        setLoading(false) }, \r\n        refetchQueries:[{query:GET_USER_ACCOUNT, variables:{accountId}}]\r\n        \r\n      \r\n      \r\n      })\r\n        \r\n\r\n   useEffect(() =>{ \r\n \r\n        if(fileSelected){\r\n          formData.append('file', fileSelected)\r\n          formData.append('upload_preset','temed3va')\r\n          formData.append('folder',`Users/${getOwnerID && getOwnerID.owner}/matualAccounts/${accountId}/${itemId}`)\r\n          \r\n          Axios.post(\"https://api.cloudinary.com/v1_1/dw4v5axnj/image/upload/\",formData)\r\n          .then(res => {\r\n            setLoading(true)\r\n            setImageMutation(res.data.secure_url) \r\n            console.log(res.data);\r\n            updateItemImage()\r\n            \r\n           \r\n            \r\n        }).catch(err => console.log(err)) \r\n        \r\n          console.log(imageMutation);\r\n        }\r\n      } \r\n          ,[fileSelected]) \r\n\r\n\r\n\r\n          \r\n   \r\n    function handleFileChanged(e){\r\n        e.preventDefault() \r\n        setLoading(true)\r\n        setFileSelected(e.target.files[0])\r\n        console.log('loading', loading);\r\n       \r\n       \r\n    }\r\n   \r\n   return (\r\n        <>\r\n        <input name=\"file\" accept=\"image/*\" hidden id={`icon-button-file-image-${itemId}`} type=\"file\" onChange={handleFileChanged} />\r\n        <label htmlFor={`icon-button-file-image-${itemId}`} style={{position:'absolute', bottom:-2, left:0, transform:'translate(6%, -14%)' }}>\r\n        \r\n      <IconButton color='inherit' size='small' disabled={loading} style={{backgroundColor:'white'}} aria-label=\"upload picture\" component=\"span\">\r\n      { loading  ?  <CircularProgress color='secondary' size={20}/> : <AddAPhotoRoundedIcon style={{fontSize:'18px'}} /> } \r\n        </IconButton>\r\n       </label>\r\n      </>\r\n    )\r\n}\r\n\r\nexport default Index\r\n\r\n\r\n\r\nconst ADD_ITEM_IMAGE_MUTATION = gql`\r\n\r\nmutation addItemMatualImage($accountId:ID!, $itemId:ID!, $imageURL:String!){\r\n  addItemMatualImage(accountId:$accountId, itemId:$itemId, imageURL:$imageURL)\r\n}\r\n\r\n`; \r\n\r\nconst GET_USER_ACCOUNT = gql`\r\n\r\n    query($accountId:ID!){\r\n        getUserMatualAccount(accountId:$accountId){\r\n            title\r\n            id\r\n            owner\r\n            list{\r\n              id\r\n              title\r\n              description\r\n              media\r\n              amount\r\n              createdAt\r\n            }\r\n        }  \r\n      }\r\n\r\n\r\n`;","import React from 'react'\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport gql from 'graphql-tag'\r\nimport { useMutation } from '@apollo/react-hooks';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport { CircularProgress } from '@material-ui/core';\r\nimport history from '../../../../util/history';\r\nimport { Link, useParams } from 'react-router-dom';\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      display: 'flex',\r\n      zIndex:13\r\n    },\r\n    paper: {\r\n    \r\n     \r\n    },\r\n\r\n    OptionBar:{\r\n        position:'absolute',\r\n        zIndex:13,\r\n        top:8,\r\n        left:2, \r\n        color:'white'\r\n      },\r\n      Delete:{\r\n          color:'#d50000',\r\n          fontFamily:'Varela Round',\r\n          fontWeight:'bold'\r\n      },\r\n     \r\n\r\n      dialogTitle:{\r\n          fontFamily:'Varela Round',\r\n          fontWeight:'bold',\r\n          backgroundColor:'#d50000',\r\n          color:'white',\r\n\r\n          \r\n      }\r\n\r\n     \r\n  }));\r\n  const Transition = React.forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n  });\r\n \r\nfunction Index({itemId}) {\r\n    \r\n    const classes = useStyles();\r\n    const params = useParams()\r\n   \r\n\r\n  const ModalIsOpen = window.location.pathname === `/matualAccounts/${params.accountId}/deleteItem/${params.itemId}` \r\n\r\n\r\n    const [deleteItem,{loading}] = useMutation(DELETE_ITEM,\r\n        {\r\n        onCompleted:() =>{\r\n        history.goBack()\r\n     },\r\n\r\n        onError:(err) => console.log(err),\r\n       \r\n        variables: {\r\n           accountId:params.accountId,\r\n           itemId:params.itemId\r\n        }\r\n      });\r\n    \r\n    return (\r\n        <>\r\n        <MenuItem \r\n        className={classes.Delete} \r\n        component={Link} \r\n        to={`/matualAccounts/${params.accountId}/deleteItem/${itemId}`}>מחק פריט</MenuItem>\r\n        \r\n      <Dialog\r\n        open={ModalIsOpen}\r\n        TransitionComponent={Transition}\r\n        keepMounted\r\n        onClose={() => !ModalIsOpen}\r\n        aria-labelledby=\"alert-dialog-slide-title\"\r\n        aria-describedby=\"alert-dialog-slide-description\"\r\n        style={{textAlign:'center'}}\r\n\r\n        \r\n      >\r\n        <DialogTitle className={classes.dialogTitle} id=\"alert-dialog-slide-title\">מחיקת פריט</DialogTitle>\r\n        <DialogContent >\r\n          <DialogContentText id=\"alert-dialog-slide-description\">\r\n           ? האם את/ה בטוח/ה שברצונך למחוק פריט זה \r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions  style={{margin:'0 auto'}} >\r\n          {loading ? (\r\n                <CircularProgress \r\n                size={35} \r\n                variant='indeterminate' \r\n                style={{color:'red', margin:'0 auto'}}/>\r\n             ) : (\r\n            <>\r\n            <Button onClick={() => history.goBack()} color=\"primary\"  >\r\n            לא\r\n          </Button>\r\n          <Button onClick={deleteItem} color=\"primary\">\r\n            כן\r\n          </Button>\r\n          </>\r\n          )}\r\n        </DialogActions>\r\n      </Dialog>\r\n      </>\r\n    )\r\n}\r\n\r\nexport default Index\r\n\r\n\r\n\r\nconst DELETE_ITEM = gql`\r\nmutation deleteMatualItem($accountId:ID!, $itemId:ID!){\r\n    deleteMatualItem(accountId:$accountId, itemId:$itemId){\r\n        id\r\n        createdAt\r\n        updatedAt\r\n        list{\r\n          id\r\n          title\r\n          description\r\n          amount\r\n          media\r\n          createdAt\r\n          updatedAt\r\n          \r\n        }\r\n    }\r\n  }\r\n`;\r\n\r\n","import React from 'react'\r\nimport {makeStyles, MenuItem} from '@material-ui/core'\r\nimport { useDispatch } from 'react-redux'\r\nimport { SET_UpdateItem_Modal_Open } from '../../../../Redux/actionTypes'\r\nimport { useParams } from 'react-router-dom';\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    Update:{\r\n        fontFamily:'Varela Round',\r\n        fontWeight:'bold'  \r\n      },\r\n   }))\r\n\r\n\r\n\r\n\r\nfunction Index({item}) {\r\n  const params = useParams()\r\n    const classes = useStyles()\r\n   \r\n\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    function handleClickOpen(){\r\n     dispatch({type:SET_UpdateItem_Modal_Open, payload:item})\r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    return (\r\n       \r\n      <MenuItem className={classes.Update} component={Link} to={`/matualAccounts/${params.accountId}/updateItem/${item.id}`} onClick={handleClickOpen} >עדכן פריט</MenuItem>\r\n      \r\n    )\r\n}\r\n\r\nexport default Index\r\n","import React from 'react'\r\nimport {makeStyles, MenuItem} from '@material-ui/core'\r\nimport gql from 'graphql-tag'\r\nimport {useMutation} from '@apollo/react-hooks'\r\nconst useStyles = makeStyles((theme) => ({\r\n    Update:{\r\n        fontFamily:'Varela Round',\r\n        fontWeight:'bold',\r\n        color:'#d50000',\r\n    },\r\n   }))\r\n\r\nfunction Index({accountId, itemId, image, setOpen}) {\r\n   \r\n    const classes = useStyles()\r\n   \r\n\r\n    const [deleteItemImage,{data}] = useMutation(DELETE_ITEM_IMAGE_MUTATION, {\r\n        variables:{ \r\n            accountId,\r\n            itemId,\r\n        },\r\n     onCompleted:() => {}, \r\n         refetchQueries:[{query:GET_USER_ACCOUNT, variables:{accountId}}]})\r\n\r\n\r\n\r\n\r\n    function handleClickOpen(e){\r\n       e.preventDefault() \r\n       setOpen(false)\r\n       deleteItemImage()   \r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n        {image && <MenuItem className={classes.Update} onClick={handleClickOpen} >הסר תמונה</MenuItem>}  \r\n       </>\r\n    )\r\n}\r\n\r\nexport default Index\r\n\r\n\r\nconst DELETE_ITEM_IMAGE_MUTATION = gql`\r\n\r\nmutation deleteIteMatualmImage($accountId:ID!, $itemId:ID!){\r\n    deleteIteMatualmImage(accountId:$accountId, itemId:$itemId)\r\n}\r\n\r\n`; \r\n\r\n\r\n\r\nconst GET_USER_ACCOUNT = gql`\r\n\r\n    query($accountId:ID!){\r\n        getUserMatualAccount(accountId:$accountId){\r\n            title\r\n            id\r\n            owner\r\n            list{\r\n              id\r\n              title\r\n              description\r\n              media\r\n              amount\r\n              createdAt\r\n            }\r\n        }  \r\n      }\r\n\r\n\r\n`;","import React from 'react'\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\r\nimport Grow from '@material-ui/core/Grow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Popper from '@material-ui/core/Popper';\r\nimport MenuList from '@material-ui/core/MenuList';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport MoreVertRoundedIcon from '@material-ui/icons/MoreVertRounded';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport DeleteMenuItem from '../MoreOptionsButtonItem/DeleteOptionItem';\r\nimport UpdateMenuItem from '../MoreOptionsButtonItem/UpdateOptionItem'\r\nimport RemoveImageItem from '../MoreOptionsButtonItem/RemoveImageOptionItem'\r\nimport { useParams } from 'react-router-dom';\r\nimport history from '../../../util/history';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n     zIndex:1\r\n    \r\n    },\r\n    paper: {\r\n    \r\n    \r\n    },\r\n\r\n    OptionBar:{\r\n        \r\n    \r\n        \r\n      },\r\n     \r\n\r\n     \r\n  }));\r\n\r\n\r\n\r\nfunction Index({accountId, itemId, item}) {\r\n  \r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(false);\r\n  const anchorRef = React.useRef(null);\r\n  const params = useParams()\r\n  const handleToggle = () => {\r\n    if(params.itemId){\r\n      history.replace(`/matualAccounts/${accountId}`)\r\n    }\r\n   \r\n    setOpen((prevOpen) => !prevOpen);\r\n  };\r\n\r\n  const handleClose = (event) => {\r\n    if (anchorRef.current && anchorRef.current.contains(event.target)) {\r\n      return\r\n    }\r\n\r\n    setOpen(false);\r\n  }; \r\n\r\n  function handleListKeyDown(event) {\r\n    if (event.key === 'Tab') {\r\n      event.preventDefault();\r\n      setOpen(false);\r\n    }\r\n  }\r\n\r\n  // return focus to the button when we transitioned from !open -> open\r\n  const prevOpen = React.useRef(open);\r\n  \r\n  React.useEffect(() => {\r\n    if (prevOpen.current === true && open === false) {\r\n      anchorRef.current.focus();\r\n    }\r\n\r\n    prevOpen.current = open;\r\n  \r\n  \r\n  }, [open]);\r\n    \r\n    \r\n     return (\r\n        \r\n        <div className={classes.root}>\r\n       <div >\r\n        <IconButton \r\n          ref={anchorRef}\r\n          aria-controls={open ? 'menu-list-grow' : undefined}\r\n          aria-haspopup=\"true\"\r\n          onClick={handleToggle}\r\n          size=\"small\"\r\n          className={classes.OptionBar}>\r\n          <MoreVertRoundedIcon  />\r\n          </IconButton>\r\n          </div>\r\n         \r\n        <Popper  open={open} anchorEl={anchorRef.current} role={undefined} placement=\"left-start\" transition disablePortal>\r\n          {({ TransitionProps, placement }) => (\r\n            <Grow\r\n              {...TransitionProps}\r\n              style={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }}\r\n            >\r\n              <Paper className={classes.paper}>\r\n                 <ClickAwayListener onClickAway={handleClose}>\r\n                  <MenuList autoFocusItem={open} id=\"menu-list-grow\" onKeyDown={handleListKeyDown}>\r\n                    <RemoveImageItem accountId={accountId} itemId={itemId} image={item.media} setOpen={setOpen}/> \r\n                    <UpdateMenuItem accountId={accountId} itemId={itemId} item={item}  />\r\n                    <DeleteMenuItem accountId={accountId} itemId={itemId} setOpen={setOpen}/>\r\n                  </MenuList>\r\n                  </ClickAwayListener>\r\n              </Paper>\r\n            </Grow>\r\n          )}\r\n        </Popper>\r\n      \r\n    </div>\r\n        \r\n    \r\n    )\r\n}\r\n\r\nexport default Index\r\n","import React from 'react'\r\nimport AddItemImageButton from '../AddItemImageButton'\r\nimport NoImage from '../../../util/assets/no-image.svg'\r\nimport MoreOptionsItem from '../MoreOptionsButtonItem' \r\nimport Card from '@material-ui/core/Card';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport NumericLabel from 'react-pretty-numbers';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport { makeStyles} from '@material-ui/core/styles';\r\nimport { Link,useParams } from 'react-router-dom';\r\nimport dayjs from 'dayjs';\r\nimport { locale } from 'dayjs/locale/de';\r\nimport relativeTime from 'dayjs/plugin/relativeTime';\r\nimport { SET_LightBoxImage } from '../../../Redux/actionTypes';\r\nimport { useDispatch } from 'react-redux';\r\nimport hebConf from 'dayjs/locale/he'\r\nconst useStyles = makeStyles((theme) => ({\r\n   \r\n   details: {\r\n      display: 'flex',\r\n      width:'100%',\r\n      height:'fit-content',\r\n     \r\n\r\n    },\r\n    content: {\r\n     display:'flex',\r\n     width:'100%',\r\n     height:'100%',\r\n     \r\n\r\n    \r\n    },\r\n    cover: {\r\n     zIndex:3, \r\n     width: '10%',\r\n      position:'absolute',\r\n      right:'130px'\r\n\r\n    },\r\n    controls: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      paddingLeft: theme.spacing(1),\r\n      paddingBottom: theme.spacing(1),\r\n    },\r\n  \r\n\r\n   \r\n    \r\n\r\n    itemCard:{\r\n      display:'flex',\r\n      justifyContent:'center',\r\n      width:'100%',\r\n      height:'fit-content'\r\n      },\r\n\r\n    MainCard:{\r\n         marginTop:'60px',\r\n        justifyContent:'center',\r\n        display:'flex',\r\n        alignItems:'center,'\r\n        \r\n         },\r\n    \r\n    spending:{\r\n        display:'flex',\r\n        width:'100%',\r\n        flexDirection:'column',\r\n        background:'#242333',\r\n        color:'white',\r\n        whiteSpace:'nowrap',\r\n       \r\n       \r\n      },\r\n\r\n\r\n      earning:{\r\n        display:'flex',\r\n        width:'100%',\r\n        alignItems:'center',\r\n        flexDirection:'column',\r\n        background:'#242333',\r\n        color:'white',\r\n        whiteSpace:'nowrap',\r\n       \r\n      },\r\n\r\n      column1:{\r\n        display:'flex',\r\n        width:'100%',\r\n        justifyContent:'flex-start',\r\n        flexDirection:'column',\r\n        \r\n      },\r\n\r\n      column2:{\r\n        display:'flex',\r\n        width:'30%',\r\n        justifyContent:'flex-end',\r\n        flexDirection:'column',\r\n        \r\n      },\r\n\r\n      ItemsWrapper:{\r\n          width:'100%',\r\n          height:'73vh',\r\n          overflowY:'scroll',\r\n          \r\n       },\r\n       \r\n       customBadgePlus: {\r\n        backgroundColor: \"#43a047\",\r\n        color: \"white\",\r\n        fontSize:'16px',\r\n        fontWeight:'bold',\r\n        fontFamily:'Varela Round'\r\n      },\r\n      customBadgeMinus: {\r\n        backgroundColor: \"#d50000\",\r\n        color: \"white\",\r\n        fontSize:'16px',\r\n        fontWeight:'bold',\r\n        fontFamily:'Varela Round',\r\n       \r\n      },\r\n      \r\n      addImageBadge:{\r\n        '&.MuiBadge-anchorOriginBottomLeftRectangle': {\r\n           transform:'translate(-20%, -10%)',\r\n          }\r\n      },\r\n\r\n      amountDetail:{\r\n        display:'flex',\r\n        whiteSpace:'nowrap', \r\n        wordBreak:'keep-all', \r\n        paddingLeft:'calc(100% - 60px)',\r\n        position: 'absolute',\r\n        width: '100%',\r\n        top:0,\r\n        right:-12,\r\n      },\r\n     \r\n      descriptionDetail:{\r\n        display:'flex',\r\n        lineClamp:'2', \r\n        boxOrient:'vertical',\r\n        justifyContent:'flex-end',\r\n        margin:'2px 4% 15px 2px',\r\n        wordBreak:'break-word',\r\n        whiteSpace:'break-spaces',\r\n        lineHeight:1,\r\n        \r\n      },\r\n      \r\n      createdAtDetail:{\r\n        position:'sticky',\r\n        display:'flex',\r\n        justifyContent:'flex-end',\r\n        zIndex:0,\r\n        margin:'0 3% 0 0' \r\n       },\r\n\r\n       updatedAtDetail:{\r\n        position:'sticky',\r\n        display:'flex',\r\n        justifyContent:'flex-end',\r\n        zIndex:0,\r\n        margin:'0 3% 0 0',\r\n        \r\n       },\r\n\r\n       titleDetail:{\r\n        display:'flex',\r\n        justifyContent:'flex-end',\r\n        margin:'2px 1% 2px 2px',\r\n       fontFamily:'Varela Round'\r\n       },\r\n\r\n       Fab:{\r\n        position:'relative',\r\n        margin:'0 auto',\r\n        display:'flex',\r\n        background:'transparent',\r\n        bottom:'3%',\r\n        border:'white solid 2px'\r\n       },\r\n       FabWrapper:{\r\n        width:'100%',\r\n        height:'12%', \r\n        zIndex:3, \r\n        display:'flex', \r\n        flex:'wrap',\r\n        justifyContent:'center', \r\n        alignItems:'center'\r\n       }\r\n      \r\n     \r\n\r\n  }));\r\n\r\n\r\n\r\n\r\n\r\nfunction Index({item, accountId, ownerName}) {\r\n  dayjs.extend(relativeTime)\r\n  dayjs.locale('de', hebConf)\r\n   const classes = useStyles() \r\n   const dispatch = useDispatch()\r\n   const params = useParams()\r\n   \r\n\r\n//Number Format Options\r\nconst FormatOptions = {\r\n    'justification':'L',\r\n    'locales':'en-AU',\r\n    'currency':false,\r\n    'currencyIndicator':'AUD',\r\n    'percentage':false,\r\n    'precision':0,\r\n    'wholenumber':null,\r\n    'commafy':true,\r\n    'shortFormat':true,\r\n    'shortFormatMinValue': 1000000,\r\n    'shortFormatPrecision': 2,\r\n    'title':true,\r\n    \r\n  };\r\n\r\n\r\n    return (\r\n        <Badge \r\n         component='div' \r\n         style={{\r\n           display:'flex', \r\n           flexDirection:'column', \r\n           marginTop:'16px'\r\n          }}   \r\n         \r\n         invisible={item.amount === 0}\r\n         classes={{badge: item.amount > 0 ? classes.customBadgePlus : classes.customBadgeMinus}}\r\n         badgeContent={item.amount > 0 ? '+' : '-'} \r\n         anchorOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'left',\r\n          }}>\r\n          \r\n            <Card  className={classes.itemCard}>\r\n        \r\n            <div className={classes.details}>\r\n             <div className={classes.content}>\r\n             \r\n            \r\n             <div className={classes.column2}>\r\n             \r\n            \r\n             <Typography \r\n               component=\"h6\" \r\n               variant=\"h6\" \r\n               className={classes.amountDetail}>\r\n              <span >₪ {item.amount < 0 && '-'}</span>\r\n             <NumericLabel params={FormatOptions}>{item.amount < 0 ? Math.abs(item.amount):item.amount}</NumericLabel> \r\n               </Typography>\r\n               \r\n              \r\n               <CardMedia \r\n                key={item.id}\r\n                style={{\r\n                 display:'flex', \r\n                 borderTop:'1px solid rgba(0,0,0,1)',\r\n                 width:'100%',\r\n                 height:'70%',\r\n                 borderRight:'1px solid rgba(0,0,0,1)',\r\n                 padding:0,\r\n                 margin:0,\r\n                 backgroundSize:'cover'}}\r\n                 image={item.media ? item.media : NoImage}\r\n                 component={item.media ? Link : 'span'}\r\n                 to={item.media && `/matualAccounts/${params && params.accountId}/showImage`}\r\n                 onClick={() => item.media && dispatch({type:SET_LightBoxImage, payload:item.media}) }\r\n                \r\n                >\r\n                \r\n              \r\n              \r\n                </CardMedia>\r\n                  \r\n              {!item.media && ( <AddItemImageButton accountId={accountId} itemId={item.id} />)}\r\n               \r\n             \r\n             </div>\r\n           \r\n              <div className={classes.column1}>\r\n             \r\n              <Typography \r\n               component=\"h6\" \r\n               variant=\"h6\" \r\n               className={classes.titleDetail}>\r\n               {item.title} \r\n                 \r\n              <MoreOptionsItem \r\n               accountId={accountId} \r\n               itemId={item.id}   \r\n               item={item}\r\n               />\r\n           \r\n            </Typography>\r\n               \r\n               <Typography \r\n                 variant=\"subtitle1\" \r\n                 color=\"textSecondary\" \r\n                 className={classes.descriptionDetail}>\r\n               {item.description}\r\n                <span \r\n                style={{\r\n                  whiteSpace:'nowrap'}}>:תיאור</span>\r\n              </Typography>\r\n               \r\n               <Typography \r\n                variant=\"subtitle2\" \r\n                color=\"textSecondary\" \r\n                className={classes.createdAtDetail}>\r\n                 {dayjs(parseInt(item.createdAt)).format('DD/MM/YYYY hh:mm:ss')} :נוצר  \r\n               </Typography>\r\n              \r\n               <Typography \r\n                variant=\"subtitle2\" \r\n                color=\"textSecondary\"\r\n                className={classes.updatedAtDetail}>\r\n                 {dayjs(parseInt(item.updatedAt)).fromNow()}&nbsp;<span>:עודכן</span> \r\n               </Typography>\r\n               \r\n              </div>\r\n              \r\n               </div>\r\n            </div>\r\n           \r\n         </Card>\r\n       \r\n         </Badge>\r\n    )\r\n}\r\n\r\nexport default Index\r\n","import React from 'react';\r\nimport Lightbox from 'react-image-lightbox';\r\nimport 'react-image-lightbox/style.css'; // This only needs to be imported once in your app\r\nimport { useSelector } from 'react-redux';\r\nimport { useParams } from 'react-router';\r\nimport history from '../../../util/history';\r\n \r\n\r\n\r\nfunction Index() {\r\n const params = useParams()\r\n const ImageUrl = useSelector(state => state.uiReducer.LightBoxImage.ImageUrl) \r\n const open = window.location.pathname === `/matualAccounts/${params && params.accountId}/showImage` && ImageUrl    \r\n \r\n  return (\r\n      <div>\r\n        {open && (\r\n          <Lightbox\r\n            mainSrc={ImageUrl && ImageUrl}\r\n            onCloseRequest={() => history.goBack()}\r\n           />\r\n        )}\r\n      </div>\r\n    );\r\n  \r\n}\r\n\r\nexport default Index\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport {makeStyles, withStyles } from '@material-ui/core/styles';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport {CircularProgress, Fab, Paper, Slide } from '@material-ui/core';\r\nimport {Link, useParams } from 'react-router-dom';\r\nimport {useMutation } from '@apollo/client';\r\nimport gql from 'graphql-tag'\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport { useSelector } from 'react-redux';\r\nimport history from '../../../util/history';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nconst CssTextField = withStyles({\r\n  root: {\r\n    '& label.Mui-focused': {\r\n      color: 'white',\r\n    },\r\n   '& .MuiInput-underline:after': {\r\n      borderBottomColor: 'white',\r\n    },\r\n    '& .MuiOutlinedInput-root': {\r\n      '& fieldset': {\r\n        borderColor: 'white',\r\n      },\r\n      '&:hover fieldset': {\r\n        borderColor: 'white',\r\n      },\r\n      '&.Mui-focused fieldset': {\r\n        borderColor: 'white',\r\n      },\r\n    },\r\n  },\r\n})(TextField);\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n   search: {\r\n    position: 'relative',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: (theme.palette.common.white, 0.15),\r\n    '&:hover': {\r\n      backgroundColor: (theme.palette.common.white, 0.25),\r\n    },\r\n    marginLeft: 0,\r\n   \r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing(1),\r\n      width: 'auto',\r\n    },\r\n  },\r\n  searchIcon: {\r\n    padding: theme.spacing(0, 2),\r\n    height: '100%',\r\n    position: 'absolute',\r\n    curser:'pointer',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    color:'white',\r\n    zIndex:15\r\n    \r\n\r\n  },\r\n  inputRoot: {\r\n    color: 'white',\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    // vertical padding + font size from searchIcon\r\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n    transition: theme.transitions.create('width'),\r\n    \r\n\r\n    width: '100%',\r\n    \r\n    [theme.breakpoints.up('sm')]: {\r\n      width: '12ch',\r\n      \r\n      \r\n      '&:focus': {\r\n        width: '20ch',\r\n      },\r\n    },\r\n  },\r\n  FabSearch:{\r\n    position:'fixed',\r\n    left:theme.spacing(2),\r\n    bottom:theme.spacing(1),\r\n    zIndex:3,\r\n  \r\n  },\r\n  paper:{\r\n    width:'100%', \r\n    height:'50px',\r\n    position:'fixed',\r\n    display:'flex',\r\n    alignItems:'center',\r\n    justifyContent:'center',\r\n    top:0, \r\n    zIndex:14, \r\n    borderRadius:0,\r\n    backgroundColor:theme.palette.primary.main\r\n\r\n  },\r\n  closeIndicator:{\r\n    color: 'white',\r\n  },\r\n  SearchField:{\r\n   color: 'white',\r\n   fontFamily:'Varela Round',\r\n   \"& .MuiOutlinedInput-notchedOutline\": {\r\n    borderWidth: '2px',\r\n    borderColor: \"blue\"\r\n  },\r\n  \"&:hover .MuiOutlinedInput-notchedOutline\": {\r\n    borderWidth: \"2px\",\r\n    borderColor: \"blue\"\r\n  },\r\n  \"&.Mui-focused .MuiOutlinedInput-notchedOutline\": {\r\n    borderWidth: \"2px\",\r\n    borderColor: \"blue\"\r\n  }\r\n  }\r\n}));\r\n\r\n\r\n\r\n  \r\n\r\nexport default function SearchAppBar() {\r\n  const classes = useStyles();\r\n  const [OnBlur, setOnBlur] = React.useState(false)\r\n  const params = useParams()\r\n  const accountId = params.accountId\r\n  const open = window.location.pathname === `/matualAccounts/${accountId}/search`\r\n\r\n  const [searchQuery, setSearchQuery] = React.useState(\"\")\r\n const accountIdReducer = useSelector(state => state.uiReducer.getCurrentAccountUi)\r\n const [options, setOptions] = React.useState([])\r\nlet input = React.useRef()\r\n \r\n\r\n\r\n React.useEffect(() => {\r\n   if(open){\r\n     input.focus()\r\n      \r\n   }else{\r\n    input.blur();\r\n   }\r\n \r\n \r\n   if(accountIdReducer){\r\n   \r\n const unic =  accountIdReducer.list.filter((v,i,a)=>a.findIndex(t=>(t.title === v.title))===i)\r\n const filterdTitle = unic.map(item => item.title) \r\n  console.log(filterdTitle);\r\n  setOptions(filterdTitle)\r\n \r\n  }\r\n\r\n },[accountIdReducer,open])\r\n\r\n\r\n\r\n   const [searchItem,{data, loading}] = useMutation(SEARCH_ITEMS,{\r\n     variables:{\r\n      searchQuery,\r\n      accountId\r\n     },\r\n     update:(proxy, result) => {\r\n      const data = proxy.readQuery({\r\n        query: GET_USER_ACCOUNT,\r\n        variables:{\r\n          accountId\r\n        }\r\n        });\r\n      \r\n        data.getUserMatualAccount = result.data.searchMatualItem\r\n       \r\n   \r\n      proxy.writeQuery({ query: GET_USER_ACCOUNT,data});\r\n     },\r\n     onCompleted:(data) => {\r\n      console.log(data);\r\n     },\r\n     onError:(err) => console.log(err)\r\n   })\r\n\r\n  \r\n  return (\r\n    <div >\r\n    \r\n    <Fab  \r\n     disableFocusRipple \r\n     disableRipple\r\n     component={Link}  \r\n     to={`/matualAccounts/${params.accountId}/search`}\r\n     className={classes.FabSearch} \r\n     size=\"medium\" \r\n     color=\"primary\" \r\n     aria-label=\"search\" >\r\n     {open ?<IconButton disableFocusRipple disableRipple style={{color:'white'}} onClick={() => history.goBack()}><CloseIcon /></IconButton> : <SearchIcon/>}\r\n    </Fab>\r\n      \r\n      <Slide in={open}>\r\n     <Paper className={classes.paper}> \r\n         <div  className={classes.search}>\r\n            <Autocomplete\r\n                id=\"grouped-demoAItem928398\"\r\n                classes={{inputRoot:classes.SearchField,clearIndicator:classes.closeIndicator,popupIndicatorOpen:classes.closeIndicator}}\r\n                options={options}\r\n                loading={loading}\r\n                inputMode=\"search\"\r\n                getOptionLabel={(option) =>  option  ? option : '' }\r\n                style={{ width: 300 }}\r\n                renderInput={(params) => <CssTextField \r\n                  {...params} \r\n                value={searchQuery}\r\n                placeholder=\"Search...\" \r\n                inputRef={ (el) => input = el}\r\n                variant=\"standard\" \r\n                InputProps={{\r\n                  ...params.InputProps,\r\n                  endAdornment: (\r\n                    <React.Fragment>\r\n                      {loading ? <CircularProgress color=\"inherit\" size={20} /> : null}\r\n                      {params.InputProps.endAdornment}\r\n                    </React.Fragment>\r\n                  ),\r\n                }}\r\n                />}\r\n                onSelect={() => searchItem()}\r\n                 onChange={(val,value,res) =>{\r\n                  if(value){\r\n                  setSearchQuery(value)\r\n                  \r\n                  }else{\r\n                    setSearchQuery('') \r\n                }\r\n               \r\n              }}\r\n            />\r\n          </div>\r\n     </Paper>\r\n      </Slide>\r\n</div>\r\n  );\r\n}\r\n\r\n\r\nconst SEARCH_ITEMS = gql`\r\n\r\nmutation searchMatualItem($searchQuery:String!, $accountId:ID!){\r\n   searchMatualItem(searchQuery:$searchQuery,accountId:$accountId){\r\n    title\r\n    id\r\n    owner\r\n    list{\r\n      id\r\n      title\r\n      description\r\n      media\r\n      amount\r\n      createdAt\r\n      updatedAt\r\n     }\r\n    }\r\n  }\r\n\r\n\r\n`;\r\n\r\nconst GET_USER_ACCOUNT = gql`\r\n\r\nquery($accountId:ID!){\r\n        getUserMatualAccount(accountId:$accountId){\r\n            title\r\n            id\r\n            owner\r\n            list{\r\n              id\r\n              title\r\n              description\r\n              media\r\n              amount\r\n              createdAt\r\n              updatedAt\r\n            }\r\n        }  \r\n      }\r\n\r\n\r\n`;\r\n\r\n\r\n","import React from 'react'\r\nimport Layout from '../../components/Layout'\r\nimport {useSelector, useDispatch} from 'react-redux'\r\nimport { makeStyles} from '@material-ui/core/styles';\r\nimport { Container, IconButton} from '@material-ui/core';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport AddItemModal from '../../matualAccounts/components/AddItemModal';\r\nimport UpdateItemModal from '../../matualAccounts/components/UpdateItemModal';\r\nimport {SET_Current_Account_Ui } from '../../Redux/actionTypes';\r\nimport CloseRoundedIcon from '@material-ui/icons/CloseRounded';\r\nimport {useQuery} from '@apollo/react-hooks'\r\nimport gql from 'graphql-tag'\r\nimport {animateScroll} from 'react-scroll'\r\nimport Badge from '@material-ui/core/Badge';\r\nimport StatisticButton from '../../matualAccounts/components/SingleAccountStatisButton';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport NumericLabel from 'react-pretty-numbers';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport SingleItem from '../../matualAccounts/components/SingleItemMatualAccount'\r\nimport history from '../../util/history';\r\nimport { Link,useParams } from 'react-router-dom';\r\nimport ImageModal from '../../matualAccounts/components/ImageModal'\r\nimport SearchButton from '../../matualAccounts/components/SearchMatualItemsButton' \r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      height:'100vh',\r\n      margin:'0 auto',\r\n      textAlign:'center',\r\n      zIndex:0\r\n    \r\n\r\n    },\r\n\r\n    wrapper:{\r\n        position:'absolute',\r\n        display:'flex',\r\n        flexDirection:'column',\r\n        alignItems:'center',\r\n        height:'calc(100% - 60px)',\r\n        width:'100%',\r\n         \r\n    },\r\n    details: {\r\n      display: 'flex',\r\n      width:'100%',\r\n      height:'fit-content',\r\n     \r\n\r\n    },\r\n    content: {\r\n     display:'flex',\r\n     width:'100%',\r\n     height:'100%',\r\n     \r\n\r\n    \r\n    },\r\n    cover: {\r\n     zIndex:3, \r\n     width: '10%',\r\n      position:'absolute',\r\n      right:'130px'\r\n\r\n    },\r\n    controls: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      paddingLeft: theme.spacing(1),\r\n      paddingBottom: theme.spacing(1),\r\n    },\r\n  \r\n\r\n    bgImage:{\r\n        position:'absolute',\r\n        background:`rgba(0, 0, 0, .30) url(https://creditkarma-cms-ca.imgix.net/wp-content/uploads/sites/2/2020/08/50-30-20-rule932275488.jpg?w=1024&auto=compress) no-repeat center center`,\r\n        filter: 'blur(5px)',\r\n        width: '100%',\r\n        height:'100vh',\r\n        backgroundSize:'cover',\r\n        backgroundBlendMode: \"darken\",\r\n        zIndex:0 \r\n      },\r\n    \r\n\r\n    itemCard:{\r\n      display:'flex',\r\n      justifyContent:'center',\r\n      width:'100%',\r\n      height:'fit-content'\r\n      },\r\n\r\n    MainCard:{\r\n         marginTop:'60px',\r\n        justifyContent:'center',\r\n        display:'flex',\r\n        alignItems:'center,'\r\n        \r\n         },\r\n    \r\n    spending:{\r\n        display:'flex',\r\n        width:'100%',\r\n        flexDirection:'column',\r\n        background:'#242333',\r\n        color:'white',\r\n        whiteSpace:'nowrap',\r\n       \r\n       \r\n      },\r\n\r\n\r\n      earning:{\r\n        display:'flex',\r\n        width:'100%',\r\n        alignItems:'center',\r\n        flexDirection:'column',\r\n        background:'#242333',\r\n        color:'white',\r\n        whiteSpace:'nowrap',\r\n       \r\n      },\r\n\r\n      column1:{\r\n        display:'flex',\r\n        width:'100%',\r\n        justifyContent:'flex-start',\r\n        flexDirection:'column',\r\n        \r\n      },\r\n\r\n      column2:{\r\n        display:'flex',\r\n        width:'30%',\r\n        alignItems:'center',\r\n        flexDirection:'column',\r\n        \r\n      },\r\n\r\n      ItemsWrapper:{\r\n          width:'100%',\r\n          height: 'calc(100vh - calc(100vh - 80%))',\r\n          overflowY:'scroll',\r\n          \r\n       },\r\n       \r\n       customBadgePlus: {\r\n        backgroundColor: \"#43a047\",\r\n        color: \"white\",\r\n        fontSize:'16px',\r\n        fontWeight:'bold',\r\n        fontFamily:'Varela Round'\r\n      },\r\n      customBadgeMinus: {\r\n        backgroundColor: \"#d50000\",\r\n        color: \"white\",\r\n        fontSize:'16px',\r\n        fontWeight:'bold',\r\n        fontFamily:'Varela Round',\r\n       \r\n      },\r\n      \r\n      addImageBadge:{\r\n        '&.MuiBadge-anchorOriginBottomLeftRectangle': {\r\n           transform:'translate(-20%, -10%)',\r\n          }\r\n      },\r\n\r\n      amountDetail:{\r\n        display:'flex',\r\n        justifyContent:'center', \r\n        alignItems:'center',\r\n        whiteSpace:'nowrap', \r\n        wordBreak:'keep-all', \r\n        paddingLeft:'calc(100% - 60px)',\r\n        [theme.breakpoints.up('sm')]:{\r\n          paddingLeft:0,\r\n          \r\n        }\r\n\r\n       \r\n        \r\n      },\r\n     \r\n      descriptionDetail:{\r\n        display:'flex',\r\n        lineClamp:'2', \r\n        boxOrient:'vertical',\r\n        justifyContent:'flex-end',\r\n        margin:'2px 4% 15px 2px',\r\n        wordBreak:'break-word',\r\n        whiteSpace:'break-spaces'\r\n      },\r\n      \r\n       createdAtDetail:{\r\n        position:'sticky',\r\n        display:'flex',\r\n        justifyContent:'flex-end',\r\n        top:'95%',\r\n        zIndex:0,\r\n        margin:'2px 3% 2px 2px'\r\n       },\r\n\r\n       titleDetail:{\r\n        display:'flex',\r\n        justifyContent:'flex-end',\r\n        margin:'2px 1% 2px 2px',\r\n       fontFamily:'Varela Round'\r\n       },\r\n\r\n       Fab:{\r\n        position:'relative',\r\n        margin:'0 auto',\r\n        display:'flex',\r\n        background:'transparent',\r\n        border:'white solid 2px',\r\n        \r\n       },\r\n       FabWrapper:{\r\n        position:'fixed',\r\n        bottom:0,\r\n        width:'100%',\r\n        minHeight:'10vh', \r\n        zIndex:3, \r\n        display:'flex', \r\n        flex:'wrap',\r\n        justifyContent:'center', \r\n        alignItems:'center'\r\n       }\r\n      \r\n     \r\n\r\n  }));\r\n\r\n\r\n  \r\n  \r\n\r\n\r\nfunction Index({match}) {\r\n  \r\n   const dispatch = useDispatch()\r\n    const classes = useStyles()\r\n   const params = useParams()\r\n   const ModalIsOpen = window.location.pathname === `/matualAccounts/${match.params.accountId}/addItem`\r\n   const accountId = match.params.accountId\r\n   const user = useSelector(state => state.userReducer.userDetails)\r\n   \r\n   let SumEarningstas; \r\n   let SumSpendingstas;\r\n\r\n   \r\n \r\n   const {data, loading, subscribeToMore} = useQuery(GET_USER_MATUAL_ACCOUNT,{variables:{accountId}, \r\n   onCompleted:() => scrollToBottom(), \r\n   onError:(err) => history.goBack(),\r\n  })\r\n\r\n  React.useLayoutEffect(() => {\r\n    let unsubscribe;\r\n\r\n   if(!ModalIsOpen){\r\n      unsubscribe = subscribeToMore({\r\n        document:ITEM_CHANGED_SUBS,\r\n        updateQuery:(prev, {subscriptionData}) => {\r\n          if(!subscriptionData.data) return prev\r\n          const newList = subscriptionData.data.itemChangedSubs\r\n          console.log(\"compare length\", newList.list.length,prev.getUserMatualAccount.list.length);\r\n          return Object.assign({}, prev, {\r\n            getUserMatualAccount: {newList, ...prev.getUserMatualAccount}\r\n            });\r\n         },\r\n      })\r\n           \r\n      unsubscribe = subscribeToMore({\r\n        document:ACCOUNT_CHANGED_SUBS,\r\n        updateQuery:(prev, {subscriptionData}) => {\r\n          const updatedAccounts = subscriptionData.data.accountChangedSubs\r\n          const filteredUpdatedAccounts = user && updatedAccounts.filter(item => item.members.find(i =>  i.userId === user.id && i.isConfirmed === true) || item.owner === user.id);\r\n          if (!filteredUpdatedAccounts) return prev\r\n          const accountExist = filteredUpdatedAccounts.find(ac => ac.id === accountId)\r\n          return accountExist ? Object.assign({}, prev, {\r\n            getUserMatualAccounts: updatedAccounts.reverse()\r\n            }) : window.location.href = '/matualAccounts'\r\n         }\r\n      }) \r\n    }\r\n    \r\n    if (unsubscribe) return () => unsubscribe()\r\n\r\n\r\n},[ModalIsOpen, subscribeToMore,accountId, user])\r\n\r\n \r\n   \r\n\r\n   React.useEffect(() => {\r\n  if(data){\r\n     dispatch({type:SET_Current_Account_Ui, payload:data.getUserMatualAccount})\r\n  }\r\n\r\n },[data, dispatch])\r\n\r\n\r\n\r\n   \r\n\r\n   function getEarningLength(data){\r\n    const result = data.filter(i => i.amount > 0).length\r\n    return result\r\n  }\r\n\r\n  function getSpendingLength(data){\r\n    const result = data.filter(i => i.amount < 0).length\r\n    return result\r\n  }\r\n\r\n\r\n   function getSumEearning(data){ \r\n       \r\n     const result = data.filter(i => i.amount > 0).reduce((acc, val) => (acc + val.amount),0)\r\n       \r\n     SumEarningstas = result   \r\n     \r\n     return Number.isInteger(result) ? result : result.toFixed(2);\r\n   }\r\n\r\n   function getSumSpending(data){\r\n    \r\n   const result = data.filter(i => i.amount < 0).reduce((a, b) => (a + b.amount),0)\r\n    \r\n  SumSpendingstas = result\r\n  \r\n  return Number.isInteger(result) ? result : result.toFixed(2);\r\n}\r\n \r\nfunction scrollToBottom() {\r\n    animateScroll.scrollToBottom({\r\n      containerId: \"containerScroll\",\r\n      delay:250\r\n    });\r\n\r\n    \r\n}\r\n\r\n//Number Format Options\r\nconst FormatOptions = {\r\n  'justification':'L',\r\n  'locales':'en-AU',\r\n  'currency':false,\r\n  'currencyIndicator':'AUD',\r\n  'percentage':false,\r\n  'precision':0,\r\n  'wholenumber':null,\r\n  'commafy':true,\r\n  'shortFormat':true,\r\n  'shortFormatMinValue': 1000000,\r\n  'shortFormatPrecision': 2,\r\n  'title':true,\r\n  \r\n};\r\n\r\n\r\n\r\n\r\n   return (\r\n       <Layout> \r\n         <div className={classes.bgImage}></div>\r\n         <div className={classes.root}>\r\n         \r\n         <div className={classes.wrapper}>\r\n         \r\n         <Container fixed maxWidth='sm' className={classes.MainCard}>\r\n         \r\n        \r\n         <div className={classes.spending}>\r\n         \r\n          { data && getSumSpending(data.getUserMatualAccount.list) < 0  ? (<> <h2 \r\n          \r\n          style={{\r\n            display:'flex',\r\n            justifyContent:'center', \r\n            textDecoration:'underline', \r\n            margin:0}} >\r\n         <Badge  \r\n         classes={{ badge:classes.customBadgeMinus}}\r\n         showZero={false}\r\n         badgeContent={data ? getSpendingLength(data.getUserMatualAccount.list): 0}  \r\n         style={{marginTop:'12px'}}\r\n         anchorOrigin={{\r\n          vertical: 'top',\r\n         horizontal: 'left',\r\n         }}>\r\n        הוצאות\r\n        </Badge>\r\n        </h2>\r\n        <Tooltip \r\n        title={<NumericLabel>{-Math.abs(getSumSpending(data.getUserMatualAccount.list))}</NumericLabel>} \r\n        placement='bottom'>\r\n         <h2 \r\n         style={{\r\n          display:'flex',\r\n          justifyContent:'center', \r\n          margin:'0px'}}>₪ -{data ?\r\n           <NumericLabel params={FormatOptions}>{Math.abs(getSumSpending(data.getUserMatualAccount.list))}</NumericLabel> \r\n            : 0}</h2></Tooltip></> ) : <h2>אין הוצאות</h2> }\r\n         </div>\r\n          \r\n         <div className={classes.earning}>\r\n        {data && getSumEearning(data.getUserMatualAccount.list) > 0 ? (<> <h2 \r\n         style={{\r\n           display:'flex',\r\n           justifyContent:'center',\r\n           margin:0,\r\n           textDecoration:'underline'}}>\r\n        <Badge  \r\n         classes={{ badge:classes.customBadgePlus}}\r\n         showZero={false}\r\n         badgeContent={data ? getEarningLength(data.getUserMatualAccount.list): 0} \r\n         style={{marginTop:'12px'}}\r\n         anchorOrigin={{\r\n          vertical: 'top',\r\n          horizontal: 'left',\r\n         }}>\r\n        הכנסות\r\n        </Badge>\r\n             </h2> \r\n         <Tooltip \r\n         title={<NumericLabel>{getSumEearning(data.getUserMatualAccount.list)}</NumericLabel>}\r\n         placement='bottom'\r\n         >\r\n         <h2 \r\n         style={{\r\n           display:'flex',\r\n           justifyContent:'center', \r\n           margin:0}} >₪ {data ? \r\n           <NumericLabel params={FormatOptions}>\r\n             {getSumEearning(data.getUserMatualAccount.list)}\r\n           </NumericLabel> : 0}</h2></Tooltip> </>) : <h2>אין הכנסות</h2>}\r\n         </div>\r\n               \r\n         \r\n       </Container> \r\n        \r\n       \r\n       <Container fixed maxWidth=\"sm\" className={classes.ItemsWrapper} id=\"containerScroll\">\r\n\r\n        {loading && (<CircularProgress style={{marginTop:'50px'}} color='primary' size={200} thickness={0.5}/>)}\r\n\r\n        {data && data.getUserMatualAccount.list.map((item) => (\r\n         \r\n         <SingleItem \r\n         key={item.id}\r\n         item={item}\r\n         accountId={accountId}\r\n         ownerName={data.getUserMatualAccount.ownerName}\r\n         />\r\n        ))}\r\n      \r\n       <div/>\r\n       \r\n    </Container>\r\n   \r\n    \r\n   \r\n    <div className={classes.FabWrapper}>  \r\n    <Fab \r\n     disableFocusRipple={true}  \r\n    size=\"medium\" \r\n    className={classes.Fab} \r\n    color='primary' \r\n     aria-label=\"add\">\r\n      {ModalIsOpen ? \r\n      \r\n      <CloseRoundedIcon style={{color:'white', padding:'10px 10px'}} onClick={() => history.goBack()}  /> :  \r\n      <IconButton style={{color:'white'}} component={Link} to={`/matualAccounts/${accountId}/addItem`}><AddIcon  /></IconButton> \r\n     } \r\n      </Fab> \r\n      \r\n      </div>\r\n                  \r\n    </div>\r\n    \r\n    \r\n     \r\n   </div>   \r\n   \r\n\r\n    <SearchButton/>\r\n\r\n     <StatisticButton \r\n      totalSpending={SumSpendingstas} \r\n      totalEarning={SumEarningstas} />\r\n      \r\n      <AddItemModal accountId={accountId} scrollToBottom={scrollToBottom} /> \r\n      <UpdateItemModal accountId={accountId} />\r\n       <ImageModal/>\r\n       </Layout>\r\n       \r\n    )\r\n}\r\n\r\nexport default Index\r\n\r\n\r\nconst GET_USER_MATUAL_ACCOUNT = gql`\r\n\r\nquery($accountId:ID!){\r\n        getUserMatualAccount(accountId:$accountId){\r\n            title\r\n            id\r\n            owner\r\n            ownerName\r\n            list{\r\n              id\r\n              title\r\n              description\r\n              media\r\n              amount\r\n              createdAt\r\n              updatedAt\r\n            }\r\n        }  \r\n      }\r\n`;\r\n\r\nconst ITEM_CHANGED_SUBS = gql`\r\nsubscription itemChangedSubs{\r\n  itemChangedSubs{\r\n    title\r\n    id\r\n   owner\r\n   ownerName\r\n    list{\r\n    id\r\n    title\r\n    description\r\n    media\r\n    amount\r\n    createdAt\r\n    updatedAt\r\n    }\r\n  }\r\n}\r\n`;\r\n\r\n\r\nconst ACCOUNT_CHANGED_SUBS = gql`\r\nsubscription accountChangedSubs{\r\n  accountChangedSubs{\r\n    id\r\n    createdAt\r\n    updatedAt\r\n    owner\r\n    ownerName\r\n    title\r\n    members {\r\n      userId  \r\n      isConfirmed\r\n      isIgnored\r\n    \r\n  }\r\n    \r\n  }\r\n}\r\n`;","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport {Splash} from './SpalshElements'\r\nimport './style.css'\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    height:'100vh',\r\n    width: '100%',\r\n  },\r\n\r\n  \r\n}));\r\n\r\nexport default function LinearIndeterminate() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n  <div className='background'>\r\n   <div className=\"logo\">\r\n     BudgeX\r\n   </div>\r\n   <div className=\"loader\">\r\n  <div className=\"wrapper\">\r\n    <span></span>\r\n    <span></span>\r\n    <span></span>\r\n    <span></span>\r\n    <span></span>\r\n    \r\n    \r\n  </div>\r\n</div>\r\n </div>\r\n  );\r\n}\r\n\r\n","import styled from 'styled-components'\r\n\r\nexport const Splash = styled.div`\r\n    position: absolute;\r\n    bottom:0;\r\n    top:0;\r\n    left:0;\r\n    right:0;\r\n    background-image:url(\"https://cdn.pixabay.com/photo/2015/07/09/22/45/tree-838667_1280.jpg\");\r\n    background-repeat:no-repeat;\r\n    background-size:cover;\r\n    background-position:center center;\r\n    z-index:14;\r\n    width: 100%;\r\n    height: 100vh;\r\n    \r\n`;  ","import React,{useEffect} from 'react'\nimport './App.css';\nimport {Switch, Route} from 'react-router-dom';\nimport AuthRoute from './util/AuthRoute'\nimport HomePage from './pages/HomePage'\nimport UserPage from './pages/UserPage/Index'\nimport PageNotFound from './pages/PageNotFound'\nimport SingleAccount from './pages/SingleAccountPage'\nimport SingleMatualAccount from './pages/SingleMatualAccountPage'\nimport { useQuery } from '@apollo/react-hooks';\nimport gql from 'graphql-tag';\nimport {useSelector, useDispatch} from 'react-redux'\nimport {SET_USER, SET_USER_LOGOUT } from './Redux/actionTypes';\nimport history from './util/history';\nimport SplashScreen from './components/SplashScreen'\n\n\nfunction App() {\n  // const user = useSelector(state => state.userReducer)\n  /* document.body.style.overflow = \"hidden\" */\n  console.log = () => {} \n \n  const {data, loading} = useQuery(GET_USER_STATE);\n  const dispatch = useDispatch()\n  \n  \n\nuseEffect(() => {\n if(data){\n   if(data.getUserState){\n    dispatch({type:SET_USER, payload:data.getUserState})\n  }else if(!document.cookie.split('id2=')[1] || !localStorage.getItem(\"id\")){\n    dispatch({type:SET_USER_LOGOUT})\n    localStorage.clear()\n    history.push('/')\n   }else{\n    dispatch({type:SET_USER_LOGOUT})\n    localStorage.clear()\n    history.push('/') \n   }\n }  \n  },[data,dispatch])   \n \n  if(loading){\n    return (<SplashScreen/>)\n  }\n\n// console.log(\"APP\", user);\n\n\n\n  return (\n    \n    <div className=\"App\">\n    \n     <Switch>\n     <Route exact path=\"/\" component={HomePage}/>\n\n     <Route exact path=\"/login\" component={HomePage}/>\n     <Route exact path=\"/register\" component={HomePage}/>\n     \n    \n    {/* notifications Route */}\n    <AuthRoute exact path='/notifications'  component={UserPage} />\n    \n   \n\n    {/* profile Routs */}\n     <AuthRoute exact path='/profile'  component={UserPage} />\n     <AuthRoute exact path='/profile/edit'  component={UserPage} />\n    \n\n     {/* my Accounts Routs */}\n     <AuthRoute exact path='/myAccounts' component={UserPage} />\n     <AuthRoute exact path='/myAccounts/addAccount' component={UserPage}/>\n     <AuthRoute exact path='/myAccounts/deleteAccount/:accountId' component={UserPage}/>\n     <AuthRoute exact path='/myAccounts/updateAccount/:accountId' component={UserPage}/>\n     <AuthRoute exact path='/myAccounts/search'  component={UserPage}/>\n\n     <AuthRoute exact path='/myAccounts/:accountId'  component={SingleAccount} />\n     <AuthRoute exact path='/myAccounts/:accountId/addItem'  component={SingleAccount} />\n     <AuthRoute exact path='/myAccounts/:accountId/updateItem/:itemId'  component={SingleAccount} />\n     <AuthRoute exact path='/myAccounts/:accountId/deleteItem/:itemId'  component={SingleAccount} />\n     <AuthRoute exact path='/myAccounts/:accountId/statis'  component={SingleAccount} />\n     <AuthRoute exact path='/myAccounts/:accountId/showImage' component={SingleAccount} />\n     <AuthRoute exact path='/myAccounts/:accountId/search'  component={SingleAccount}/>\n\n\n     {/* my matualAccounts Routs */}\n     <AuthRoute exact path='/matualAccounts' component={UserPage} />\n     <AuthRoute exact path='/matualAccounts/addAccount'  component={UserPage}/>\n     <AuthRoute exact path='/matualAccounts/deleteAccount/:accountId'  component={UserPage}/>\n     <AuthRoute exact path='/matualAccounts/updateAccount/:accountId'  component={UserPage}/>\n     <AuthRoute exact path='/matualAccounts/LeaveAccount/:accountId'  component={UserPage}/>\n     <AuthRoute exact path='/matualAccounts/search'  component={UserPage}/>\n     <AuthRoute exact path='/matualAccounts/:accountId/ShowAccountFreinds'  component={UserPage}/>\n\n     <AuthRoute exact path='/matualAccounts/:accountId'  component={SingleMatualAccount} />\n     <AuthRoute exact path='/matualAccounts/:accountId/addItem'  component={SingleMatualAccount} />\n     <AuthRoute exact path='/matualAccounts/:accountId/updateItem/:itemId'  component={SingleMatualAccount} />\n     <AuthRoute exact path='/matualAccounts/:accountId/deleteItem/:itemId'  component={SingleMatualAccount} />\n     <AuthRoute exact path='/matualAccounts/:accountId/statis'  component={SingleMatualAccount} />\n     <AuthRoute exact path='/matualAccounts/:accountId/showImage'  component={SingleMatualAccount} />\n     <AuthRoute exact path='/matualAccounts/:accountId/search'  component={SingleMatualAccount}/>\n    \n    \n     <Route component={PageNotFound}/>\n     </Switch>\n   </div>\n \n  );\n}\n\nexport default App;\n\nconst GET_USER_STATE = gql`\n{\n    getUserState{\n      email\n      id\n      username\n      profileImageUrl\n    }\n  }\n\n\n`;\n\n\n\n\n\n\n\n\n","import {SET_USER, SET_USER_LOGOUT} from '../actionTypes'\r\n       \r\nconst InitialState = {\r\n    isAuthenticated:false,\r\n    userDetails:null\r\n}\r\n\r\n\r\nexport function userReducer( state=InitialState, action){\r\n          switch(action.type){\r\n             case SET_USER:\r\n                 return{\r\n                     ...state,\r\n                     isAuthenticated:true,\r\n                     userDetails:action.payload,\r\n                 }\r\n                 case SET_USER_LOGOUT:\r\n                 return{\r\n                     ...state,\r\n                     isAuthenticated:false,\r\n                     userDetails:null,\r\n                 }\r\n\r\n                 default:\r\n                     return state;\r\n          }\r\n}\r\n\r\n\r\n\r\n","import {\r\n        SET_AddItem_Modal_Open,\r\n        SET_Current_Account_Ui,\r\n        SET_UpdateItem_Modal_Open,\r\n        SET_UpdateAccount_Modal_Open,\r\n        SET_LightBoxImage,\r\n        SET_NotificationsCount\r\n    \r\n    } from '../actionTypes'\r\n\r\n\r\n\r\nconst InitialState = {\r\n    AccountModalIsOpen:false,\r\n    MatualAccountIsOpen:false,\r\n    ModalProfileIsOpen:false,\r\n    bgSingleAccount:'',\r\n    AddItemModalIsOpen:false,\r\n    getCurrentAccountUi:null,\r\n    UpdateItemModalIsOpen:{\r\n        isOpen:false,\r\n        itemDetails:null\r\n    },\r\n    UpdateAccountModalIsOpen:{\r\n        isOpen:false,\r\n        accountDetails:null,\r\n       \r\n    },\r\n\r\n    LightBoxImage:{\r\n        ImageUrl:''\r\n    },\r\n\r\n    NotificationsCount:{\r\n       Badge:0\r\n    }\r\n\r\n}\r\n\r\nexport function uiReducer(state = InitialState, action){\r\n    switch(action.type){\r\n       \r\n                      case SET_AddItem_Modal_Open:\r\n                    return {\r\n                           ...state,\r\n                           AddItemModalIsOpen:!state.AddItemModalIsOpen\r\n                       } \r\n                       case SET_UpdateItem_Modal_Open:\r\n                        return {\r\n                               ...state,\r\n                               UpdateItemModalIsOpen:{\r\n                                isOpen:!state.UpdateItemModalIsOpen.isOpen,\r\n                                itemDetails:action.payload\r\n                               }\r\n                             } \r\n                             case SET_UpdateAccount_Modal_Open:\r\n                        return {\r\n                               ...state,\r\n                               UpdateAccountModalIsOpen:{\r\n                                isOpen:!state.UpdateAccountModalIsOpen.isOpen,\r\n                                accountDetails:action.payload,\r\n                                \r\n                               }\r\n                             } \r\n\r\n                             case SET_LightBoxImage:\r\n                                return {\r\n                                       ...state,\r\n                                       LightBoxImage:{\r\n                                        ImageUrl:action.payload\r\n                                        }\r\n                                     } \r\n                       \r\n                       case SET_Current_Account_Ui:\r\n                        return {\r\n                               ...state,\r\n                               getCurrentAccountUi: action.payload\r\n                           }\r\n\r\n                           case SET_NotificationsCount:\r\n                        \r\n                        return {\r\n                               ...state,\r\n                               NotificationsCount:{\r\n                                Badge:action.payload\r\n                               }\r\n                           }\r\n                           \r\n                           \r\n\r\n              default:\r\n                  return state\r\n            }          \r\n}","import {combineReducers} from 'redux'\r\nimport {userReducer} from './userReducer'\r\nimport {uiReducer} from './uiReducer'\r\nexport const rootReducers = combineReducers({userReducer,uiReducer});","import {createStore} from 'redux'\r\nimport {rootReducers} from './reducers'\r\nexport const store = createStore(\r\n    rootReducers,\r\n     window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n    )","import React from 'react';\r\nimport App from './App';\r\nimport ApolloClient from 'apollo-client';\r\nimport { InMemoryCache } from 'apollo-cache-inmemory';\r\nimport { ApolloProvider } from '@apollo/react-hooks';\r\nimport {Provider} from 'react-redux'\r\nimport {store} from './Redux/Store'\r\nimport {Router} from 'react-router-dom';\r\nimport history from './util/history'\r\nimport {WebSocketLink} from '@apollo/client/link/ws'\r\nimport { getMainDefinition } from '@apollo/client/utilities';\r\nimport {split} from '@apollo/client'\r\nimport { HttpLink } from '@apollo/client'\r\nimport { ThemeProvider } from '@material-ui/core/styles';\r\nimport {createMuiTheme} from '@material-ui/core'\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      light: '#757ce8',\r\n      main: '#17395C',\r\n      dark: '#002884',\r\n      contrastText: '#fff',\r\n    },\r\n    secondary: {\r\n      light: '#ff7961',\r\n      main: '#DC143C',\r\n      dark: '#ba000d',\r\n      contrastText: '#fff',\r\n    },\r\n    notification:{\r\n     main: '#fa3e3e',\r\n     light:'whitesmoke'\r\n    },\r\n\r\n    appColor:{\r\n      main:'#242333'\r\n    }\r\n    \r\n  },\r\n});\r\n\r\n\r\nconst httpLink = new HttpLink({\r\n  uri: process.env.REACT_APP_SERVER_URL,\r\n  credentials:'include',\r\n});\r\n\r\n\r\nconst wsLink = new WebSocketLink({\r\n  uri: process.env.REACT_APP_WSS_SERVER_URL, //wss in production\r\n  options: {\r\n    reconnect: true\r\n  }\r\n});\r\n\r\nconst splitLink = split(\r\n  ({ query }) => {\r\n    const definition = getMainDefinition(query);\r\n    return (\r\n      definition.kind === 'OperationDefinition' &&\r\n      definition.operation === 'subscription'\r\n    );\r\n  },\r\n  wsLink,\r\n  httpLink,\r\n);\r\n\r\nconst client = new ApolloClient({\r\n   \r\n    link: splitLink,\r\n    cache: new InMemoryCache(),\r\n  });\r\n\r\n\r\n\r\nexport default (\r\n  <ApolloProvider client={client}>\r\n    <Provider store={store}>\r\n    <Router history={history}>\r\n    <ThemeProvider theme={theme}>\r\n     <App />\r\n    </ThemeProvider>\r\n    </Router>\r\n   </Provider>\r\n  </ApolloProvider>\r\n);\r\n","import ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport ApolloProvider from './ApolloProvider';\n\nReactDOM.render(\n  ApolloProvider,\n    document.getElementById('root'));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}